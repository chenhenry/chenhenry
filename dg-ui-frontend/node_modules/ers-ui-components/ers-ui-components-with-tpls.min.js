/**
 * ers-ui-components - 
 * @version v0.5.0-DEV.20160527193114
 * @link http://ersgit.analytics.moodys.net/projects/ERSUI
 * @authors ERS UI Component Team
 * @license private
 */
"use strict";var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(e){return"number"==typeof e&&!isNaN(e)}function n(e){return"undefined"==typeof e||null===e||""===e}e.isNumber=t,e.isEmpty=n}(t=e.checks||(e.checks={}))}(t=e.utility||(e.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e._module=angular.module("ers.components.core.services",[])}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.checks;t.DEFAULT_VALIDATION_RULES=Object.freeze({REQUIRED:function(){return{key:"required",errorMessage:"This is a required input field."}},PATTERN:function(e){return{key:"pattern",errorMessage:"Bad entry. You must match the following pattern: "+e+"."}},MIN_LENGTH:function(e){return{key:"minlength",errorMessage:"The value entered is too short. Should contain more than "+e+" characters."}},MAX_LENGTH:function(e){return{key:"maxlength",errorMessage:"The value entered is too long. Should contain less than "+e+" characters."}},NUMBER:function(){return{key:"number",errorMessage:"Please enter a number."}},NUMBER_RANGE:function(e,t,o,r,i,s){var a="";return n.isNumber(e)&&n.isNumber(t)?a=o&&r?"The number is out of range. The number should be greater than "+e+" and less than "+t+".":o?"The number is out of range. The number should be greater than "+e+" and less than or equal to "+t+".":r?"The number is out of range. The number should be greater than or equal to "+e+" and less than "+t+".":"The number is out of range.The number should be greater than or equal to "+e+" and less than or equal to "+t+".":n.isNumber(e)?a=o?"The number should be greater than the min range constraint: "+e+".":"The number should be greater than or equal to the min range constraint: "+e+".":n.isNumber(t)&&(a=r?"The number should be less than the max range constraint:"+t+".":"The number should be less than or equal to the max range constraint:"+t+"."),i&&s?a=i+" "+s:i?a=i:s&&(a=s),{key:"range",errorMessage:a}},MODEL:function(){return{key:"model",errorMessage:"Unexpected value."}},DATE:function(){return{key:"date",errorMessage:"Please enter a date.",validator:function(e){return e&&!e.getDate?!1:!0}}},PARSE_DATE:function(){return{key:"parse",errorMessage:"Please enter a date."}},MIN_DATE:function(e,t){return{key:"min-date",errorMessage:"Entered date should not be earlier than the specified minimum date: "+t(),validator:function(t){if(!angular.isDate(e()))return!0;if(t&&e&&t.getTime){if(t.getFullYear()<e().getFullYear())return!1;if(t.getFullYear()===e().getFullYear()){if(t.getMonth()<e().getMonth())return!1;if(t.getMonth()===e().getMonth()&&t.getDate()<e().getDate())return!1}}return!0}}},MAX_DATE:function(e,t){return{key:"max-date",errorMessage:"Entered date should not be later than the specified maximum date: "+t(),validator:function(t){if(!angular.isDate(e()))return!0;if(t&&e()&&t.getTime){if(t.getFullYear()>e().getFullYear())return!1;if(t.getFullYear()===e().getFullYear()){if(t.getMonth()>e().getMonth())return!1;if(t.getMonth()===e().getMonth()&&t.getDate()>e().getDate())return!1}}return!0}}}})}(n=t.utility||(t.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e.KEY={LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,SPACE_BAR:32,ENTER:13,ESCAPE:27,TAB:9,BACKSPACE:8}}(t=e.utility||(e.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.bind=function(e,t,n){t&&t.split(" ").forEach(function(t){switch(t){case"mousedown":e.mousedown(n.toggle);break;case"click":e.click(n.toggle);break;case"hover":n.onTrigger&&e.mouseenter(n.onTrigger),n.onUntrigger&&e.mouseleave(n.onUntrigger);break;case"focus":n.onTrigger&&e.focus(n.onTrigger),n.onUntrigger&&e.blur(n.onUntrigger);break;default:e.on(t,n.onTrigger)}})},e.unBind=function(e,t,n){t&&t.split(" ").forEach(function(t){switch(t){case"mousedown":e.off("mousedown",n.toggle);break;case"click":e.off("click",n.toggle);break;case"hover":e.off("mouseenter",n.onTrigger).off("mouseleave",n.onUntrigger);break;case"focus":e.off("focus",n.onTrigger).off("blur",n.onUntrigger);break;default:e.off(t,n.onTrigger)}})},e}();e.TriggerBindUtil=t}(t=e.utility||(e.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.core",["ers.components.templates","ers.components.utility","ers.components.core.services"]),e.coreModule=angular.module("ers.components.core"),e.coreModule.config(["$animateProvider",function(t){e.coreModule.animateProvider=t}]),angular.module("ers.components.all",["ers.components.accordion","ers.components.passwordManagement","ers.components.chart","ers.components.checkbox","ers.components.contextmenu","ers.components.dropdown","ers.components.dropdownSelect","ers.components.icon","ers.components.label","ers.components.login","ers.components.modal","ers.components.navigation","ers.components.numberbox","ers.components.shell","ers.components.tabs","ers.components.textbox","ers.components.radio-buttons","ers.components.templates","ers.components.button","ers.components.calendar","ers.components.combobox","ers.components.layout","ers.components.tooltip","ers.components.popover","ers.components.panel","ers.components.grid","ers.components.file","ers.components.tree","ers.components.drawer","ers.components.form","ers.components.toolbar"])}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.utility.checks",[]),angular.module("ers.components.utility",["ers.components.utility.checks"]);var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"A",link:function(t,n,o){n.bind("keypress keydown",function(n){n.which===e.KEY.ENTER&&(t.$eval(o.ersEnter)(n),n.preventDefault())})}}}angular.module("ers.components.utility").directive("ersEnter",t)}(t=e.utility||(e.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(e){return{restrict:"A",link:function(t,n,o){"true"===o.ersFocusMe&&e(function(){n[0].focus()})}}}angular.module("ers.components.utility").directive("ersFocusMe",["$timeout",t])}(t=e.utility||(e.utility={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,n,o){this.$scope=e,this.$element=t,this.$attrs=n,this.$document=o}return e.prototype.link=function(e,t,n){t.addClass("ers-component")},e}();e.BaseController=t,t.$inject=["$scope","$document","$element"]}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,o,r){var i=this;void 0===r&&(r=void 0),e.call(this,t,n,o),n&&angular.isDefined(n)&&(this.$element[0].getErsComponent=function(){return i},t&&this.$scope.$on("destroy",function(){delete i.$element[0].getErsComponent})),this.$timeout=r,this.configureERSFocusDetection()}return __extends(t,e),t.prototype.configureERSFocusDetection=function(){var e=this;this.$element&&(this.$element.on("focusin",function(){e.$element.addClass("ers-focus")}),this.$element.on("focusout",function(){e.$element.removeClass("ers-focus")}))},t.prototype.getTooltipDelegate=function(e){return void 0===e&&(e=""),this.$element},Object.defineProperty(t.prototype,"ngDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),t}(e.BaseController);e.BaseComponent=t}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.accordion",["ers.components.core","ui.bootstrap.collapse"]);var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){function n(){return{restrict:"E",transclude:!0,templateUrl:"accordion/template/accordion-group-template.html",replace:!0,require:["^ersAccordion","ersAccordionGroup"],scope:{heading:"@",subheading:"@?",isOpen:"=?",ngDisabled:"=?"},bindToController:!0,controller:s,controllerAs:"vm",link:function(e,t,n,o){var r=o[0],i=o[1];r.addGroup(i),i.parent=r}}}function o(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^ersAccordionGroup",link:function(e,t,n,o,r){o.setHeadingTransclude(r(e,angular.noop))}}}function r(){return{require:"^ersAccordionGroup",transclude:!0,link:function(e,t,n,o){e.$watch("vm.headingTransclude",function(e){e&&(t.empty(),t.append(e))})}}}var i=e.components.core.BaseController;angular.module("ers.components.accordion").directive("ersAccordionGroup",n).directive("ersAccordionHeading",o).directive("ersAccordionHeadingTransclude",r);var s=function(e){function t(t){var n=this;e.call(this,t),t.$watch("vm.isOpen",function(e){e&&n.parent.closeOtherAccordions(n)}),t.$on("$destroy",function(e){n.parent.removeGroup(n)})}return __extends(t,e),t.prototype.setHeadingTransclude=function(e){this.headingTransclude=e},t.prototype.toggleOpen=function(){this.ngDisabled||this.parent.ngDisabled||(this.isOpen=!this.isOpen)},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e},enumerable:!0,configurable:!0}),t}(i);t.AccordionGroupComponent=s}(n=t.accordion||(t.accordion={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){function n(){return{restrict:"E",templateUrl:"accordion/template/accordion-template.html",transclude:!0,replace:!1,bindToController:!0,controller:r,controllerAs:"vm",scope:{ngDisabled:"=?",closeOthers:"=?"}}}var o=e.components.core.BaseComponent;angular.module("ers.components.accordion").directive("ersAccordion",n);var r=function(e){function t(t){e.call(this,t),this.groups=new Array}return __extends(t,e),t.prototype.closeOtherAccordions=function(e){this.closeOthers&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},t.prototype.addGroup=function(e){e.parent=this,this.groups.push(e)},t.prototype.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)},t}(o);t.AccordionComponent=r}(n=t.accordion||(t.accordion={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.button",["ers.components.core"]).directive("ersButton",function(){return{restrict:"E",templateUrl:"button/template/button-template.html",scope:{name:"@","class":"@",label:"@",type:"@",form:"@",ngDisabled:"=?",ngClass:"=?"},controllerAs:"ctrl",bindToController:!0,controller:o,transclude:!0}});var o=function(e){function t(t,n){e.call(this,t,n),this.type="button",this.rootElement=n[0],this.rootElement.classList.add("ers-button"),this.type=this.type||"button",this.$element.find("button").attr("type",this.type),this.updateClass()}return __extends(t,e),t.prototype.updateClass=function(){if(this.rootElement){var e=this.rootElement.querySelector("button");!this["class"]&&!this.ngClass||"primary"===this["class"]||"primary"===this.ngClass?(e.classList.remove("btn-default"),e.classList.add("btn-primary")):(e.classList.remove("btn-primary"),e.classList.add("btn-default")),this.rootElement.removeAttribute("type"),this.rootElement.removeAttribute("form"),this.rootElement.removeAttribute("name")}},t.prototype.onClick=function(e){this.disabled&&e.stopPropagation()},Object.defineProperty(t.prototype,"ngClass",{get:function(){return this._ngClass},set:function(e){this._ngClass=e,this.updateClass()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"form",{get:function(){return this._form},set:function(e){if(this._form=e,this.rootElement){var t=this.rootElement.querySelector("button");t.setAttribute("form",e)}},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element"],t}(n);t.ButtonComponent=o}(n=t.button||(t.button={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._formModule=angular.module("ers.components.form",["ers.components.core"])}(t=e.form||(e.form={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._formModule.factory("ersFormService",[function(){return new t}]);var t=function(){function e(){}return e.prototype.showValidation=function(t){return this.forEachModel(t,function(t){t.addClass(e.CSSCLASSNAME);var n=t.get(0);if(n.getErsComponent){var o=n.getErsComponent();o.manageErrorMessage&&o.manageErrorMessage()}})},e.prototype.hideValidation=function(t,n){return void 0===n&&(n=!0),this.forEachModel(t,function(t){if(t.removeClass(e.CSSCLASSNAME),n){var o=angular.element(t).controller("ngModel");o&&(o.$setPristine(),o.$setUntouched())}var r=t.get(0);if(r.getErsComponent){var i=r.getErsComponent();i.manageErrorMessage&&i.manageErrorMessage()}})},e.prototype.forEachModel=function(e,t){if(e){var n=e.scope()[e.attr("name")],o=e.find("*[name][ng-model]");return angular.forEach(o,function(e){var o=$(e);angular.isDefined(n[o.attr("name")])&&t(o)}),n.$valid}return!1},e.CSSCLASSNAME="ers-submitted",e}();e.FormService=t}(t=e.form||(e.form={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.form.FormService,o=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r),this._vm=i}return __extends(t,e),Object.defineProperty(t.prototype,"vm",{get:function(){return this._vm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngModelController",{get:function(){return this._ngModelCtrl},enumerable:!0,configurable:!0}),t.prototype.id=function(){return this.$attrs.id},t.prototype.showError=function(){return!this.ngModelController.$pristine||this.$element.hasClass(n.CSSCLASSNAME)},t.prototype.focusedElement=function(){return this.$element},t.prototype.validationRules=function(){return[]},t.prototype.onNgModelCtrlLoaded=function(){},t.prototype.setNgModelController=function(e){var t=this;this._ngModelCtrl=e,this.vm&&this.vm.registerTarget(this),angular.isDefined(this.$timeout)&&this.$timeout(function(){t.onNgModelCtrlLoaded(),t.$element.scope().$on("$destroy",function(){t.vm&&t.vm.unregisterTarget(t)})},0,!1)},t.prototype.manageErrorMessage=function(){this.vm.manageMessage(this)},t}(t.BaseComponent);t.EditComponent=o}(n=t.core||(t.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.DEFAULT_VALIDATION_RULES,o=e.components.core.EditComponent;angular.module("ers.components.calendar",["ers.components.core","ui.bootstrap"]).directive("ersCalendar",function(){return{restrict:"E",templateUrl:"calendar/template/calendar-template.html",scope:{onClose:"=?",appendToBody:"=?",showButtonBar:"=?",ngModel:"=",ngReadonly:"=?",ngRequired:"=?",ngDisabled:"=?",ngChange:"&?",dateFormat:"@?",minDate:"=?",maxDate:"=?",currentText:"@?",clearText:"@?",closeText:"@?"},bindToController:!0,controller:r,controllerAs:"calendarCtrl",require:["ersCalendar","ngModel"],link:function(e,t,n,o){o[0].link()}}}),angular.module("ers.components.calendar").directive("uibDatepickerPopupWrap",function(){return{link:function(e,t,n){var o=e.$parent.calendarCtrl;t.attr("id",o.calendarId+"-datepicker"),n.ngStyle="{display: (isOpen && 'block') || 'none'}"}}});var r=function(e){function t(t,n,o,r,i,s,a,l){e.call(this,t,r,o,s,i),this.hasBeenOpened=!1,angular.isUndefined(this.appendToBody)&&(this.appendToBody=!0),angular.isUndefined(this.ngModel),this.$scope=t,this.$document=n,this.$attrs=o,this.$element=r,this.$timeout=s,this._filter=a,this.showButtonBar=this.showButtonBar||!1,this.dateOptions={minDate:this.minDate,maxDate:this.maxDate,startingDay:1,showWeeks:!1},this.setWatchers()}return __extends(t,e),t.prototype.link=function(){var t=this;this.calendarId=this.$element.attr("id")||(65536*(1+Math.random())|0).toString(16).substring(1).toUpperCase(),this.$element.attr("id",this.calendarId),e.prototype.setNgModelController.call(this,this.$element.controller("ngModel")),setTimeout(function(){t.popup=angular.element($("#"+t.calendarId+"-datepicker")),t.popup.addClass("ers-calendar")},0),this.onClose&&this.open()},t.prototype.open=function(){var e=this;this.ngReadonly||this.ngDisabled||(this.isOpen=!0),this.hasBeenOpened||this.$scope.$watch(function(){return e.isOpen},function(){setTimeout(function(){e.isOpen||e.onClose&&e.onClose()},0)}),this.hasBeenOpened=!0},t.prototype.dateChanged=function(){this.ngModelController.$setDirty(),this.ngModel.getDate&&this.ngModelController.$valid&&this.ngModelController.$setViewValue(this.ngModel),this.ngChange&&this.ngChange()},t.prototype.validationRules=function(){var e=this,t=n.MIN_DATE(function(){return e.minDate},function(){return e._filter("date")(e.minDate,e.dateFormat)}),o=n.MAX_DATE(function(){return e.maxDate},function(){return e._filter("date")(e.maxDate,e.dateFormat)}),r=n.DATE(),i=n.REQUIRED();return this.ngModelController.$validators.required=function(t,n){return e.ngRequired&&e.ngModelController.$dirty&&(null===t||void 0===t||""===t)?!1:!0},[i,t,o,r]},t.prototype.setWatchers=function(){var e=this;this.$scope.$watch(function(){return e.minDate},function(){e.dateOptions.minDate=e.minDate,e.ngModelController.$validate(),e.ngModelController.$valid||e.ngModelController.$setDirty(),setTimeout(function(){e.ngModel=e.ngModelController.$viewValue},0)}),this.$scope.$watch(function(){return e.maxDate},function(){e.dateOptions.maxDate=e.maxDate,e.ngModelController.$validate(),e.ngModelController.$valid||e.ngModelController.$setDirty(),setTimeout(function(){e.ngModel=e.ngModelController.$viewValue},0)})},t.DEFAULT_DATE_FORMAT="yyyy/MM/dd",t.$inject=["$scope","$document","$attrs","$element","validationManager","$timeout","$filter","$exceptionHandler"],t}(o);t.CalendarComponent=r}(n=t.calendar||(t.calendar={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.chart||(e.chart={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent,o=function(e){function t(t,n){e.call(this,t),this.dataSource={},this._ready=!1,this.$q=n}return __extends(t,e),t.prototype.disposeChart=function(){var e=this,t=this.$q.defer();if(this.chartObj){if(this.events)for(var n in this.events)this.events.hasOwnProperty(n)&&this.chartObj.removeEventListener(n,this.events[n]);this.chartObj.addEventListener("disposed",function(){e.chartObj=null,t.resolve(!0)}),this.chartObj.addEventListener("disposeCancelled",function(){t.reject(new Error("Chart failed to be disposed!"))}),this.chartObj.dispose()}else t.resolve(!0);return t.promise},t.prototype.applyProperty=function(e,t){angular.isDefined(this.fcConfig[e])||(this.fcConfig[e]=t)},t.prototype.applyDefaultProperties=function(){this.applyProperty("width","100%"),this.applyProperty("height","100%"),this.applyProperty("dataFormat","json"),this.applyProperty("baseChartMessageColor","#666666"),this.applyProperty("baseChartMessageFont","Verdana"),this.applyProperty("baseChartMessageFontSize",10),this.applyProperty("containerBackgroundColor","#ffffff"),this.applyProperty("containerBackgroundOpacity",1)},t.prototype.link=function(t,n,o){var r=this;if(!angular.isDefined(this.type))throw new Error("Type attribute is mandatory on ChartDirective!");e.prototype.link.call(this,t,n,o),this._containerId=this.computeContainerId(),this.fcConfig.id=this.computeFusionChartId(),this.fcConfig.renderAt=n[0].children[0],this.applyDefaultProperties(),this.definition&&("string"==typeof this.definition||Object.keys(this.definition).length)&&this.buildChart(),t.$on("$destroy",function(){r.disposeChart()}),FusionCharts.ready(function(){["definition","data","chart","events"].forEach(function(e){r.$scope.$watch("ctrl."+e,function(t){r[e]=t},!0)})})},t.prototype.buildChart=function(){var e=this,t=function(t){e.chartObj=new FusionCharts(e.fcConfig),e.linked&&e.chartObj.configureLink(e.linked),e.chartObj.render(),e.ready=!0,e.$scope.$applyAsync()};this.chartObj?this.disposeChart().then(t)["catch"](function(e){return e}):FusionCharts.ready(t)},Object.defineProperty(t.prototype,"containerId",{get:function(){return this._containerId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.fcConfig.type},set:function(e){this.fcConfig.type=e,this.chartObj&&this.chartObj.chartType(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return this.fcConfig.dataSource},set:function(e){e&&(this.fcConfig.dataSource=e,this.chartObj&&this.chartObj.setChartData(e,this.dataFormat))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartObj",{get:function(){return this._chartObj},set:function(e){this._chartObj=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fcConfig",{get:function(){return this._fcConfig||(this._fcConfig={dataSource:{},width:"100%",height:"100%"}),this._fcConfig},set:function(e){this._fcConfig=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerBackgroundColor",{get:function(){return this.fcConfig.containerBackgroundColor},set:function(e){this.fcConfig.containerBackgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerBackgroundOpacity",{get:function(){return this.fcConfig.containerBackgroundOpacity},set:function(e){this.fcConfig.containerBackgroundOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageFont",{get:function(){return this.fcConfig.baseChartMessageFont},set:function(e){this.fcConfig.baseChartMessageFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageFontSize",{get:function(){return this.fcConfig.baseChartMessageFontSize},set:function(e){this.fcConfig.baseChartMessageFontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageColor",{get:function(){return this.fcConfig.baseChartMessageColor},set:function(e){this.fcConfig.baseChartMessageColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderErrorMessage",{get:function(){return this.fcConfig.renderErrorMessage},set:function(e){this.fcConfig.renderErrorMessage="true"===String(e).toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showChartLoadingMessage",{get:function(){return this.fcConfig.showChartLoadingMessage},set:function(e){this.fcConfig.showChartLoadingMessage="true"===String(e).toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDataLoadingMessage",{get:function(){return this.fcConfig.showDataLoadingMessage},set:function(e){this.fcConfig.showDataLoadingMessage="true"===String(e).toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadMessage",{get:function(){return this.fcConfig.loadMessage},set:function(e){this.fcConfig.loadMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeNotSupportedMessage",{get:function(){return this.fcConfig.typeNotSupportedMessage},set:function(e){this.fcConfig.typeNotSupportedMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataEmptyMessage",{get:function(){return this.fcConfig.dataEmptyMessage},set:function(e){this.fcConfig.dataEmptyMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataInvalidMessage",{get:function(){return this.fcConfig.dataInvalidMessage},set:function(e){this.fcConfig.dataInvalidMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLoadErrorMessage",{get:function(){return this.fcConfig.dataLoadErrorMessage},set:function(e){this.fcConfig.dataLoadErrorMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLoadStartMessage",{get:function(){return this.fcConfig.dataLoadStartMessage},set:function(e){this.fcConfig.dataLoadStartMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFormat",{get:function(){return this.fcConfig.dataFormat},set:function(e){this.fcConfig.dataFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.fcConfig.events},set:function(e){e&&(this.fcConfig.events=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this.fcConfig.dataSource.chart},set:function(e){angular.equals(this.fcConfig.dataSource.chart,e)||(this.fcConfig.dataSource.chart=e,this.buildChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.fcConfig.dataSource.data},set:function(e){null!=e&&angular.isDefined(e)&&(this.fcConfig.dataSource.data=e,this.applyChartProperties())},enumerable:!0,configurable:!0}),t.prototype.applyChartProperties=function(){this.chartObj&&this.chartObj.setChartData(this.fcConfig.dataSource,this.dataFormat)},Object.defineProperty(t.prototype,"dataset",{get:function(){return this.fcConfig.dataSource.dataset},set:function(e){this.fcConfig.dataSource.dataset=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkdedata",{get:function(){return this.fcConfig.dataSource.linkdedata},set:function(e){this.fcConfig.dataSource.linkdedata=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trendlines",{get:function(){return this.fcConfig.dataSource.trendlines},set:function(e){this.fcConfig.dataSource.trendlines=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vtrendlines",{get:function(){return this.fcConfig.dataSource.vtrendlines},set:function(e){this.fcConfig.dataSource.vtrendlines=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotations",{get:function(){return this.fcConfig.dataSource.annotations},set:function(e){this.fcConfig.dataSource.annotations=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorrange",{get:function(){return this.fcConfig.dataSource.colorrange},set:function(e){this.fcConfig.dataSource.colorrange=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineset",{get:function(){return this.fcConfig.dataSource.lineset},set:function(e){this.fcConfig.dataSource.lineset=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this.fcConfig.dataSource.axis},set:function(e){this.fcConfig.dataSource.axis=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectors",{get:function(){return this.fcConfig.dataSource.connectors},set:function(e){this.fcConfig.dataSource.connectors=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointers",{get:function(){return this.fcConfig.dataSource.pointers},set:function(e){this.fcConfig.dataSource.pointers=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.fcConfig.dataSource.value},set:function(e){this.fcConfig.dataSource.value=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processes",{get:function(){return this.fcConfig.dataSource.processes},set:function(e){this.fcConfig.dataSource.processes=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tasks",{get:function(){return this.fcConfig.dataSource.tasks},set:function(e){this.fcConfig.dataSource.tasks=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.fcConfig.dataSource.rows},set:function(e){this.fcConfig.dataSource.rows=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.fcConfig.dataSource.columns},set:function(e){this.fcConfig.dataSource.columns=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this.fcConfig.dataSource.map},set:function(e){this.fcConfig.dataSource.map=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markers",{get:function(){return this.fcConfig.dataSource.markers},set:function(e){this.fcConfig.dataSource.markers=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categories",{get:function(){return this.fcConfig.dataSource.categories},set:function(e){this.fcConfig.dataSource.categories=e,this.applyChartProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageImageHAlign",{get:function(){return this.fcConfig.baseChartMessageImageHAlign},set:function(e){this.fcConfig.baseChartMessageImageHAlign=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageImageVAlign",{get:function(){return this.fcConfig.baseChartMessageImageVAlign},set:function(e){this.fcConfig.baseChartMessageImageVAlign=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageImageAlpha",{get:function(){return this.fcConfig.baseChartMessageImageAlpha},set:function(e){this.fcConfig.baseChartMessageImageAlpha=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseChartMessageImageScale",{get:function(){return this.fcConfig.baseChartMessageImageScale},set:function(e){this.fcConfig.baseChartMessageImageScale=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerClassName",{get:function(){return this.fcConfig.containerClassName},set:function(e){this.fcConfig.containerClassName=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linked",{get:function(){return this.fcConfig.link},set:function(e){this.fcConfig.link=e,this.chartObj&&this.chartObj.configureLink(e);
},enumerable:!0,configurable:!0}),t.prototype.computeContainerId=function(){return angular.isDefined(this._id)?this._id+t.CONTAINER_SUFFIX:Date.now()+t.CONTAINER_SUFFIX},t.prototype.computeFusionChartId=function(){return angular.isDefined(this._id)?this._id+t.FC_SUFFIX:Date.now()+t.FC_SUFFIX},t.CONTAINER_SUFFIX="_cContainer",t.FC_SUFFIX="_fusionChart",t.$inject=["$scope","$q"],t}(n);t.ChartComponent=o}(n=t.chart||(t.chart={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.MODULE_NAME="ers.components.chart",e.DEPENDENCIES=["ers.components.core"],e.DIRECTIVE_NAME="ersChart",e}();e.ChartModule=t,angular.module(t.MODULE_NAME,t.DEPENDENCIES)}(t=e.chart||(e.chart={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"E",scope:{id:"@",type:"@",dataFormat:"@?format",definition:"=*?",chart:"=*?",data:"=*?",events:"=*?",showDataLoadingMessage:"@?",showChartLoadingMessage:"@?",dataLoadStartMessage:"@?loadStartMessage",dataLoadErrorMessage:"@?loadErrorMessage",dataInvalidMessage:"@?",dataEmptyMessage:"@?",typeNotSupportedMessage:"@?",loadMessage:"@?",renderErrorMessage:"@?",baseChartMessageFont:"@?",baseChartMessageFontSize:"@?",baseChartMessageColor:"@?",baseChartMessageImageHAlign:"@?",baseChartMessageImageVAlign:"@?",baseChartMessageImageAlpha:"@?",baseChartMessageImageScale:"@?",containerBackgroundColor:"@?",containerBackgroundOpacity:"@?",containerClassName:"@?",linked:"@?link",categories:"@?",dataset:"@?",linkdedata:"@?",trendlines:"@?",vtrendlines:"@?",annotations:"@?",colorrange:"@?",lineset:"@?",axis:"@?",connectors:"@?",pointers:"@?",value:"@?",processes:"@?",tasks:"@?",rows:"@?",columns:"@?",map:"@?",markers:"@?"},bindToController:!0,controller:e.ChartComponent,controllerAs:"ctrl",templateUrl:"chart/template/chart-template.html",link:function(e,t,n){t.addClass("ers-chart"),t.controller("ersChart").link(e,t,n)}}}angular.module(e.ChartModule.MODULE_NAME).directive(e.ChartModule.DIRECTIVE_NAME,function(){return t()})}(t=e.chart||(e.chart={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.cbModel=(!1).toString(),this.cbDisable=!1,this.cbRequired=!1,this.trueValue=(!0).toString(),this.falseValue=(!1).toString()}return e.prototype.setValues=function(e,t){this.trueValue=e,this.falseValue=t},e.prototype.checked=function(){return this.cbModel===this.trueValue},e.prototype.required=function(){return this.cbRequired},e.prototype.setRequired=function(e){this.cbRequired=e},e.prototype.disabled=function(){return this.cbDisable.toString()===(!0).toString()},e.prototype.setDisable=function(e){this.cbDisable=e},e.prototype.readonly=function(){return this.cbReadonly},e.prototype.setReadonly=function(e){this.cbReadonly=e},e}();e.CheckboxModel=t}(t=e.checkbox||(e.checkbox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.utility.DEFAULT_VALIDATION_RULES,r=e.components.core.EditComponent,i=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i),this._internalRequired=!1,this._internalReadonly=!1,this._internalDisabled=!1,this._internalTrueValue=!0,this._internalFalseValue=!1,this.$element.addClass("ers-checkbox"),this.divCb=n.find(".erscheckbox"),this.initOptions(),this.setTabIndex(),this.addListeners(),this.addWatchers()}return __extends(t,e),t.prototype.initOptions=function(){angular.isDefined(this.ngTrueValue)&&(this._internalTrueValue=this.ngTrueValue),angular.isDefined(this.ngFalseValue)&&(this._internalFalseValue=this.ngFalseValue),angular.isDefined(this.ngReadonly)&&(this._internalReadonly=this.ngReadonly),angular.isDefined(this.ngDisabled)&&(this._internalDisabled=this.ngDisabled),angular.isDefined(this.ngRequired)&&(this._internalRequired=this.ngRequired)},t.prototype.addListeners=function(){var e=this;this.$element.on("mousedown",function(t){e.ngDisabled&&(t.stopImmediatePropagation(),t.preventDefault())}),this.divCb.on("click",function(t){e.notifyModel(),t.stopPropagation(),t.preventDefault()}),this.$element.on("keydown",function(t){e.onKeyDown(t)}),this.$element.on("blur",function(t){e.ngModelController.$setTouched(),e.ngModelController.$validate()})},t.prototype.addWatchers=function(){var e=this;this.$scope.$watch(function(){return e.ngDisabled},function(){e.updateDOMDisabled()}),this.$scope.$watch(function(){return e.ngReadonly},function(){e.updateDOMReadonly()})},t.prototype.setNgModelController=function(t){var n=this;e.prototype.setNgModelController.call(this,t),this.ngModelController.$render=function(){n.updateDOMChecked()}},t.prototype.isChecked=function(){return this.ngModelController.$modelValue===this._internalTrueValue},t.prototype.setTabIndex=function(){this._tabindex=this.$element.attr("tabindex"),this._tabindex||this.$element.attr("tabindex",this._tabindex="0")},t.prototype.updateDOMChecked=function(){this.divCb&&(this.divCb.toggleClass("unchecked",!this.isChecked()),this.divCb.toggleClass("checked",this.isChecked()))},t.prototype.updateDOMDisabled=function(){this.divCb&&(this.divCb.toggleClass("disabled",this.ngDisabled?!0:!1),this.$element.attr("tabindex",this.ngDisabled?"-1":this._tabindex))},t.prototype.updateDOMReadonly=function(){this.divCb&&this.divCb.toggleClass("readonly",this._internalReadonly?!0:!1)},t.prototype.onKeyDown=function(e){e.keyCode===n.SPACE_BAR&&(this.notifyModel(),e.stopPropagation(),e.preventDefault())},t.prototype.notifyModel=function(){if(!this.ngDisabled&&!this.ngReadonly){var e=this.ngModelController.$modelValue===this._internalTrueValue?this._internalFalseValue:this._internalTrueValue;this.ngModelController.$setViewValue(e),this.ngModelController.$render(),this.ngModelController.$validate()}},Object.defineProperty(t.prototype,"ngRequired",{get:function(){return this._ngRequired},set:function(e){this._ngRequired=e,this._internalRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngDisabled",{get:function(){return this._ngDisabled},set:function(e){this._ngDisabled=e,this._internalDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngReadonly",{get:function(){return this._ngReadonly},set:function(e){this._ngReadonly=e,this._internalReadonly=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngTrueValue",{get:function(){return this._ngTrueValue},set:function(e){this._ngTrueValue=e,this._internalTrueValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngFalseValue",{get:function(){return this._ngFalseValue},set:function(e){this._ngFalseValue=e,this._internalFalseValue=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipDelegate=function(e){return void 0===e&&(e=""),this.$element},t.prototype.validationRules=function(){var e=this,t=o.REQUIRED();t.validator=function(t){return!e._internalRequired||t===e._internalTrueValue};var n=o.MODEL();return n.validator=function(t){return!angular.isDefined(t)||t===e._internalTrueValue||t===e._internalFalseValue||null===t},[t,n]},t.$inject=["$scope","$element","$attrs","$timeout","validationManager"],t}(r);t.CheckboxComponent=i}(n=t.checkbox||(t.checkbox={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.checkbox",["ers.components.core"]);var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",templateUrl:"checkbox/template/checkbox-template.html",require:["?ngModel","ersCheckbox"],transclude:!0,bindToController:!0,scope:{ngDisabled:"=?",ngRequired:"=?",ngReadonly:"=?",ngTrueValue:"=?",ngFalseValue:"=?"},controller:e.CheckboxComponent,controllerAs:"checkboxController",link:function(e,t,n,o){var r=o[0],i=o[1];i&&r&&i.setNgModelController(r)}}};angular.module("ers.components.checkbox").directive("ersCheckbox",t)}(t=e.checkbox||(e.checkbox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._module=angular.module("ers.components.contextmenu",["ngSanitize","ers.components.icon"])}(t=e.contextmenu||(e.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.ComboboxItemProperties=t}(t=e.combobox||(e.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.combobox||(e.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.core.BaseController,r=function(e){function t(t,n,o){var r=this;e.call(this,t,n,o),this.internalDisabled=!1,this.separator=t.separator||!1,this.value=t.value,angular.isDefined(this.ngDisabled)&&(this.internalDisabled=this.ngDisabled),this.$scope.$on("destroy",function(){r.$element.off()})}return __extends(t,e),t.prototype.link=function(e,t,n){this.setObservers(),this.setWatchers(),this.setCallback()},t.prototype.setObservers=function(){var e=this;this.$attrs.$observe("disabled",function(t){e.ngDisabled=t,e.internalDisabled?e.$element.find("a").addClass("disabled"):e.$element.find("a").removeClass("disabled")})},t.prototype.setWatchers=function(){var e=this;this.$scope.$watch(function(){return e.separator},function(){e.separator?e.$element.find("li").addClass("divider"):e.$element.find("li").removeClass("divider")})},t.prototype.setCallback=function(){var e=this;this.$element.on("mousedown",function(t){return e.ngDisabled||e.separator?!0:e.delegate.onClick(t,e)}),this.$element.keydown(function(t){return e.ngDisabled||e.separator||t.keyCode!==n.ENTER?!0:e.delegate.onKey(t,e)})},t.prototype.setSelected=function(){this.$element.find("li a").addClass("key-hover")},t.prototype.setUnselected=function(){this.$element.find("li a").removeClass("key-hover")},t.prototype.description=function(){return this.$element.find("a").children()},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._separator},set:function(e){this._separator=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngDisabled",{get:function(){return this._ngDisabled},set:function(e){this._ngDisabled=e,this.internalDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element","$attrs"],t}(o);t.ComboboxItemController=r}(n=t.combobox||(t.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(e,t){return _.startsWith(e,t)?e.substring(t.length):e}e.popoverUtils={bindAttrToScope:function(e,t,n,o,r){if(e){var i=function(n){var i=_.camelCase(o+n);e[i]&&(t[n]=r(e[i])),e.$$observers&&e.$$observers[i]&&e.$observe(i,function(e){t[n]=r(e)})};angular.forEach(n,i)}},parseOptions:function(e,n){var o={};return e&&e.$attr?(angular.forEach(e.$attr,function(r,i){if(!n||_.startsWith(r,n)){var s=_.camelCase(t(r,n));o[s]=e[i]}}),o):o}}}(t=e.popover||(e.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._module=angular.module("ers.components.popover",["ers.components.core"])}(t=e.popover||(e.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){function n(e){return{restrict:"EA",controller:r,bindToController:!0,link:function(t,n,o){var r={},i={};r.$scope=t.$new(!0,t),i.id=o.id?"po-"+o.id:void 0;var s=e.createPopover(n,o,r,i);t.$on("$destroy",function(){s.destroy()});var a=n.controller("ersPopover");a.popover=s}}}var o=e.components.core.BaseController;t.PopoverDirectiveFactory=n,n.$inject=["popoverService"],t._module.directive("ersPopover",n);var r=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),Object.defineProperty(t.prototype,"popover",{get:function(){return this._popover},set:function(e){this._popover=e},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element"],t}(o);t.PopoverController=r}(n=t.popover||(t.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.utility.DEFAULT_VALIDATION_RULES,r=e.components.core.EditComponent,i=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i),this.flagToSetTrigger=!1,this.withArrow=!1,this.clickFlag=!1,this.iterator=function(e){var t=0;return{get:function(){var n=t>=e.length?t-1:t;return angular.element(e[n])},next:function(){return t=t<e.length?++t:e.length,angular.element(e[t===e.length?t-1:t])},prev:function(){return t=0>=t?0:--t,angular.element(e[t])},end:function(){return t>=e.length},begin:function(){return t=0,angular.element(e[t])}}},this.generatePopoverIds()}return __extends(t,e),t.prototype.generatePopoverIds=function(){var e=this.$element.find(".ers-combobox-list");e.uniqueId(),this.targetId=e.attr("id"),this.targetElement=e,this.cbbContainerId=this.cbbContainerId||"#"},t.prototype.setPopover=function(){var e=angular.element(this.buttonElement).controller("ersPopover");e&&(this.mPopover=e.popover,this.setButtonClick(!0),this.arrowRender(!1))},t.prototype.setButtonClick=function(e){var t=this;this.buttonElement&&(e?this.buttonElement.on("click",function(){t.opened=!t.opened,t.openClosePopup()}):this.buttonElement.off("click"))},t.prototype.poContainer=function(){return null==this.cbbContainerId||"#"===this.cbbContainerId?this.$element:angular.element(this.cbbContainerId)},t.prototype.link=function(t,n,o){var r=this;e.prototype.link.call(this,t,n,o),this.$element.addClass("ers-combobox"),this.buttonElement=this.$element.find("button"),this.addListeners(n),this.setPopover(),this.updateDisabled(),this.updateReadOnly(),this.$timeout(function(){r.notifyCombobox(r.retrieveComboboxItemController(r.ngModelController.$modelValue),!1),r.ngModelController.$validate()},0)},t.prototype.addListeners=function(e){var t=this;e.find(".dropdown-select").keydown(function(e){t.onKeyDown(e)}),this.buttonElement.on("blur",function(e){t.onBlur(e)}),this.onScroll()},t.prototype.openClosePopup=function(){this.opened?(this.targetElement.css("width",this.$element.innerWidth()),this.arrowRender(!0)):(this.mPopover.hide(),this.arrowRender(!1))},t.prototype.onScroll=function(){var e=this,t=!1;this.targetElement.hover(function(){t=!0},function(){t=!1}),document.addEventListener("mousewheel",function(){t||null==e.mPopover||e.opened!==!0||(e.opened=!1,e.openClosePopup())},!1),document.addEventListener("keydown",function(){t||null==e.mPopover||e.opened!==!0||(e.opened=!1,e.openClosePopup())},!1)},t.prototype.onBlur=function(e){var t=this;this.opened=!1,this.openClosePopup(),this.clickFlag&&(this.$timeout(function(){t.buttonElement[0].focus()},0),e.stopImmediatePropagation()),this.clickFlag=!1},t.prototype.setNgModelController=function(t){var n=this;e.prototype.setNgModelController.call(this,t),this.ngModelController.$render=function(){n.notifyCombobox(n.retrieveComboboxItemController(n.ngModelController.$modelValue),!1)}},t.prototype.onClick=function(e,t){return this.notifyCombobox(t),this.clickFlag=!0,!0},t.prototype.onKey=function(e,t){return this.notifyCombobox(t),!0},t.prototype.onKeyDown=function(e){if(!this.ngReadonly&&!this.ngDisabled){var t=0;switch(e.keyCode){case n.LEFT_ARROW:case n.UP_ARROW:t=1;break;case n.RIGHT_ARROW:case n.DOWN_ARROW:t=2;break;case n.ESCAPE:this.$element.find("button")[0].focus()}t>0&&(e.stopImmediatePropagation(),e.preventDefault(),this.notifyCombobox(this.retrieveComboboxItemController(this.ngModelController.$modelValue,t),!1))}},t.prototype.retrieveComboboxItemController=function(e,t){var n=this.targetElement.find("li:not(.divider) a:not(.disabled)"),o=this.iterator(n),r=null;for(o;!o.end()&&(r=o.get().controller("ersComboboxItem"),null==r||r.value!==e);o.next())r=null;if(null!=t&&t>0){1===t?o.prev():o.next();var i=o.get();r.setUnselected(),r=i.controller("ersComboboxItem"),r.setSelected()}return r},t.prototype.notifyCombobox=function(e,t){void 0===t&&(t=!0),null!=e?(this.ngModelController.$setViewValue(e.value),this.renderModel(e.description()),t&&(this.opened=!1,this.openClosePopup(),this.buttonElement[0].focus())):this.renderModel(angular.element(""))},t.prototype.renderModel=function(e){var t=this.$element.find("span.button-text");angular.isDefined(t)&&angular.isDefined(e)&&(t.children().remove(),t.append(e.clone()))},t.prototype.isValueItemValid=function(e){return null!==this.retrieveComboboxItemController(e)},t.prototype.arrowRender=function(e){var t=this.poContainer().find("span .fa-stack .fa");t.toggleClass("fa-angle-up",e),t.toggleClass("fa-angle-down",!e)},t.prototype.updateReadOnly=function(){this._ngReadonly=angular.isDefined(this._ngReadonly)?this._ngReadonly:!1,this.buttonElement&&this.buttonElement.toggleClass("readonly",this._ngReadonly),this._ngReadonly?(this.setButtonClick(!1),this.flagToSetTrigger=!0):this.flagToSetTrigger&&this.setButtonClick(!0)},t.prototype.updateDisabled=function(){this._ngDisabled=angular.isDefined(this._ngDisabled)?this._ngDisabled:!1,this.buttonElement&&this.buttonElement.toggleClass("disabled",this._ngDisabled)},Object.defineProperty(t.prototype,"ngDisabled",{get:function(){return this._ngDisabled},set:function(e){this._ngDisabled=e,this.updateDisabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngRequired",{get:function(){return this._ngRequired},set:function(e){this._ngRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngReadonly",{get:function(){return this._ngReadonly},set:function(e){this._ngReadonly=e,this.updateReadOnly()},enumerable:!0,configurable:!0}),t.prototype.inputElement=function(){return angular.element(this.buttonElement)},t.prototype.getTooltipDelegate=function(e){switch(void 0===e&&(e=""),e){case"focus":return this.inputElement();default:return this.$element}},t.prototype.validationRules=function(){var e=this,t=o.MODEL();t.validator=function(t,n){return!angular.isDefined(t)||null===t||angular.isDefined(t)&&e.isValueItemValid(t)};var n=o.REQUIRED();return n.validator=function(t){return!e.ngRequired||e.ngRequired&&null!==t},[n,t]},t.$inject=["$scope","$element","$attrs","$timeout","validationManager"],t}(r);t.ComboboxComponent=i}(n=t.combobox||(t.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.combobox",["ers.components.core","ers.components.popover"]);var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",templateUrl:"combobox/template/combobox-template.html",transclude:!0,scope:{ngDisabled:"=?",ngRequired:"=?",ngReadonly:"=?",cbbContainerId:"@?"},bindToController:!0,controller:e.ComboboxComponent,controllerAs:"comboboxController",require:["ngModel","ersCombobox"],link:function(e,t,n,o){var r=o[0],i=o[1];i.setNgModelController(r),i.link(e,t,n)}}};angular.module("ers.components.combobox").directive("ersCombobox",t)}(t=e.combobox||(e.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",require:["ersComboboxItem","^?ersCombobox"],scope:{ngDisabled:"=?",value:"=",separator:"=?"},transclude:!0,templateUrl:"combobox/template/combobox-item-template.html",controller:e.ComboboxItemController,link:function(e,t,n,o){var r=o[0];if(!r)throw new Error("Required controller not found");var i=o[1];if(!i){var s=t.closest(".ers-combobox-list").attr("id"),a=angular.element($("button[po-target='#"+s+"']"));i=a.controller("ersCombobox")}r.link(e,t,n),r.delegate=i}}};angular.module("ers.components.combobox").directive("ersComboboxItem",t)}(t=e.combobox||(e.combobox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(e.BaseController);e.DecoratorComponent=t}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.EVENT={RESIZE:"resize"}}(t=e.event||(e.event={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.DecoratorComponent,o=e.components.core.event.EVENT;angular.module("ers.components.drawer",["ers.components.core","ngSanitize"]).directive("ersDrawer",function(){return{restrict:"A",templateUrl:"drawer/template/drawer-template.html",controller:r,controllerAs:"drawerController",bindToController:!0,transclude:!0,scope:{slideFrom:"=?ersDrawerFrom",pinned:"=?ersDrawerPinned",collapsed:"=?ersDrawerCollapsed",maxWidthSize:"@ersDrawerMaxWidthSize",maxHeightSize:"@ersDrawerMaxHeightSize",label:"@ersDrawerLabel"}}});var r=function(e){function t(n,r,i,s,a){var l=this;e.call(this,i,n),this._isFullyCollapsed=!0,this._isPartiallyCollapsed=!1,this.initInProgress=!1,this.splitterEllipsisCSSOnMouseover=function(){l._splitterCollapseArrow.is(":hover")||l._splitterExpandArrow.is(":hover")||l._splitterEllipsis.css("color","#000000")},this.splitterEllipsisCSSOnMouseOut=function(){l._splitterEllipsis.css("color","#7f7f7f")},this.mouseClickEventOnExpandArrow=function(){l._splitterExpandArrow.hasClass("ng-disabled")||(l.isBottomTop()&&l._proxySize<l._maxHeightSizeIntValue?(l._drawerBlockContainer.css("height",l._maxHeightSizeIntValue),l._proxySize=l._maxHeightSizeIntValue):!l.isBottomTop()&&l._proxySize<l._maxWidthSizeIntValue&&(l._drawerBlockContainer.css("width",l._maxWidthSizeIntValue),l._proxySize=l._maxWidthSizeIntValue),l.computeTabPosition(),l._splitterExpandArrow.addClass("ng-disabled"),l._splitterCollapseArrow.removeClass("ng-disabled"),l._isPartiallyCollapsed=!1,l._isFullyCollapsed=!1,l.containerEventService.dispatch(o.RESIZE,l.$scope))},this.mouseClickEventOnCollapseArrow=function(){l._splitterCollapseArrow.hasClass("ng-disabled")||(l.isBottomTop()&&l._proxySize-l._splitterBar.outerHeight()>t.DRAWER_MIN_WIDTH?l._drawerBlockContainer.css("height",t.DRAWER_MIN_WIDTH):!l.isBottomTop()&&l._proxySize-l._splitterBar.outerWidth()>t.DRAWER_MIN_WIDTH&&l._drawerBlockContainer.css("width",t.DRAWER_MIN_WIDTH),l._proxySize=t.DRAWER_MIN_WIDTH,l.computeTabPosition(),l._splitterExpandArrow.removeClass("ng-disabled"),l._splitterCollapseArrow.addClass("ng-disabled"),l._isPartiallyCollapsed=!0,l.containerEventService.dispatch(o.RESIZE,l.$scope))},this.mouseClickEventOnTabBar=function(){l.collapsed=!l.collapsed,l._isFullyCollapsed&&(l.computeElements(),l._proxySize=l.isBottomTop()?l._drawerBlockContainer.outerHeight():l._drawerBlockContainer.outerWidth())},this.mouseDownEvent=function(e){1===e.which&&(l._mouseBtnPressed=!0,l._splitterBar.addClass("splitter-bar-"+l.slideFrom+"-dragged"),l.isBottomTop()?(l._proxySize=l._drawerBlockContainer.outerHeight(),l._yRef=e.pageY):(l._proxySize=l._drawerBlockContainer.outerWidth(),l._xRef=e.pageX))},this.mouseUpEvent=function(e){if(l._splitterBar.removeClass("splitter-bar-"+l.slideFrom+"-dragged"),l._mouseBtnPressed&&l._mouseIsDragging){var n=l.isBottomTop()?l.isLeftTop()?e.pageY-l._yRef:l._yRef-e.pageY:l.isLeftTop()?e.pageX-l._xRef:l._xRef-e.pageX;l._proxySize=l._proxySize+n,l._proxySize>(l.isBottomTop()?l._maxHeightSizeIntValue:l._maxWidthSizeIntValue)?(l.applyExpandBehaviours(),l._proxySize=l.isBottomTop()?l._maxHeightSizeIntValue:l._maxWidthSizeIntValue):l._proxySize-(l.isBottomTop()?l._splitterBar.outerHeight():l._splitterBar.outerWidth())>t.DRAWER_MIN_WIDTH?(l._drawerBlockContainer.css(l.isBottomTop()?"height":"width",l._proxySize),l._proxySize=l.isBottomTop()?l._splitterBar.outerHeight():l._splitterBar.outerWidth()):l._proxySize=t.DRAWER_MIN_WIDTH}l._mouseBtnPressed=!1,l._mouseIsDragging=!1},this.mouseMoveEvent=function(e){if(l._mouseBtnPressed){var n=l.isBottomTop()?l.isLeftTop()?e.pageY-l._yRef:l._yRef-e.pageY:l.isLeftTop()?e.pageX-l._xRef:l._xRef-e.pageX;l._proxySize=l._proxySize+n,t.DRAWER_MIN_WIDTH<l._proxySize&&l._proxySize<=(l.isBottomTop()?l._maxHeightSizeIntValue:l._maxWidthSizeIntValue)?(l._drawerBlockContainer.css(l.isBottomTop()?"height":"width",l._proxySize),l.computeTabPosition(),l._proxySize=l.isBottomTop()?l._drawerBlockContainer.outerHeight():l._drawerBlockContainer.outerWidth(),l._splitterExpandArrow.removeClass("ng-disabled"),l._splitterCollapseArrow.removeClass("ng-disabled")):t.DRAWER_MIN_WIDTH>=l._proxySize?(l._splitterExpandArrow.removeClass("ng-disabled"),l._splitterCollapseArrow.addClass("ng-disabled")):l._proxySize>=(l.isBottomTop()?l._maxHeightSizeIntValue:l._maxWidthSizeIntValue)&&(l._splitterExpandArrow.addClass("ng-disabled"),l._splitterCollapseArrow.removeClass("ng-disabled")),l.isBottomTop()?l._yRef=e.pageY:l._xRef=e.pageX,l._mouseIsDragging=!0}e.preventDefault(),e.stopPropagation()},this.$timeout=r,this.initInProgress=!0,this.$rootscope=s,this.containerEventService=a,a.registerDispatcher(o.RESIZE,i),this.pinned?n.addClass("ers-drawer-pinned"):n.addClass("ers-drawer"),this.computeElements(),this.collapsed=void 0===this.innerCollapsed?this.collapsed:this.innerCollapsed,this.slideFrom=void 0===this.innerSlideFrom?this.slideFrom:this.innerSlideFrom,this.pinned=void 0===this.innerPinned?this.pinned:this.innerPinned,this.initInProgress=!1}return __extends(t,e),t.prototype.init=function(){var e=this;this.$element&&(this.$element.addClass("ers-drawer-"+this.slideFrom),setTimeout(function(){e.removeListeners(),e.computeElements(),e.declareListeners(),e._tabContainer.css("top",""),e._splitterCollapseArrow.addClass(e.getSplitterCollapseArrow()),e._splitterExpandArrow.addClass(e.getSplitterExpandArrow()),e._splitterEllipsis.addClass(e.getSplitterEllipsisIcon()),e._tabContainer.css(e.slideFrom,(e.isBottomTop()?e._tabContainer.innerHeight():e._tabContainer.innerWidth())+e._tabContainer.position[e.slideFrom]),e._xRef=0,e._yRef=0,e.computeMaxSizes(),e.collapsed?e._tabIcon.addClass(e.getTabIconExpandDirection()):e._tabIcon.addClass(e.getTabIconCollapseDirection()),e._tabContainer.css("display",e.pinned?"none":"inline-block")},0))},t.prototype.computeElements=function(){this._tabContainer=this.$element.find(".ers-drawer-tab-container-"+this.slideFrom),this._tabIcon=this.$element.find(".ers-drawer-tab-icon-"+this.slideFrom+" i"),this._drawerBlockContainer=this.$element.find(".ers-drawer-block-container-"+this.slideFrom),this._splitterBar=this.$element.find(".ers-splitter-bar-"+this.slideFrom),this._splitterCollapseArrow=this._splitterBar.find("i.fa.after-icon"),this._splitterExpandArrow=this._splitterBar.find("i.fa.before-icon"),this._splitterEllipsis=this._splitterBar.find("i.fa.ellipsis-icon")},t.prototype.computeMaxSizes=function(){this.pinned?(this._drawerBlockContainer.css("height",""),this._drawerBlockContainer.css("width","")):(this._drawerBlockContainer.css("height",this.maxHeightSize),this._drawerBlockContainer.css("width",this.maxWidthSize)),this._maxHeightSizeIntValue=this._drawerBlockContainer.outerHeight(),this._maxWidthSizeIntValue=this._drawerBlockContainer.outerWidth(),this._savedSizeState=this.isBottomTop()?this._maxHeightSizeIntValue:this._maxWidthSizeIntValue},t.prototype.declareListeners=function(){this._tabContainer.on("click",this.mouseClickEventOnTabBar),this._splitterBar.on("mousedown",this.mouseDownEvent),document.addEventListener("mouseup",this.mouseUpEvent),document.addEventListener("mousemove",this.mouseMoveEvent),this._splitterCollapseArrow.on("click",this.mouseClickEventOnCollapseArrow),this._splitterExpandArrow.on("click",this.mouseClickEventOnExpandArrow),this._splitterBar.on("mousedown",this.mouseDownEvent).on("mouseover",this.splitterEllipsisCSSOnMouseover).on("mouseout",this.splitterEllipsisCSSOnMouseOut)},t.prototype.removeListeners=function(){this._tabContainer&&(this._tabContainer.off("click",this.mouseClickEventOnTabBar),document.removeEventListener("mouseup",this.mouseUpEvent),document.removeEventListener("mousemove",this.mouseMoveEvent),this._splitterCollapseArrow.off("click",this.mouseClickEventOnCollapseArrow),this._splitterExpandArrow.off("click",this.mouseClickEventOnExpandArrow),this._splitterBar.off("mousedown",this.mouseDownEvent).off("mouseover",this.splitterEllipsisCSSOnMouseover).off("mouseout",this.splitterEllipsisCSSOnMouseOut))},t.prototype.applyExpandBehaviours=function(){if(this._tabIcon){this._tabIcon.removeClass(this.getTabIconExpandDirection()),this._tabIcon.addClass(this.getTabIconCollapseDirection());var e=this.isBottomTop()?"Height":"Width";this._proxySize=this._savedSizeState,this._drawerBlockContainer.css(e.toLowerCase(),this._savedSizeState),this._drawerBlockContainer.css("display","block"),this._proxySize>=this["_max"+e+"SizeIntValue"]&&this._splitterExpandArrow.addClass("ng-disabled"),this.computeTabPosition(),this._isFullyCollapsed=!1,this._isPartiallyCollapsed=!1}},t.prototype.applyCollapseBehaviours=function(){this._tabIcon&&(this._tabIcon.removeClass(this.getTabIconCollapseDirection()),this._tabIcon.addClass(this.getTabIconExpandDirection()),this._savedSizeState=this._proxySize,this._drawerBlockContainer.css(this.isBottomTop()?"height":"width","0px"),this._drawerBlockContainer.css("display","none"),this._proxySize=0,this.computeTabPosition(),this._isFullyCollapsed=!0,this._isPartiallyCollapsed=!1)},t.prototype.computeTabPosition=function(){this._tabContainer.css("right",""),this._tabContainer.css("left",""),this._tabContainer.css("top",""),this._tabContainer.css("bottom",""),this._tabContainer.css(this.slideFrom,this._proxySize)},t.prototype.getTabIconExpandDirection=function(){return t.ROTATIONS_ICONS.tabIconExpandDirection[this.slideFrom]},t.prototype.getTabIconCollapseDirection=function(){return t.ROTATIONS_ICONS.tabIconCollapseDirection[this.slideFrom]},t.prototype.getSplitterEllipsisIcon=function(){return t.ROTATIONS_ICONS.splitterEllipsisIcon[this.slideFrom]},t.prototype.getSplitterCollapseArrow=function(){return t.ROTATIONS_ICONS.splitterCollapseArrow[this.slideFrom]},t.prototype.getSplitterExpandArrow=function(){return t.ROTATIONS_ICONS.splitterExpandArrow[this.slideFrom]},Object.defineProperty(t.prototype,"slideFrom",{get:function(){return angular.isUndefined(this._slideFrom)?"left":this._slideFrom},set:function(e){if(t.AUTHORIZED_SIDE_FROM.indexOf(e)>=0)if(this.$element){var n=this._slideFrom;n!==e&&(this._tabContainer&&(this._tabContainer.css("display","none"),this._tabIcon.removeClass(this.getTabIconCollapseDirection()),
this._tabIcon.removeClass(this.getTabIconExpandDirection())),this._splitterEllipsis&&(this._splitterCollapseArrow.removeClass(this.getSplitterCollapseArrow()),this._splitterExpandArrow.removeClass(this.getSplitterExpandArrow()),this._splitterEllipsis.removeClass(this.getSplitterEllipsisIcon())),this.$element&&this.$element.removeClass("ers-drawer-"+n),this._slideFrom=e,this.pinned||!angular.isDefined(this._isFullyCollapsed)||this._isFullyCollapsed||(this.collapsed=this.initInProgress?this.collapsed:!0),this.init())}else this.innerSlideFrom=e},enumerable:!0,configurable:!0}),t.prototype.togglePinned=function(){this.pinned=!this.pinned},Object.defineProperty(t.prototype,"pinned",{get:function(){return angular.isUndefined(this._pinned)?!0:this._pinned},set:function(e){this.$element?this._pinned!==e&&(this._pinned=e,e?(this.$element.removeClass("ers-drawer"),this.$element.addClass("ers-drawer-pinned"),this._tabContainer&&(this._tabContainer.css("display","none"),this._drawerBlockContainer.css("height",""),this._drawerBlockContainer.css("width",""),this.collapsed=!0,this._drawerBlockContainer.css("display","block"))):(this.collapsed=this.initInProgress?this.collapsed:!1,this.$element.addClass("ers-drawer"),this.$element.removeClass("ers-drawer-pinned"),this._tabContainer&&this._tabContainer.css("display","inline-block"),this._drawerBlockContainer&&(this.computeMaxSizes(),this.applyExpandBehaviours()))):this.innerPinned=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return angular.isUndefined(this._collapsed)?!0:this._collapsed},set:function(e){var t=this;this.$element?(this._collapsed=e,setTimeout(function(){t.pinned||(e&&t.applyCollapseBehaviours?(t.computeMaxSizes(),t.applyCollapseBehaviours()):t.applyExpandBehaviours&&(t.computeMaxSizes(),t.applyExpandBehaviours()),t.render(),t.containerEventService.dispatch(o.RESIZE,t.$scope))},0)):this.innerCollapsed=e},enumerable:!0,configurable:!0}),t.prototype.isLeftTop=function(){return"lefttop".indexOf(this.slideFrom)>=0},t.prototype.isBottomTop=function(){return"bottomtop".indexOf(this.slideFrom)>=0},t.prototype.render=function(){this.$rootscope&&!this.$rootscope.$$phase&&this.$rootscope.$apply()},t.AUTHORIZED_SIDE_FROM=["left","top","right","bottom"],t.DRAWER_MIN_WIDTH=310,t.ROTATIONS_ICONS={tabIconCollapseDirection:{right:"fa-rotate-0",left:"fa-rotate-180",top:"fa-rotate-270",bottom:"fa-rotate-90"},tabIconExpandDirection:{right:"fa-rotate-180",left:"fa-rotate-0",top:"fa-rotate-90",bottom:"fa-rotate-270"},splitterEllipsisIcon:{right:"fa-ellipsis-v",left:"fa-ellipsis-v",top:"fa-ellipsis-h",bottom:"fa-ellipsis-h"},splitterCollapseArrow:{right:"fa-caret-right",left:"fa-caret-left",top:"fa-caret-up",bottom:"fa-caret-down"},splitterExpandArrow:{right:"fa-caret-left",left:"fa-caret-right",top:"fa-caret-down",bottom:"fa-caret-up"}},t.$inject=["$element","$timeout","$scope","$rootScope","containerEventService"],t}(n);t.DrawerComponent=r}(n=t.drawer||(t.drawer={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.drawer").directive("ersDrawerHeader",function(){return{restrict:"E",templateUrl:"drawer/template/drawer-header-template.html",controller:o,controllerAs:"drawerHeaderComponent",bindToController:!0,transclude:!0,require:["^ersDrawer"],scope:{},link:function(e,t,n,o){t.inheritedData().$ersDrawerHeaderController.drawerController=o[0]}}});var o=function(e){function t(t,n,o){e.call(this,t,n,null,o)}return __extends(t,e),t.prototype.togglePinned=function(){this.drawerController.togglePinned()},t.$inject=["$scope","$element","$timeout"],t}(n);t.DrawerHeaderComponent=o}(n=t.drawer||(t.drawer={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.dropdown",["ers.bootstrap.dropdown"]).directive("ersDropdownWrapper",function(){return{}});var t=function(){function e(){}return e}();e.SimpleDropdownComponent=t}(t=e.dropdown||(e.dropdown={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.dropdownSelect",["ers.components.core"]).directive("ersDropdownSelect",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:function(e,t){return"grid"===t.dropdownSelectType?"dropdown-select/template/dropdown-select-grid.html":"dropdown-select/template/dropdown-select-standard.html"},scope:{dropdownSelectType:"@?",filterMode:"@?",filterText:"@?",filterTextChange:"&?",gridColumnHeaders:"=?",items:"=",itemDisplayProperty:"@?",multiSelect:"=?",ngDisabled:"=?",ngRequired:"=?",ngChange:"&?",ngModel:"=?",noResultsMessage:"@?",open:"=?",placeholder:"@?",showSelectedItem:"=?",useSearchIcon:"=?"},bindToController:!0,controller:t,controllerAs:"ctrl"}});var t=function(){function e(e,t,n,o,r){this.currentIndex=-1,this.firstManualRun=!0,this.$scope=e,this.$document=t,this.$attrs=n,this.$element=o,this.$filter=r,this.ngModel||(this.ngModel=null),this.dropdownSelectType=angular.isDefined(this.dropdownSelectType)?this.dropdownSelectType:"standard",this.filterMode=angular.isDefined(this.filterMode)?this.filterMode:"auto",this.itemDisplayProperty=angular.isDefined(this.itemDisplayProperty)?this.itemDisplayProperty:"name",this.noResultsMessage=angular.isDefined(this.noResultsMessage)?this.noResultsMessage:"No Results",this.placeholder=angular.isDefined(this.placeholder)?this.placeholder:"Select",this.filteredItems=this.items,this.selectedItems=[],this.firstRun=!0,this.initialNgModel=this.ngModel,"manual"===this.filterMode&&this.firstManualRun&&(this.staticItems=this.items,this.firstManualRun=!1),this.checkEquality=function(e,t){if(!Array.isArray(t)||null===t)return angular.equals(e,t);for(var n=0;n<t.length;n++)if(angular.equals(e,t[n]))return angular.equals(e,t[n])};var i=this;i.multiSelect?i.multiSelect&&i.showSelectedItem!==!1&&(i.filterText?("auto"===i.filterMode||"manual"===i.filterMode)&&(i.ngModelValue=i.filterText,i.filteredItems=i.$filter("filter")(i.items,(s={},s[i.itemDisplayProperty]=i.filterText,s))):i.ngModel?i.ngModelValue=i.ngModel[i.itemDisplayProperty]:i.placeholder=i.placeholder):this.$scope.$watch("ctrl.ngModel",function(e,t){i.showSelectedItem!==!1&&(i.filterText?("auto"===i.filterMode||"manual"===i.filterMode)&&(i.ngModelValue=i.filterText,i.filteredItems=i.$filter("filter")(i.items,(n={},n[i.itemDisplayProperty]=i.filterText,n))):i.ngModel?i.ngModelValue=i.ngModel[i.itemDisplayProperty]:i.placeholder=i.placeholder);var n}),this.$scope.$watch("ctrl.items.length",function(e,t){e!==t&&("auto"===i.filterMode?i.filteredItems=i.$filter("filter")(i.items,i.ngModelValue):i.filteredItems=i.items)});var s}return e.prototype.sort=function(e){for(var t,n=[],o=0;o<this.gridColumnHeaders.length;o++)t=this.gridColumnHeaders[o].toLowerCase(),n.push(e[t]);return n},e.prototype.onSelectedLocal=function(e,t){if(this.multiSelect&&e){this.setFocusedRow(-1);var n,o;if("manual"===this.filterMode&&this.multiSelect&&this.staticItems){if(this.filteredItems!==this.staticItems&&!this.filterText){for(this.ngModelValue="",this.filteredSelection=e,this.firstRun&&this.initialNgModel&&null!==this.ngModel&&(this.firstRun=!1,this.selectedItems.push(this.ngModel)),this.selectedItems.push(e),this.ngModel=this.selectedItems,this.filteredItems=this.staticItems,o=0;o<this.selectedItems.length;o++)this.selectedItems.length>1?this.ngModelValue+=this.selectedItems[o][this.itemDisplayProperty]+" ":this.ngModelValue+=this.selectedItems[o][this.itemDisplayProperty];return}this.filteredSelection&&(n=angular.equals(e,this.filteredSelection))}if(n||-1!==this.selectedItems.indexOf(e)||angular.equals(this.initialNgModel,e)){this.ngModelValue="";var r=this.selectedItems.indexOf(e);angular.equals(this.initialNgModel,e)?(this.selectedItems.splice(e,1),this.initialNgModel=null,this.firstRun=!1):r>-1?this.selectedItems.splice(r,1):n===!0&&(this.selectedItems.splice(this.filteredSelection,1),n=!1,this.filteredSelection=null)}else for(this.ngModelValue="",this.filterText="",o=0;o<this.filteredItems.length;o++)this.filteredItems[o]===e&&(this.firstRun&&this.initialNgModel&&null!==this.ngModel&&(this.firstRun=!1,this.selectedItems.push(this.ngModel)),this.selectedItems.push(e));for(var i=0;i<this.selectedItems.length;i++)this.selectedItems.length>1?this.ngModelValue+=this.selectedItems[i][this.itemDisplayProperty]+" ":this.ngModelValue+=this.selectedItems[i][this.itemDisplayProperty];this.selectedItems.length<=0?this.ngModel=null:this.ngModel=this.selectedItems,this.ngChange&&this.ngChange({itemSelected:this.selectedItems}),(e||32===t.keyCode)&&("manual"===this.filterMode&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items),t.preventDefault(),t.stopPropagation()}else e&&(this.setFocusedRow(-1),this.filterText="",this.ngModel=e,this.ngModelValue=this.showSelectedItem===!1?"":e[this.itemDisplayProperty],this.ngChange&&this.ngChange({itemSelected:e}),"manual"===this.filterMode&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items,this.closeDropdown(),t.preventDefault(),t.stopPropagation())},e.prototype.resetInput=function(){this.setFocusedRow(-1),null===this.filterText&&null===this.ngModel&&(this.ngModelValue=""),"manual"===this.filterMode&&this.multiSelect&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items,this.multiSelect||this.closeDropdown()},e.prototype.backspacePressedResetInput=function(){this.ngModel=null,this.setFocusedRow(-1),null===this.filterText&&null===this.ngModel&&(this.ngModelValue="")},e.prototype.setFocusedRow=function(e){this.currentIndex=e,this.currentIndex>=0&&this.currentIndex<this.filteredItems.length?this.focusedRow=this.filteredItems[this.currentIndex]:this.focusedRow=void 0},e.prototype.onKeyboardPressed=function(e){this.event=e;var t={BACKSPACE:8,TAB:9,RETURNKEY:13,ESCAPE:27,SPACEBAR:32,UPARROW:38,DOWNARROW:40,PAGEDOWN:34};switch(e.keyCode){case t.BACKSPACE:if(this.multiSelect){var n,o,r,i=[],s=document.getElementById("inputElement"),a=s.selectionStart,l=s.selectionEnd;if(r=s.value.substring(a,l)){var c=r.split(" ");for(n=0;n<c.length;n++)""!==c[n]&&i.push(c[n]);for(this.initialNgModel&&this.initialNgModel[this.itemDisplayProperty]===i[0]&&(this.initialNgModel=null),n=0;n<this.selectedItems.length;n++)for(o=0;o<i.length;o++)this.selectedItems[n][this.itemDisplayProperty]===i[o]&&this.selectedItems.splice(n,1);for(this.ngModelValue="",this.ngModel=this.selectedItems,n=0;n<this.selectedItems.length;n++)this.ngModelValue+=this.selectedItems[n][this.itemDisplayProperty]+" "}else for(n=this.ngModelValue.length-1;n>=0;n--){if(" "!==this.ngModelValue[n])for(this.selectedItems.pop(),this.ngModelValue="",0===this.selectedItems.length?(this.ngModel=null,this.initialNgModel=null,"manual"===this.filterMode&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items):this.ngModel=this.selectedItems,o=0;o<this.selectedItems.length;o++)this.ngModelValue+=this.selectedItems[o][this.itemDisplayProperty]+" ";break}}else this.ngModelValue.length-1===0?this.backspacePressedResetInput():this.ngModelValue.length-this.ngModelValue.length===0&&this.backspacePressedResetInput();break;case t.ESCAPE:this.resetInput(),e.preventDefault();break;case t.PAGEDOWN:this.resetInput(),e.preventDefault();break;case t.TAB:this.resetInput(),e.preventDefault();break;case t.UPARROW:this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.filteredItems.length-1),this.setFocusedRow(this.currentIndex),e.preventDefault();break;case t.DOWNARROW:this.currentIndex++,this.currentIndex>this.filteredItems.length-1&&(this.currentIndex=0),this.setFocusedRow(this.currentIndex),e.preventDefault();break;case t.SPACEBAR:this.onSelectedLocal(this.filteredItems[this.currentIndex],e);break;case t.RETURNKEY:this.onSelectedLocal(this.filteredItems[this.currentIndex],e),"manual"===this.filterMode&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items,e.preventDefault()}},e.prototype.filterTextChangeLocal=function(e){this.multiSelect&&8!==this.event.keyCode&&13!==this.event.which?(this.setFocusedRow(-1),"auto"===this.filterMode&&"standard"===this.dropdownSelectType?this.filteredItems=this.$filter("filter")(this.items,(t={},t[this.itemDisplayProperty]=this.ngModelValue,t)):"auto"===this.filterMode&&"grid"===this.dropdownSelectType?this.filteredItems=this.$filter("filter")(this.items,this.ngModelValue):"manual"===this.filterMode&&this.filterTextChange({text:this.ngModelValue})):this.multiSelect||(this.setFocusedRow(-1),"auto"===this.filterMode&&"standard"===this.dropdownSelectType?this.filteredItems=this.$filter("filter")(this.items,(n={},n[this.itemDisplayProperty]=this.ngModelValue,n)):"auto"===this.filterMode&&"grid"===this.dropdownSelectType?this.filteredItems=this.$filter("filter")(this.items,this.ngModelValue):"manual"===this.filterMode&&this.filterTextChange({text:this.ngModelValue}));var t,n},e.prototype.toggleDropdown=function(e){this.ngDisabled||(this.open?this.closeDropdown():this.openDropdown(e))},e.prototype.clearSelection=function(e){this.setFocusedRow(-1),this.ngModel=null,this.initialNgModel=null,this.ngModelValue="",this.selectedItems=[],this.ngChange&&this.ngChange({itemSelected:""}),"manual"===this.filterMode&&this.staticItems?this.filteredItems=this.staticItems:this.filteredItems=this.items,this.closeDropdown(),e.preventDefault(),e.stopPropagation()},e.prototype.closeDropdown=function(){var e=this;e.open&&(e.open=!1,e.$document.unbind("click",this.closeDropdown))},e.prototype.openDropdown=function(e){var t=this;t.open||(t.$document.bind("click",function(e){var n=$(t.$element).has(e.target).length>0,o=t.$element[0]===e.target;n||o||t.$scope.$apply(function(){t.closeDropdown()})}),t.open=!0)},e.$inject=["$scope","$document","$attrs","$element","$filter"],e}();e.DropdownComponent=t}(t=e.dropdownSelect||(e.dropdownSelect={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.file",["ers.components.core"]);var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.file=e}return e.prototype._onBeforeUpload=function(){this.isReadyToUpload=!0,this.isUploading=!0,this.isUploaded=!1,this.isUploadSuccess=!1,this.isUploadCanceled=!1,this.isUploadError=!1,this.uploadProgress=0},e.prototype._onUploadProgress=function(e){this.uploadProgress=e},e.prototype._onUploadSuccess=function(e,t,n){this.isReadyToUpload=!1,this.isUploading=!1,this.isUploaded=!0,this.isUploadSuccess=!0,this.isUploadCanceled=!1,this.isUploadError=!1,this.uploadProgress=100},e.prototype._onUploadError=function(e,t,n){this.isReadyToUpload=!1,this.isUploading=!1,this.isUploaded=!0,this.isUploadSuccess=!1,this.isUploadCanceled=!1,this.isUploadError=!0},e.prototype._onUploadCancel=function(e,t,n){this.isReadyToUpload=!1,this.isUploading=!1,this.isUploaded=!1,this.isUploadSuccess=!1,this.isUploadCanceled=!0,this.isUploadError=!1,this.uploadProgress=0},e.prototype._onUploadComplete=function(e,t,n){},e.prototype.destroy=function(){},e.prototype.prepareToUploading=function(){this.isReadyToUpload=!0},e.prototype.abortUpload=function(){this.xhrTransport&&this.xhrTransport.abort()},e.prototype.uploadHasBegun=function(){return this.isUploading||this.isUploadCanceled||this.isUploadError||this.isUploadSuccess||this.isUploaded},e}();e.FileItem=t}(t=e.file||(e.file={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.file").directive("ersFile",function(){return{restrict:"E",templateUrl:"file/template/file-template.html",transclude:!0,scope:{id:"@",selection:"=",multiple:"=?",maxFiles:"@?",maxSize:"@?",filters:"=?",types:"=?",extensions:"=?",onAddingFiles:"&",onWhenAddingFileFailed:"&",selectionInputPlaceHolderText:"@",instructionText:"@",dropZoneAdditionalText:"@",actionButtonText:"@",actionButtonVisible:"=?",actionButtonAction:"&",uploaderOptions:"=?",selectedItemContextMenu:"=?",allErrorsTogether:"=?",informationTooltipTxt:"=?",applyFiltersOnlyOnPush:"=?"},controllerAs:"ctrl",bindToController:!0,controller:o}});var o=function(e){function n(t,n,o,r,i,s){var a=this;e.call(this,t,n,null,s),this._multiple=!0,this._maxFiles=-1,this._maxSize=-1,this.selecting=!1,this.applyFiltersOnlyOnPush=!1,this.selectionInputPlaceHolderText="Select your files here.",this._actionButtonVisible=!1,this._actionButtonText="",this.dropZoneAdditionalText="",this.uploading=!1,this.instructionText="Upload your files here:",this.xhrTransport=function(e){var t=new XMLHttpRequest,n=new FormData;if(!e||!e.file||"number"!=typeof e.file.size)throw new TypeError("The file specified is no longer valid");n.append("file",e.file,e.file.name),t.upload.onloadstart=function(){e._onBeforeUpload(),a.updateUploadingItems(),a.render()},t.upload.onprogress=function(t){var n=Math.round(t.lengthComputable?100*t.loaded/t.total:0);a._onUploadProgressItem(e,n),a.render()},t.onload=function(){var n=a.parseHeaders(t.getAllResponseHeaders()),o=a.transformResponse(t.response,n);a.isSuccessCode(t.status)?a._onUploadSuccessItem(e,o,t.status,n):(e.uploadError=o,e.isUploadError=!0,a.updateFailedItems()),a._onUploadCompleteItem(e,o,t.status,n),a.updateUploadingItems(),a.updateUploadedItems(),a.render()},t.onerror=function(){var n=a.parseHeaders(t.getAllResponseHeaders()),o=a.transformResponse(t.response,n);e.uploadError=o,a._onUploadErrorItem(e,o,t.status,n),a._onUploadCompleteItem(e,o,t.status,n),a.updateUploadingItems(),a.updateFailedItems(),a.render()},t.onabort=function(){var n=a.parseHeaders(t.getAllResponseHeaders()),o=a.transformResponse(t.response,n);a._onUploadCancelItem(e,o,t.status,n),a._onUploadCompleteItem(e,o,t.status,n),a.updateUploadingItems(),a.render()},t.withCredentials=a.uploaderOptions.withCredentials,t.open(a.uploaderOptions.method?a.uploaderOptions.method:"post",a.uploaderOptions.url,!0),angular.forEach(a.uploaderOptions.headers,function(e,n){t.setRequestHeader(n,e)}),t.send(n),a.render()},this.promiseService=o,this.$rootscope=r,this.$http=i,this.configureUI(),this.configureFilters()}return __extends(n,e),n.prototype.configureUI=function(){var e=this;this.$element&&setTimeout(function(){var t=e.$element.find("#selectFiles_"+e.id);t.bind("change",function(t){e.fileListToSelect=t.currentTarget.files,e.pushFiles(e.fileListToSelect),$(t.currentTarget).val("")});var n=e.$element.find(".dropzone");n.bind("drop",function(t){var o=t.originalEvent,r=o.dataTransfer;r.dropEffect="copy",event.preventDefault(),event.stopPropagation(),e.fileListToSelect=r.files,e.pushFiles(e.fileListToSelect),n.removeClass("file-over")}),n.bind("dragover",function(e){return n.addClass("file-over"),event.preventDefault(),event.stopPropagation(),!1}),n.bind("dragstart",function(e){return event.preventDefault(),event.stopPropagation(),!1}),n.bind("dragend",function(e){return n.addClass("file-over"),event.preventDefault(),event.stopPropagation(),!1}),n.bind("dragleave",function(e){return n.removeClass("file-over"),event.preventDefault(),event.stopPropagation(),!1})},1e3)},Object.defineProperty(n.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actionButtonVisible",{get:function(){return this._actionButtonVisible||angular.isDefined(this.uploaderOptions)&&null!=this.uploaderOptions},set:function(e){this._actionButtonVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actionButtonText",{get:function(){return this.uploaderOptions&&!this._actionButtonText?"Upload":this._actionButtonText},set:function(e){this._actionButtonText=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actionButtonAction",{get:function(){return this.uploaderOptions?this.upload:this._actionButtonAction},set:function(e){this._actionButtonAction=e},enumerable:!0,configurable:!0}),n.prototype.getSelectorUploaderText=function(){var e=" file",t="";if(this.selection&&this.selection.filter(function(e){return e.uploadHasBegun()}).length>0)if(this.uploading){var n=this.uploaderOptions.uploadStatus.uploading;t=n>1?"s":"",e=n+e+t+" in progress..."}else{var o=this.uploaderOptions.uploadStatus.uploaded;t=o>1?"s":"",e=o+e+t+" uploaded"}else{var r=this.selection?this.selection.length:0;t=r>1?"s":"",e=r+e+t+" selected"}return e},n.prototype.configureFilters=function(){var e=this;this.filters||(this.filters=[]),this.filters.unshift({filterName:"queueLimit",fn:this.queueLimitFilter,errorMessage:function(){var t=1;return e.multiple&&(t=e._maxFiles),"The maximum number of files is: "+t}}),this.filters.unshift({filterName:"sizeLimit",fn:this.sizeLimitFilter,errorMessage:function(){return"The file size limit is: ("+e.maxSize+") exceeded"}}),this.filters.unshift({filterName:"typeFilter",fn:this.typeFilter,errorMessage:function(){return"The allowed filed types are: "+(angular.isUndefined(e.types)?"All":e.types)}}),this.filters.unshift({filterName:"extensionFilter",fn:this.extensionFilter,errorMessage:function(){return"The allowed extensions are: "+(angular.isUndefined(e.extensions)?"All":e.extensions)}}),this.filters.unshift({filterName:"folder",fn:this.folderFilter,errorMessage:function(){return"You cannot select a folder."}})},Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){var t=this._filters;this._filters=e,this.configureFilters(),angular.equals(t,e)||this.verifyFiles()},enumerable:!0,configurable:!0}),n.prototype.folderFilter=function(e){var t=this.promiseService.defer();return e.file.size||e.file.type?t.resolve():t.reject(),t.promise},n.prototype.queueLimitFilter=function(e,t){var n=this.promiseService.defer();if(!this.multiple&&this.fileListToSelect||this.multiple&&(angular.isUndefined(this.maxFiles)||angular.equals(this.maxFiles,"")||this.maxFiles<0))n.resolve();else{var o=t,r=this.multiple?this.maxFiles:1;o+=this.selection&&null!==this.fileListToSelect?this.selection.length:1,r>=o?n.resolve():n.reject()}return n.promise},n.prototype.sizeLimitFilter=function(e){var t=this.promiseService.defer();return(!angular.isUndefined(this.maxSize)&&!angular.equals(this.maxSize,"")&&this.maxSize>=0?e.file.size/1e6<=this.maxSize:!0)?t.resolve():t.reject(),t.promise},n.prototype.typeFilter=function(e){var t=this.promiseService.defer();if(this.types&&this.types.length){var n=!0;angular.forEach(this.types,function(t){n=null===t||null!==e.file.type.toLowerCase().match(t)}),n?t.resolve():t.reject()}else t.resolve();return t.promise},n.prototype.extensionFilter=function(e){var t=this.promiseService.defer();if(this.extensions&&this.extensions.length){var n,o=!1,r=e.file.name.split(".");r.length>1?(n=r[r.length-1],angular.forEach(this.extensions,function(e){(null===e||null!==n.toLowerCase().match(e.toLowerCase()))&&(o=!0)}),o?t.resolve():t.reject()):t.reject()}else t.resolve();return t.promise},n.prototype.removeFile=function(e,t,n){void 0===n&&(n=!1);var o=this.selection[e];n&&o.isUploadError||(o.isUploading&&this.cancelUpload(o),t&&o.isUploaded&&this.uploaderOptions.uploadStatus.uploaded--,o.destroy(),delete this.selection[e],this.selection.splice(e,1),0===this.selection.length&&(this.uploading=!1,this.initUploadStatus(),this.resetUploadProgress(!0)))},n.prototype._removeFile=function(e,t,n){void 0===n&&(n=!1),this.removeFile(this.selection.indexOf(e),t,n)},n.prototype.removeAllFiles=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=!1),this.uploading=!1;var o=this.selection.concat([]);angular.forEach(o,function(o){n._removeFile(o,t,e)})},Object.defineProperty(n.prototype,"maxFiles",{get:function(){return this._maxFiles},set:function(e){var t=this._maxFiles;this._maxFiles=e,t!==e&&this.verifyFiles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},set:function(e){var t=this._maxSize;this._maxSize=e,t!==e&&this.verifyFiles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItemContextMenu",{get:function(){return this._selectedItemContextMenu},set:function(e){this._selectedItemContextMenu=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return this._types},set:function(e){var t=this._types;this._types=e,t!==e&&this.verifyFiles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extensions",{get:function(){return this._extensions},set:function(e){var t=this._extensions;this._extensions=e,t!==e&&this.verifyFiles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this.$element){var t=this.$element.find("#selectFiles_"+this.id),n=this.$element.find(".dropzone");e?(t&&$(t).attr("multiple","multiple"),n&&$(n).attr("multiple","multiple")):(t&&$(t).removeAttr("multiple"),n&&$(n).removeAttr("multiple"))}var o=this._multiple;this._multiple=e,o!==e&&this.verifyFiles()},enumerable:!0,configurable:!0}),n.prototype.pushFiles=function(e){var n=this,o=0,r=e.length;this.filesSelected=[];var i=this.promiseService.defer();if(this.promiseService){var s=0;this.selecting=!0,angular.forEach(e,function(e){var a=new t.FileItem(e),l=n.checkFilters(a,0,s);s+=1,l.then(function(){n.selection&&n.multiple||(n.selection=[]),n.filesSelected.push(a)},function(e){n.manageError(a,e),a=null})["finally"](function(){o+=1,n.selecting&&o===r&&(n.filesSelected&&n.filesSelected!==[]&&(n.selection||(n.selection=[]),n.selection=n.selection.concat(n.filesSelected),n.manageErrorsBulk(),n.onAddingFiles(n.filesSelected),n.uploaderOptions&&(n.resetUploadProgress(),n.uploaderOptions.uploadStatus&&(n.uploaderOptions.uploadStatus.toBeUploaded=n.selection.length-n.getProcessedItems().length),n.autoUpload()&&n.upload()),n.filesSelected=null),i.resolve(),n.selecting=!1,n.filesSelected=[],n.fileListToSelect=null)})},this)}else i.resolve();return i.promise},n.prototype.verifyFiles=function(){var e=this,t=this.promiseService?this.promiseService.defer():null,n=t?t.promise:null;return!n||this.applyFiltersOnlyOnPush||!this.selection||this.selection.length<1||!this.promiseService?n:(angular.forEach(this.selection,function(n){var o=e.selection.indexOf(n),r=e.checkFilters(n,0,o);r.then(function(){o=e.selection.indexOf(n),o===e.selection.length&&(e.manageErrorsBulk(),t.resolve())},function(r){o=e.selection.indexOf(n),e.removeFile(o,!0),e.manageError(n,r),o===e.selection.length&&(e.manageErrorsBulk(),t.resolve())})},this),n)},n.prototype.checkFilters=function(e,t,n){var o=this,r=t,i=this.promiseService?this.promiseService.defer():null,s=i?i.promise:null;if(s&&this.filters.length)if(t<this.filters.length){var a=this.filters[t];if(a){var l=a.fn.call(this,e,n);l.then(function(){r+=1,l=o.checkFilters(e,r,n),l.then(function(){i.resolve()},function(e){i.reject(e)})},function(){i.reject(a)})}else i.resolve()}else i.resolve();else i.resolve();return s},n.prototype._onWhenAddingFileFailed=function(e){this.onWhenAddingFileFailed&&this.onWhenAddingFileFailed({errors:e})},n.prototype.manageError=function(e,t){var n={file:e.file.name,message:t.errorMessage?t.errorMessage():"",filter:t.filterName};this.allErrorsTogether?(this.selectFileError||(this.selectFileError=[]),this.selectFileError.push(n)):this._onWhenAddingFileFailed([n])},n.prototype.manageErrorsBulk=function(){this.selectFileError&&(this._onWhenAddingFileFailed(this.selectFileError),this.selectFileError=null),this.fileListToSelect=null},n.prototype.upload=function(e){var t=this;if(this.uploading=!0,e)this.xhrTransport(e);else{this.initUploadStatus(0),this.resetUploadProgress();var n=this.getNotUploadedItems().filter(function(e){return!e.isUploading});setTimeout(function(){if(angular.forEach(n,function(e){t.uploaderOptions.simultaneousUpload?t.xhrTransport(e):e.prepareToUploading()}),!t.uploaderOptions.simultaneousUpload){if(!n.length)return;t.xhrTransport(n[0])}},0)}},n.prototype.cancelUpload=function(e){e&&e.isUploading&&e.abortUpload()},n.prototype.cancelAllUpload=function(){var e=this,t=this.getNotUploadedItems();angular.forEach(t,function(t){e.cancelUpload(t)})},n.prototype.getReadyItems=function(){return this.selection.filter(function(e){return e.isReadyToUpload&&!e.isUploading})},n.prototype.getNotUploadedItems=function(){return this.selection.filter(function(e){return!e.isUploaded})},n.prototype.getProcessedItems=function(){return this.selection.filter(function(e){return e.uploadHasBegun()})},n.prototype.removeAfterUpload=function(){return this.uploaderOptions?this.uploaderOptions.removeAfterUpload:!1},n.prototype.autoUpload=function(){return this.uploaderOptions?this.uploaderOptions.autoUpload:!1},n.prototype.initUploadStatus=function(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),this.uploaderOptions&&(this.uploaderOptions.uploadStatus||(this.uploaderOptions.uploadStatus={uploaded:0,uploading:0,failed:0,toBeUploaded:this.selection.length,progress:0}),this.uploaderOptions.uploadStatus.uploading=e,this.uploaderOptions.uploadStatus.uploaded=t,this.uploaderOptions.uploadStatus.progress=o,this.uploaderOptions.uploadStatus.failed=n)},n.prototype.updateUploadingItems=function(e){void 0===e&&(e=-1);var t=-1!==e?e:this.selection.filter(function(e){return e.isUploading}).length;this.uploaderOptions.uploadStatus?this.uploaderOptions.uploadStatus.uploading=t:this.initUploadStatus(t,this.uploaderOptions.uploadStatus.uploaded,this.uploaderOptions.uploadStatus.failed,this.uploaderOptions.uploadStatus.progress)},n.prototype.updateUploadedItems=function(e){void 0===e&&(e=-1),this.uploaderOptions.uploadStatus.uploaded=-1!==e?e:this.selection.filter(function(e){return e.isUploadSuccess}).length},n.prototype.updateFailedItems=function(e){void 0===e&&(e=-1),this.uploaderOptions.uploadStatus.failed=-1!==e?e:this.selection.filter(function(e){return e.isUploadError}).length},n.prototype.resetUploadProgress=function(e){var t=this;this.$timeout(function(){e?(t.uploaderOptions&&(t.uploaderOptions.uploadStatus.progress=0),angular.forEach(t.selection,function(e){e.uploadProgress=0,t.render()})):t.uploaderOptions&&t.uploaderOptions.uploadStatus&&(t.uploaderOptions.uploadStatus.progress=t.getTotalUploadProgress()),t.render()})},n.prototype.getTotalUploadProgress=function(e){if(this.removeAfterUpload())return e||0;var t=this.getNotUploadedItems().length,n=t?this.selection.length-t:this.selection.length,o=100/this.selection.length,r=(e||0)*o/100;return Math.round(n*o+r)},n.prototype.isSuccessCode=function(e){return e>=200&&300>e||304===e},n.prototype.transformResponse=function(e,t){var n=this.headersGetter(t);return angular.forEach(this.$http.defaults.transformResponse,function(t){e=t(e,n)}),e},n.prototype.parseHeaders=function(e){var t,n,o,r={};return e?(angular.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=e.slice(0,o).trim().toLowerCase(),n=e.slice(o+1).trim(),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r},n.prototype.headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||null:e}},n.prototype._onUploadProgressItem=function(e,t){var n=this.getTotalUploadProgress(t);this.uploaderOptions.uploadStatus.progress=n,e._onUploadProgress(t),this.render()},n.prototype._onUploadSuccessItem=function(e,t,n,o){e._onUploadSuccess(t,n,o)},n.prototype._onUploadErrorItem=function(e,t,n,o){e._onUploadError(t,n,o)},n.prototype._onUploadCancelItem=function(e,t,n,o){e._onUploadCancel(t,n,o)},n.prototype._onUploadCompleteItem=function(e,t,n,o){
if(e._onUploadComplete(t,n,o),this.uploaderOptions.uploadStatus.toBeUploaded--,!e.isUploadError&&this.uploaderOptions.removeAfterUpload&&this.removeFile(this.selection.indexOf(e),!1),!this.uploaderOptions.simultaneousUpload){var r=this.getReadyItems()[0];if(angular.isDefined(r))return void this.upload(r);this.uploaderOptions.uploadStatus.progress=this.getTotalUploadProgress()}0===this.getReadyItems().length&&this._onUploadCompleteAllItems(),this.render()},n.prototype._onUploadCompleteAllItems=function(){this.uploaderOptions.removeAllAfterUpload?this.removeAllFiles(!0):(this.updateUploadingItems(0),this.uploading=!1),this.render()},n.prototype.render=function(){this.$rootscope.$$phase||this.$rootscope.$apply()},n.$inject=["$scope","$element","$q","$rootScope","$http","$timeout"],n}(n);t.FileComponent=o}(n=t.file||(t.file={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController;angular.module("ers.components.file").directive("ersImageFileThumb",function(){return{restrict:"E",template:"<div><canvas/></div>",controller:o,controllerAs:"thumbCtrl",scope:{file:"=",height:"@",width:"@"},bindToController:!0}});var o=function(e){function t(t,n){var o=this;e.call(this,t,n),this.onLoadFile=function(e){o.img=new Image,o.img.onload=o.onLoadImage,o.img.src=e.target.result},this.onLoadImage=function(){if(o.canvas){var e=o.width||o.img.width/o.img.height*o.height,t=o.height||o.img.height/o.img.width*o.width;o.canvas.attr({width:e,height:t}),o.canvas[0].getContext("2d").drawImage(o.img,0,0,e,t)}},this.isValid(this.file)&&(t.$on("$destroy",function(){o.img&&(o.img.removeEventListener("load",o.onLoadImage),o.img=null),o.canvas&&($(document).remove("canvas"),o.canvas=null),o.reader&&(o.reader.removeEventListener("load",o.onLoadFile),o.reader=null)}),this.canvas=n.find("canvas"),this.reader=new FileReader,this.reader.onload=this.onLoadFile,this.reader.readAsDataURL(this.file))}return __extends(t,e),Object.defineProperty(t.prototype,"file",{get:function(){return this._file},set:function(e){this._file=e,this.reader&&this.reader.readAsDataURL(this.file)},enumerable:!0,configurable:!0}),t.prototype.isValid=function(e){return this.isFile(this.file)&&this.isImage(this.file)?!0:!1},t.prototype.isFile=function(e){return angular.isObject(e)&&e instanceof File},t.prototype.isImage=function(e){var t="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(t)},t.$inject=["$scope","$element"],t}(n);t.ImageFileThumbComponent=o}(n=t.file||(t.file={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;t._formModule.directive("ersForm",function(){return{restrict:"A",controller:o,controllerAs:"c",bindToController:!0}});var o=function(e){function t(t,n,o,r){var i=this;e.call(this,t,n),this._formService=r,"FORM"===n.context.tagName&&(this.formName=o.name,this.submitFct=o.ersForm,this.$element.submit(function(){i.ersOnSubmitEventWrapper()}))}return __extends(t,e),t.prototype.ersOnSubmitEventWrapper=function(){if(this.$element){var e=this.$element.scope()[this.formName];e.$valid?this.$element.scope().$eval(this.submitFct):this._formService&&this._formService.showValidation(this.$element)}},t.$inject=["$scope","$element","$attrs","ersFormService"],t}(n);t.FormController=o}(n=t.form||(t.form={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.TEXT="text",e.DATE="date",e.NUMBER="number",e.CHECKBOX="checkbox",e.COMBOBOX="combobox",e}();e.DataType=t}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.renderer=function(e){var t=document.createElement("i");$(t).addClass("custom-checkbox fa");var n=function(e){var n,o;e?(n="fa-check-square-o",o="fa-square-o"):(n="fa-square-o",o="fa-check-square-o"),$(t).removeClass(o).addClass(n)},o=e.api.isNodeSelected(e.node)?"fa-check-square-o":"fa-square-o";return $(t).addClass(o),t.addEventListener("click",function(n){n.stopPropagation();var o=e.api.isNodeSelected(e.node);o?(e.api.deselectNode(e.node),$(t).removeClass("fa-check-square-o").addClass("fa-square-o")):(e.api.selectNode(e.node,!0),$(t).removeClass("fa-square-o").addClass("fa-check-square-o"))}),e.api.addVirtualRowListener(e.rowIndex,{rowSelected:function(e){n(e)},rowRemoved:function(){}}),t},e}();e.CheckboxSelectionRenderer=t}(t=e.renderer||(e.renderer={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.MULTIPLE="multiple",e.SINGLE="single",e}();e.RowSelectionMode=t}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.renderer=function(e){var t="ag-parent-node";return angular.isDefined(e.node.group)&&!e.node.group&&(t="ag-leaf-node"),"<span class='"+t+"'>"+e.value+"</span>"},e}();e.TreeviewCellRender=t}(t=e.renderer||(e.renderer={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.camelToDash=function(e){return e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},e}();e.StringUtils=t}(t=e.utils||(e.utils={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=function(){function e(e,t,n){this.$scope=e,this.$compile=t,this.$filterService=n}return e.prototype.renderer=function(e){this.setDataAccess(e);var t;return!angular.isDefined(e.colDef.editing)||angular.equals(e.colDef.editing,!1)?(t=angular.isDefined(e.colDef.userCellRenderer)?this.getUserCellRender(e):this.getReadingView(e),e.colDef.ersEditable&&$(t).dblclick(this.onDoubleClick.bind(this,e,t))):angular.equals(e.colDef.editing,!0)&&(t=this.getEditingView(e)),t},e.prototype.setDataAccess=function(e){e.colDef.valueGetter||(e.colDef.valueGetter=function(e){return null!=e.data[e.colDef.field]&&angular.isDefined(e.data[e.colDef.field])?e.data[e.colDef.field]:void 0})},e.prototype.getReadingView=function(e){var t=document.createElement("span");t.className="ag-cell-value-read";var n=e.value,o=document.createTextNode(n?n.toString():"");return t.appendChild(o),this.restoreCellOverflow(e),t},e.prototype.restoreCellOverflow=function(e){angular.isDefined(e.colDef.cellStyle)?e.colDef.cellStyle.overflow="hidden":e.colDef.cellStyle={overflow:"hidden"}},e.prototype.getUserCellRender=function(e){var t,n=e.colDef.userCellRenderer(e);return"string"==typeof n?(t=document.createElement("span"),t.innerHTML=n):t=n,angular.isDefined(e.colDef.cellStyle)?e.colDef.cellStyle.overflow="hidden":e.colDef.cellStyle={overflow:"hidden"},t},e.prototype.getOptionsAsString=function(e){var t="";return angular.isDefined(e)&&(angular.equals(e.ngRequired,!0)&&(t+=" ng-required='true'"),angular.equals(e.ngDisabled,!0)&&(t+=" ng-disabled='true'"),angular.equals(e.ngReadonly,!0)&&(t+=" ng-readonly='true'")),t},e.prototype.getEditingView=function(e){var t=document.createElement("span"),n=this.$scope.$new();n.params=e;var o="<input ng-model='params.value' />",r=this.$compile(o)(n);return n.$apply(),this.bindEvent(r,e,n),$(t).empty(),$(t).append(r),t},e.prototype.bindEvent=function(e,t,n){var o=this,r=$(e).find("input");r.on("blur",this.onBlur.bind(this,t,n)),r.keydown(function(e){o.onKeydown(e,t,n)})},e.prototype.onDoubleClick=function(e,t,n){n.stopPropagation(),e.colDef.editing=!0,e.refreshCell(),$(e.eGridCell.getElement()).find("input").focus()},e.prototype.onBlur=function(e,t,n){if(angular.equals(t.colDef.editing,!0)){if(delete t.colDef.editing,t.refreshCell(),angular.isDefined(t.value)){var o=this.getData(t),r=o!==t.value;r&&this.changeData(t)}else t.value=o;n.$destroy()}},e.prototype.getData=function(e){return angular.isDefined(e.colDef.valueGetter)?angular.isFunction(e.colDef.valueGetter)?e.colDef.valueGetter(e):e.colDef.valueGetter:e.data[e.colDef.field]},e.prototype.changeData=function(e){var t={node:e.node,data:e.node.data,oldValue:this.getData(e),newValue:e.value,rowIndex:e.rowIndex,colDef:e.colDef,api:e.api,context:e.context};angular.isDefined(e.colDef.newValueHandler)?e.colDef.newValueHandler(t):e.data[e.colDef.field]=e.value,"function"==typeof e.colDef.onCellValueChanged&&e.colDef.onCellValueChanged(t),e.api.eventService.dispatchEvent(ag.grid.Events.EVENT_CELL_VALUE_CHANGED,t)},e.prototype.onKeydown=function(e,t,o){e.which===n.ENTER?this.onBlur(e,t,o):e.which===n.ESCAPE&&(t.value=t.data[t.colDef.field],this.onBlur(e,t,o))},e}();t.CommonErsInputRenderer=o}(n=t.renderer||(t.renderer={}))}(n=t.grid||(t.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n=e.components.grid.utils.StringUtils,o=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.getInstance=function(e,n,o){return angular.isDefined(this._instance)||(this._instance=new t(e,n,o)),this._instance},t.prototype.getEditingView=function(e){var t=document.createElement("span"),n=this.$scope.$new();n.params=e;var o="<ers-textbox ng-model='params.value' ";angular.isDefined(e.colDef.ersCellRendererOptions)&&(o+=this.getOptionsAsString(e.colDef.ersCellRendererOptions)),o+="></ers-textbox>";var r=this.$compile(o)(n);return n.$apply(),this.bindEvent(r,e,n),$(t).empty(),$(t).append(r),t},t.prototype.bindEvent=function(e,t,n){var o=this,r=$(e).find("input");r.blur(function(e){o.onBlur(e,t,n)}),r.keydown(function(e){o.onKeydown(e,t,n)})},t.prototype.getOptionsAsString=function(t){var o=e.prototype.getOptionsAsString.call(this,t);return angular.isDefined(t)&&["name","ngPattern","ngMinLength","ngMaxlength","textAlign"].forEach(function(e){angular.isDefined(t[e])&&(o+=" "+n.camelToDash(e)+'="'+t[e]+'"')}),o},t}(t.CommonErsInputRenderer);t.ErsTextboxRenderer=o}(n=t.renderer||(t.renderer={}))}(n=t.grid||(t.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.grid.utils.StringUtils,r=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.getInstance=function(e,n,o){return angular.isDefined(this._instance)||(this._instance=new t(e,n,o)),this._instance},t.prototype.getReadingView=function(e){var t="amount";angular.isDefined(e.colDef.ersCellRendererOptions)&&angular.isDefined(e.colDef.ersCellRendererOptions.format)&&(t=e.colDef.ersCellRendererOptions.format);var n=document.createElement("span");n.className="ag-cell-value-read";var o=document.createTextNode(this.$filterService(t)(e.value));return n.appendChild(o),n},t.prototype.getEditingView=function(e){var t=document.createElement("span"),n=this.$scope.$new();n.params=e;var o="<ers-number ng-model='params.value' ";angular.isDefined(e.colDef.ersCellRendererOptions)&&(o+=this.getOptionsAsString(e.colDef.ersCellRendererOptions)),o+="></ers-number>";var r=this.$compile(o)(n);return n.$apply(),this.bindEvent(r,e,n),$(t).append(r),$(t).find("input").focus(),t},t.prototype.bindEvent=function(e,t,n){var o=this,r=$(e).find("input");r.blur(function(e){o.onBlur(e,t,n)}),r.keydown(function(e){o.onKeydown(e,t,n)})},t.prototype.onKeydown=function(e,t,o){e.which===n.ENTER&&this.onBlur(e,t,o)},t.prototype.getOptionsAsString=function(t){var n=e.prototype.getOptionsAsString.call(this,t);return angular.isDefined(t)&&["name","min","max","textAlign","format"].forEach(function(e){angular.isDefined(t[e])&&(n+=" "+o.camelToDash(e)+'="'+t[e]+'"')}),n},t}(t.CommonErsInputRenderer);t.ErsNumberRenderer=r}(n=t.renderer||(t.renderer={}))}(n=t.grid||(t.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$scope=e,this.$compile=t}return e.getInstance=function(t,n){return angular.isDefined(this._instance)||(this._instance=new e(t,n)),this._instance},e.prototype.renderer=function(e){var t="fa-check-square-o",n="fa-square-o",o=!1,r=!1,i=!0,s=!1,a=document.createElement("i");$(a).addClass("erscheckbox fa"),(angular.equals(e.colDef.ersCellRendererOptions.ngReadonly,!0)||angular.equals(e.colDef.ersCellRendererOptions.ngReadonly,"true")||angular.isUndefined(e.colDef.ersEditable)||angular.equals(e.colDef.ersEditable,!1))&&($(a).addClass("readonly"),o=!0),(angular.equals(e.colDef.ersCellRendererOptions.ngDisabled,!0)||angular.equals(e.colDef.ersCellRendererOptions.ngDisabled,"true"))&&($(a).addClass("disabled"),r=!0),angular.isDefined(e.colDef.ersCellRendererOptions.ngTrueValue)&&(i=e.colDef.ersCellRendererOptions.ngTrueValue),angular.isDefined(e.colDef.ersCellRendererOptions.ngFalseValue)&&(s=e.colDef.ersCellRendererOptions.ngFalseValue);var l=function(e){e?$(a).removeClass(n).addClass(t):$(a).removeClass(t).addClass(n)},c=function(){return angular.equals(e.value,i)};return l(c()),o||r||!angular.equals(e.colDef.ersEditable,!0)||a.addEventListener("click",function(t){c()?e.data[e.colDef.field]=s:e.data[e.colDef.field]=i,e.value=e.data[e.colDef.field],e.refreshCell();var n={node:e.node,data:e.node.data,oldValue:e.data[e.colDef.field],newValue:e.value,rowIndex:e.rowIndex,colDef:e.colDef,api:e.api,context:e.context};"function"==typeof e.colDef.onCellValueChanged&&e.colDef.onCellValueChanged(n),e.api.eventService.dispatchEvent(ag.grid.Events.EVENT_CELL_VALUE_CHANGED,n)}),a},e}();e.ErsCheckboxRenderer=t}(t=e.renderer||(e.renderer={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.getInstance=function(e,n,o){return angular.isDefined(this._instance)||(this._instance=new t(e,n,o)),this._instance},t.prototype.getEditingView=function(e){var t=document.createElement("span"),n=this.$scope.$new(),o=this.getCompiledTemplate(e,n);return this.bindEvents(o,e,n),$(t).append(o),e.colDef.cellStyle={overflow:"visible"},t},t.prototype.getCompiledTemplate=function(e,t){var n=e.colDef.ersCellRendererOptions;t.params=e,t.items=n.items;var o="<ers-combobox ng-model='params.value' ";o+=this.getOptionsAsString(n),o+=">",o+=this.getItemsTemplate(e,t),o+="</ers-combobox>";var r=this.$compile(o)(t);return r},t.prototype.getItemsTemplate=function(e,t){var n=e.colDef.ersCellRendererOptions,o="<ers-combobox-item ng-repeat='item in items' ";return o+="value='item'>",o+="<span>",angular.isDefined(n.innerRenderer)?(t.innerRenderer=n.innerRenderer,o+="{{ innerRenderer(item) }}"):o+="{{ item }}",o+="</span>",o+="</ers-combobox-item>"},t.prototype.bindEvents=function(e,t,n){var o=this;$(e).change(function(e){o.onBlur(e,t,n)});var r=function(r){r(function(){$(e).find("button").on("blur",function(e){o.onBlur(e,t,n)})},0)};r.$inject=["$timeout"],angular.injector(["ng"]).invoke(r),$(e).find(".dropdown-select").keydown(function(e){o.onKeydown(e,t,n)})},t.prototype.onDoubleClick=function(t,n,o){e.prototype.onDoubleClick.call(this,t,n,o);var r=function(e){e(function(){$(t.eGridCell.getElement()).find("button").focus()},0)};r.$inject=["$timeout"],angular.injector(["ng"]).invoke(r)},t}(e.CommonErsInputRenderer);e.ErsComboboxRenderer=t}(t=e.renderer||(e.renderer={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n=function(t){function n(e,n,o){t.call(this,e,n,o)}return __extends(n,t),n.getInstance=function(e,t,o){return angular.isDefined(this._instance)||(this._instance=new n(e,t,o)),this._instance},n.prototype.getReadingView=function(t){var n=e.components.calendar.CalendarComponent.DEFAULT_DATE_FORMAT;angular.isDefined(t.colDef.ersCellRendererOptions)&&angular.isDefined(t.colDef.ersCellRendererOptions.dateFormat)&&(n=t.colDef.ersCellRendererOptions.dateFormat);var o=document.createElement("span");o.className="ag-cell-value-read";var r=t.value,i=document.createTextNode(this.$filterService("date")(r,n));return o.appendChild(i),this.restoreCellOverflow(t),o},n.prototype.getEditingView=function(e){var t=this,n=document.createElement("span"),o=this.$scope.$new(),r=function(n){t.onBlur(n,e,o)};document.addEventListener("mousewheel",function(n){t.onBlur(n,e,o)},!1),document.addEventListener("keydown",function(n){t.onBlur(n,e,o)},!1);var i=this.getCompiledTemplate(e,o,r),s=i.find("input");return s.keydown(function(n){t.onKeydown(n,e,o)}),$(n).append(i),e.colDef.cellStyle={overflow:"visible"},n},n.prototype.getCompiledTemplate=function(t,n,o){var r=t.colDef.ersCellRendererOptions;n.params=t,n.blur=o;var i=e.components.calendar.CalendarComponent.DEFAULT_DATE_FORMAT,s="<ers-calendar on-close='blur' append-to-body='false' ng-model='params.value' ";s+=this.getOptionsAsString(r),angular.isDefined(r)?angular.isDefined(r.dateFormat)&&(s+=" date-format='"+r.dateFormat+"'"):s+=" date-format='"+i+"'",s+=">",s+="</ers-calendar>";var a=this.$compile(s)(n);return n.$apply(),a},n}(t.CommonErsInputRenderer);t.ErsCalendarRenderer=n}(n=t.renderer||(t.renderer={}))}(n=t.grid||(t.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent,o=t.renderer.CheckboxSelectionRenderer;angular.module("ers.components.grid",[e.components.core.coreModule.name,"ers.components.textbox","ers.components.numberbox","ers.components.checkbox","ers.components.combobox","agGrid"]),t.gridModule=angular.module("ers.components.grid"),t.gridModule.directive("ersGrid",function(){return{restrict:"E",templateUrl:"grid/template/grid-template.html",scope:{options:"="},controller:r,controllerAs:"gridController",bindToController:!0,require:"ersGrid",link:function(e,t,n,o){o.init()}}});var r=function(e){function n(t,o,r,i,s,a){e.call(this,i,o,r),this.initialized=!1,this.loadingMessage=n.MESSAGES[0],this.logger=t,this.$compile=s,this.$filterService=a}return __extends(n,e),n.prototype.init=function(){this.$element.addClass("ers-grid"),angular.isDefined(this.options)?(this.customizeHeaderStyle(),this.customizeRows(),this.setrowSelection(),this.customizeForTreeView(),this.checkEditableRenderer(),this.checkCheckboxSelection(),this.addListeners(),this.initialized=!0):(this.loadingMessage=n.MESSAGES[1],this.logger.error("Unable to load your grid, it seems the options has not been set"))},n.prototype.addListeners=function(){this.options["on"+_.capitalize(ag.grid.Events.EVENT_COLUMN_EVERYTHING_CHANGED)]=this.checkCheckboxSelection.bind(this)},n.prototype.customizeHeaderStyle=function(){angular.isDefined(this.options.headerHeight)||(this.options.headerHeight=30)},n.prototype.customizeRows=function(){angular.isDefined(this.options.rowHeight)||(this.options.rowHeight=30)},n.prototype.setrowSelection=function(){angular.isDefined(this.options.rowSelection)||(this.options.rowSelection=t.RowSelectionMode.SINGLE)},n.prototype.customizeForTreeView=function(){angular.isDefined(this.options.rowsAlreadyGrouped)&&this.options.rowsAlreadyGrouped&&(angular.isDefined(this.options.columnDefs)&&this.options.columnDefs.length>0&&(angular.isDefined(this.options.columnDefs[0].cellRenderer)?this.options.columnDefs[0].cellRenderer.renderer="groupe":this.options.columnDefs[0].cellRenderer={renderer:"group",innerRenderer:(new t.renderer.TreeviewCellRender).renderer}),angular.isDefined(this.options.icons)||(this.options.icons={groupExpanded:n.GROUP_EXPANDED_ICON,groupContracted:n.GROUP_CONTRACTED_ICON}))},n.prototype.checkCheckboxSelection=function(){if(angular.isDefined(this.options.checkboxSelection)&&this.options.checkboxSelection&&(angular.isDefined(this.options.rowSelection)||(this.options.rowSelection=t.RowSelectionMode.SINGLE),angular.isDefined(this.options.checkboxSelectionPinned)||(angular.isDefined(this.options.pinnedColumnCount)||(this.options.pinnedColumnCount=0),this.options.pinnedColumnCount=this.options.pinnedColumnCount+1,this.options.checkboxSelectionPinned=!0),angular.isArray(this.options.columnDefs)||(this.options.columnDefs=[]),this.options.columnDefs.length>0&&(angular.isUndefined(this.options.columnDefs[0].name)||angular.isDefined(this.options.columnDefs[0].name)&&"ers-checkbox-selection"!==this.options.columnDefs[0].name))){var e=this.options.columnDefs.slice();e.unshift({name:"ers-checkbox-selection",headerName:"",headerClass:"ers-checkbox-column",width:30,editable:!1,field:"",enableColResize:!1,suppressSorting:!0,suppressMenu:!0,cellClass:"ag-custom-checkbox",cellRenderer:(new o).renderer}),angular.isDefined(this.options.api)?this.options.api.setColumnDefs(e):this.options.columnDefs=e}},n.prototype.checkEditableRenderer=function(){for(var e=0;e<this.options.columnDefs.length;e++)angular.equals(this.options.columnDefs[e].editable,!0)&&(this.options.columnDefs[e].ersEditable=!0,delete this.options.columnDefs[e].editable),this.resolveCellRenderer(this.options.columnDefs[e]),this.patchDoubleClick(this.options.columnDefs[e]),this.checkCssStyleForColumn(this.options.columnDefs[e])},n.prototype.resolveCellRenderer=function(e){if(angular.isDefined(e.cellRenderer)&&angular.isDefined(e.cellRenderer.innerRenderer))return void this.logger.warn("ers-grid: The cell renderer is not yet supported.");var n;n=angular.isDefined(e.dataType)?e.dataType===t.DataType.NUMBER?t.renderer.ErsNumberRenderer.getInstance(this.$scope,this.$compile,this.$filterService):e.dataType===t.DataType.CHECKBOX?t.renderer.ErsCheckboxRenderer.getInstance(this.$scope,this.$compile):e.dataType===t.DataType.COMBOBOX?t.renderer.ErsComboboxRenderer.getInstance(this.$scope,this.$compile,this.$filterService):e.dataType===t.DataType.DATE?t.renderer.ErsCalendarRenderer.getInstance(this.$scope,this.$compile,this.$filterService):t.renderer.ErsTextboxRenderer.getInstance(this.$scope,this.$compile,this.$filterService):t.renderer.ErsTextboxRenderer.getInstance(this.$scope,this.$compile,this.$filterService),angular.isDefined(e.cellRenderer)&&angular.isUndefined(e.userCellRenderer)&&!angular.equals(e.cellRendererType,"ErsRenderer")&&(e.userCellRenderer=e.cellRenderer),e.cellRenderer=n.renderer.bind(n),e.cellRendererType="ErsRenderer"},n.prototype.patchDoubleClick=function(e){angular.isDefined(e.onCellDoubleClicked)&&(e.userOnCellDoubleClicked=e.onCellDoubleClicked),e.onCellDoubleClicked=function(e){angular.equals(e.colDef.editing,!0)||$(e.eventSource.firstChild.firstChild.firstChild).dblclick(),angular.isDefined(e.colDef.userOnCellDoubleClicked)&&e.colDef.userOnCellDoubleClicked(e)}},n.prototype.checkCssStyleForColumn=function(e){angular.isDefined(e.cellStyle)||(e.cellStyle=function(e){var n={top:"0px",left:"0px",right:"0px",bottom:"0px"};return angular.isDefined(e.colDef.ersCellRendererOptions)?(angular.isDefined(e.colDef.ersCellRendererOptions.textAlign)?n["text-align"]=e.colDef.ersCellRendererOptions.textAlign:angular.equals(e.colDef.dataType,t.DataType.NUMBER)?n["text-align"]="right":angular.equals(e.colDef.dataType,t.DataType.CHECKBOX)?n["text-align"]="center":n["text-align"]="left",n):(angular.equals(e.colDef.dataType,t.DataType.NUMBER)?n["text-align"]="right":angular.equals(e.colDef.dataType,t.DataType.CHECKBOX)&&(n["text-align"]="center"),n)})},n.$inject=["$log","$element","$attrs","$scope","$compile","$filter"],n.MESSAGES=["Loading...","Unable to load the grid without grid options. Please add grid options and try again."],n.GROUP_EXPANDED_ICON="<i class='fa fa-minus-square fa-fw'/>",n.GROUP_CONTRACTED_ICON="<i class='fa fa-plus-square-o fa-fw'/>",n}(n);t.GridComponent=r}(n=t.grid||(t.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.icon",["ers.components.core"]).directive("ersIcon",function(){return{restrict:"E",controller:o,controllerAs:"c",bindToController:!0,scope:{name:"@",ngDisabled:"=",size:"@"}}});var o=function(e){function t(t,n,o){e.call(this,t,n),this._size=-1,n.addClass("ers-icon"),this.$element.append("<span></span>"),this.spanHook=this.$element.find("span"),angular.isDefined(o.ngClick)&&(this.isClickable=!0,this.$element.addClass("clickable"),this.spanHook.find("span").addClass("clickable"),this.size>=0&&this.spanHook.find("i").css("font-size",this.size+"px")),this.configureClickListener()}return __extends(t,e),t.prototype.configureClickListener=function(){var e=this;this.spanHook.on("click",function(t){e.ngDisabled&&(t.preventDefault(),t.stopPropagation())})},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){var n=t.ICONS[e];angular.isDefined(n)?(this._name=e,angular.isDefined(this.spanHook)&&(this.spanHook.empty(),this.spanHook.append(n),this.isClickable&&this.spanHook.find("span").addClass("clickable"))):this._name=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){angular.isDefined(e)&&this.spanHook&&this.spanHook.find("i").css("font-size",e+"px")},enumerable:!0,configurable:!0}),t.ICONS={"processing-errors":'<span class="fa-danger-action"><i class="fa fa-spinner fa-spin"></i></span>',expand:'<span class="fa-information-action"><i class="fa fa-expand"></i></span>',collapse:'<span class="fa-information-action"><i class="fa fa-compress"></i></span>',"pie-chart":'<span class="fa-information-action"><i class="fa fa-pie-chart"></i></span>',move:'<span class="fa-information-action"><i class="fa fa-arrows"></i></span>',"data-grid":'<span class="fa-information-action"><i class="fa fa-th"></i></span>',notification:'<span class="fa-information-action"><i class="fa fa-bell"></i></span>',"move-up":'<span class="fa-information-action" ><i class="fa fa-arrow-up"></i></span>',history:'<span class="fa-information-action"><i class="fa fa-history"></i></span>',redo:'<span class="fa-information-action"><i class="fa fa-share-square"></i></span>',undo:'<span class="fa-information-action"><i class="fa fa-share-square fa-flip-horizontal"></i></span>',"move-down":'<span class="fa-information-action" ><i class="fa fa-arrow-down"></i></span>',preview:'<span class="fa-information-action"><i class="fa fa-eye"></i></span>',refresh:'<span class="fa-information-action"><i class="fa fa-refresh"></i></span>',add:'<span class="fa-success-action"><i class="fa fa-plus"></i></span>',"delete":'<span class="fa-danger-action"><i class="fa fa-times"></i></span>',edit:'<span class="fa-information-action"><i class="fa fa-pencil"></i></span>',filter:'<span class="fa-information-action"><i class="fa fa-filter"></i></span>',display:'<span class="fa-information-action"><i class="fa fa-desktop"></i></span>',calculator:'<span class="fa-information-action"><i class="fa fa-calculator"></i></span>',hierarchy:'<span class="fa-information-action"><i class="fa fa-sitemap"></i></span>',stop:'<span class="fa-danger-action fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-square fa-stack-1x fa-inverse"></i></span>',pause:'<span class="fa-information-action fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-pause fa-stack-1x fa-inverse"></i></span>',start:'<span class="fa-success-action"><i class="fa fa-play-circle"></i></span>',verified:'<span class="fa-success-action"><i class="fa fa-check-square-o"></i></span>',calendar:'<span class="fa-information"><i class="fa fa-calendar"></i></span>',"past-duedate":'<span class="fa-danger-action"><i class="fa fa-calendar"></i></span>',"near-duedate":'<span class="fa-warning-action"><i class="fa fa-calendar"></i></span>',"csv-doc":'<span class="fa-information-action"><i class="fa fa-file-excel-o"></i></span>',file:'<span class="fa-information-action"><i class="fa fa-file-o"></i></span>',"word-doc":'<span class="fa-information-action"><i class="fa fa-file-word-o"></i></span>',pdf:'<span class="fa-information-action"><i class="fa fa-file-pdf-o"></i></span>',trash:'<span class="fa-information-action"><i class="fa fa-trash"></i></span>',"edit-log":'<span class="fa-information-action"><i class="fa fa-pencil-square-o"></i></span>',comment:'<span class="fa-information-action"><i class="fa fa-comment-o"></i></span>',"jump-to":'<span class="fa-information-action"><i class="fa fa-share-square-o"></i></span>',save:'<span class="fa-information-action"><i class="fa fa-save"></i></span>',attachment:'<span class="fa-information-action"><i class="fa fa-paperclip"></i></span>',unlocked:'<span class="fa-information-action"><i class="fa fa-unlock-alt"></i></span>',locked:'<span class="fa-information-action"><i class="fa fa-lock"></i></span>',print:'<span class="fa-information-action"><i class="fa fa-print"></i></span>',statement:'<span class="fa-warning-action"><i class="fa fa-file-text-o"></i></span>',"cancel-action":'<span class="fa-information-action"><i class="fa fa-times-circle"></i></span>',folder:'<span class="fa-information-action"><i class="fa fa-folder-o"></i></span>',"add-folder":'<span class="fa-stack fa-lg stacked-icons fa-success-action"> <i class="fa fa-folder-o fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-plus fa-small fa-stack-1x"></i> </span></span>',"delete-folder":'<span class="fa-stack fa-lg stacked-icons fa-danger-action"> <i class="fa fa-folder-o fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-plus fa-small fa-stack-1x fa-rotate-45"></i> </span></span>',minus:'<span class="fa-information-action"><i class="fa fa-minus-square-o"></i></span>',favorite:'<span class="fa-warning fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-star fa-stack-1x fa-inverse"></i></span>',"delete-file":'<span class="fa-stack fa-lg stacked-icons fa-danger-action"><i class="fa fa-file-o fa-stack-2x"></i>   <span class="fa-stack stack-bg"><i class="fa fa-plus fa-stack-1x fa-small fa-rotate-45"></i></span></span>',"import-file":'<span class="fa-stack fa-lg stacked-icons fa-information-action"> <i class="fa fa-file-o fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-arrow-left fa-small fa-stack-1x"></i> </span></span>',
"add-file":'<span class="fa-stack fa-lg stacked-icons fa-success-action"><i class="fa fa-file-o fa-stack-2x"></i><span class="fa-stack stack-bg"><i class="fa fa-plus fa-small fa-stack-1x"></i></span></span>',"export-file":'<span class="fa-stack fa-lg stacked-icons fa-information-action"> <i class="fa fa-file-o fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-arrow-right fa-small fa-stack-1x"></i> </span></span>',"date-selector":'<span class="fa-information-action"><i class="fa fa-calendar-o"></i></span>',"duplicate-file":'<span class="fa-stack stacked-icons fa-information-action"> <i class="fa fa-file-o fa-stack-2x"></i> <span class="fa-stack file-stack-bg"> <i class="fa fa-file-o fa-stack-1x"></i> </span></span>',diagram:'<span class="fa-information-action"><i class="fa fa-file-photo-o"></i></span>',"header-down-arrow":'<span class="fa-information-action"><i class="fa fa-angle-down"></i></span>',information:'<span class="fa-information-action"><i class="fa fa-info-circle"></i></span>',help:'<span class="fa-information-action"><i class="fa fa-question-circle"></i></span>',settings:'<span class="fa-information-action"><i class="fa fa-gear"></i></span>',"zoom-out":'<span class="fa-information-action"><i class="fa fa-search-minus"></i></span>',"zoom-in":'<span class="fa-information-action"><i class="fa fa-search-plus"></i></span>',search:'<span class="fa-information-action"><i class="fa fa-search"></i></span>',"duplicate-folder":'<span class="fa-stack stacked-icons fa-information-action"> <i class="fa fa-folder-o fa-stack-2x"></i> <span class="fa-stack file-stack-bg"> <i class="fa fa-folder-o fa-stack-1x"></i> </span></span>',"take-task":'<span class="fa-success-action"><i class="fa fa-external-link"></i></span>',"export-folder":'<span class="fa-stack fa-lg stacked-icons fa-information-action"> <i class="fa fa-folder-o fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-arrow-right fa-small fa-stack-1x"></i> </span> </span>',"open-folder":'<span class="fa-information-action"><i class="fa fa-folder-open-o"></i></span>',"green-complete":'<span class="fa-success-action"><i class="fa fa-circle"></i></span>',"red-complete":'<span class="fa-danger-action"><i class="fa fa-circle-o"></i></span>',error:'<span class="fa-danger-action"><i class="fa fa-exclamation-triangle"></i></span>',cancel:'<span class="fa-danger-action"><i class="fa fa-ban"></i></span>',alerts:'<span class="fa-warning-action"><i class="fa fa-exclamation-circle"></i></span>',processing:'<span class="fa-information-action"><i class="fa fa-spinner fa-spin"></i></span>',plus:'<span class="fa-information-action"><i class="fa fa-plus-square-o"></i></span>',pin:'<span class="fa-information-action"><i class="fa fa-thumb-tack"></i></span>',unpin:'<span class="fa-information-action fa-stack"><i class="fa fa-circle-thin fa-stack-2x fa-unpin-circle"></i><i class="fa  fa-thumb-tack fa-rotate-45 fa-stack-1x fa-unpin"></i><i class="fa fa-folder-o fa-stack-1x fa-unpin-cross"></i></span>',workflow:'<span class="fa-information-action"><i class="fa fa-code-fork fa-rotate-90"></i></span>',"start-workflow":'<span class="fa-stack fa-lg stacked-fork fa-success-action"> <i class="fa fa-code-fork fa-rotate-90 fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-plus fa-small fa-stack-1x"></i> </span></span>',"delete-workflow":'<span class="fa-stack fa-lg stacked-fork fa-danger-action"> <i class="fa fa-code-fork fa-rotate-90 fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-plus fa-small fa-stack-1x fa-rotate-45"></i> </span></span>',"pause-workflow":'<span class="fa-stack fa-lg stacked-fork fa-warning-action"> <i class="fa fa-code-fork fa-rotate-90 fa-stack-2x"></i> <span class="fa-stack stack-bg"> <i class="fa fa-pause fa-small fa-stack-1x"></i> </span></span>',confirmed:'<span class="fa-success-action"><i class="fa fa-check"></i></span>',"dropdown-arrow":'<span class="fa-information"><span class="fa-stack fa-lg"><i class="fa fa-angle-down fa-stack-1x"></i></span></span>',"undo-action":'<span class="fa-information-action"><i class="fa fa-undo"></i></span>',"redo-action":'<span class="fa-information-action"><i class="fa fa-repeat"></i></span>',"re-order":'<span class="fa-information-action"><span class="fa-stack fa-lg"><i class="fa fa-random fa-stack-1x"></i></span></span>',list:'<span class="fa-information-action"><i class="fa fa-list"></i></span>',"rolling-stmt":'<span class="fa-stack fa-lg stacked-icons fa-information-action"><i class="fa fa-file-o fa-stack-2x"></i><span class="fa-stack stack-bg"><i class="fa fa-list fa-stack-1x fa-small"></i></span></span>',"show-stmt":'<span class="fa-stack fa-lg stacked-icons fa-information-action"><i class="fa fa-file-o fa-stack-2x"></i><span class="fa-stack stack-bg"><i class="fa fa-eye fa-stack-1x fa-small-stmt"></i></span></span>',"combined-stmt":'<span class="fa-stack fa-lg stacked-icons fa-information-action"><i class="fa fa-file-o fa-stack-2x"></i><span class="fa-stack stack-bg"><i class="fa fa-sitemap fa-stack-1x fa-small-stmt"></i></span></span>'},t.$inject=["$scope","$element","$attrs"],t}(n);t.IconComponent=o}(n=t.icon||(t.icon={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.label",["ers.components.core"]).directive("ersLabel",function(){return{restrict:"E",templateUrl:"label/template/label-template.html",controller:o,controllerAs:"c",bindToController:!0,scope:{value:"@",required:"=ngRequired"}}});var o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),Object.defineProperty(t.prototype,"contentStyle",{get:function(){var e={};return"right"===this.$element.css("text-align")?e.width="100%":e.width="auto",null!==this.$element.css("text-decoration")?e["text-decoration"]=this.$element.css("text-decoration"):e["ext-decoration"]="none",e},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element"],t}(n);t.LabelComponent=o}(n=t.label||(t.label={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.layout",["ers.components.core"]);var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){var e=/(none|onLeft|onRight|onTop|onBottom|onBothSide)/g;return{restrict:"A",require:["?ersLayout","?ersSplitter"],priority:10,bindToController:!0,link:function(t,n,o,r){if(null!=r&&r.length>1){var i=r[0]||r[1];if(i&&null!=o&&o.hasOwnProperty("ersCollapse")){i.ersCollapse="onBothSide";var s=o.ersCollapse;if(s.length>0){var a=s.match(e);null!=a&&a.length>0&&(i.ersCollapse=a[0])}}}}}};angular.module("ers.components.layout").directive("ersCollapse",t)}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=/(\d*\.?[\d]+)(?=px)/g,n=/(\d*\.?[\d]+)(?=%)/g;e.layoutUtils={getRawStyle:function(e,t){var n=window.getComputedStyle(e).getPropertyValue("display");e.style.display="none";var o=window.getComputedStyle(e).getPropertyValue(t);return e.style.display=n,o},isPercentBasis:function(e,t){try{var n=this.getRawStyle(e,t);return n.indexOf("%")>0}catch(o){return!1}},rawStyle2Number:function(e,t){try{var n=/(\d*\.?[\d]+)(?=(px|%))/g,o=this.getRawStyle(e,t).match(n);if(null!=o&&o.length>0)return parseInt(o[0],0)}catch(r){return 0}return 0},css2Number:function(e,t,n){void 0===n&&(n=null);try{var o=window.getComputedStyle(e)[t].match(n);if(null!=o&&o.length>0)return parseInt(o[0],0)}catch(r){return 0}return 0},cssPixel2Number:function(e,n){return this.css2Number(e,n,t)},cssPercent2Number:function(e,t){return this.css2Number(e,t,n)},attr2Number:function(e,t){var n=e.attr(t);try{if(angular.isDefined(n))return parseFloat(n)}catch(o){return 0}return 0},switchClass:function(e,t,n){e.hasClass(t)&&e.removeClass(t),e.hasClass(n)||e.addClass(n)},getLayoutController:function(e){return e.length>0?e.controller("ersLayout"):null},isLayoutElement:function(e){return"ers-layout"===e.tagName.toLowerCase()}}}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.DIRECTION_HORIZONTAL="horizontal",e.DIRECTION_VERTICAL="vertical",e.COLLAPSIBLE_DEFAULT_SIZE=40,e.SPLITTER_DEFAULT_SIZE=10,e.ON_COLLAPSE_LEFT="onLeft",e.ON_COLLAPSE_RIGHT="onRight",e.ON_COLLAPSE_TOP="onTop",e.ON_COLLAPSE_BOTTOM="onBottom",e.ON_COLLAPSE_BOTH="onBothSide",e.ON_COLLAPSE_REACH_MIN="onReachMin",e.DIRECT_SPLITTER="direct",e.PROXY_SPLITTER="proxy",e.NO_SPLITTER="none",e.NONE="none",e}();e.Constants=t,e.wStyle={property:"width",maxProperty:"maxWidth",minProperty:"minWidth",offsetProperty:"offsetWidth",maxAvailable:"wAvailable",sticky:"w-sticky",reachMin:"w-reach-min",fixed:"w-fixed",maxStore:"w-max-store"},e.hStyle={property:"height",maxProperty:"maxHeight",minProperty:"minHeight",offsetProperty:"offsetHeight",maxAvailable:"hAvailable",sticky:"h-sticky",reachMin:"h-reach-min",fixed:"h-fixed",maxStore:"h-max-store"}}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(t){this.offsetQuantity=0,this.element=null,this.sensibility=e.Constants.COLLAPSIBLE_DEFAULT_SIZE,this.splitter=t}return t.prototype.doMouseDown=function(e){this.element=angular.element('<div class="'+this.splitter.splitterStyle()+'"></div>'),this.element.hide(),this.element.insertAfter(this.splitter.element),this.element.css("left",this.splitter.element[0].offsetLeft+"px"),this.element.css("top",this.splitter.element[0].offsetTop+"px"),this.splitter.refreshMousePos(e)},t.prototype.doMouseUp=function(e){this.splitter.resize(e,this.offsetQuantity),this.splitter.controller.callTriggerResizeEvent(),this.reset()},t.prototype.doMouseMove=function(e){this.element.show();var t=this.splitter.quantity(e),n=this.offsetQuantity+t;this.splitter.checkMoveConstraints(e)&&(this.offsetQuantity=n,this.updateSplitterPosition(this.splitter.getSplitterPosition()+t)),this.splitter.refreshMousePos(e)},t.prototype.reset=function(){this.element&&this.element.remove(),this.element=null,this.offsetQuantity=0},t.prototype.updateSplitterPosition=function(e){this.splitter.setSplitterPosition(e)},t.prototype.name=function(){return e.Constants.PROXY_SPLITTER},t}();e.SplitterProxy=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(t){this.sensibility=e.Constants.COLLAPSIBLE_DEFAULT_SIZE,this.splitter=t,this.element=this.splitter.element}return t.prototype.doMouseDown=function(e){this.splitter.refreshMousePos(e),this.splitter.controller.callTriggerResizeEvent()},t.prototype.doMouseUp=function(e,t){this.splitter.refreshMousePos(e)},t.prototype.doMouseMove=function(e){var t=this.splitter.quantity(e);this.splitter.checkMoveConstraints(e)&&(this.splitter.resize(e,t),this.splitter.controller.callTriggerResizeEvent()),this.splitter.refreshMousePos(e)},t.prototype.name=function(){return e.Constants.DIRECT_SPLITTER},t}();e.SplitterDirect=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(e,t,n){void 0===n&&(n=!1),this.mousePos={x:0,y:0},this.element=e,this.configureElements(t,n)}return t.prototype.configureElements=function(n,o){this.element.addClass(t.FLEX_FIXED_STYLE),o?this.delegate=new e.SplitterProxy(this):this.delegate=new e.SplitterDirect(this)},t.prototype.beginProcessing=function(){this.parentContainer.beginProcessing()},t.prototype.endProcessing=function(){this.parentContainer.endProcessing()},t.prototype.notifyLoaded=function(){},t.prototype.onMouseDown=function(e){this.beginProcessing(),this.delegate.doMouseDown(e)},t.prototype.onMouseUp=function(e,t){this.delegate.doMouseUp(e),this.endProcessing()},t.prototype.onMouseMove=function(e,t){this.delegate.doMouseMove(e)},t.prototype.setParentContainer=function(e){this.parentContainer=e},Object.defineProperty(t.prototype,"controller",{get:function(){return this.element.controller("ersSplitter")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return angular.element(this.element.prevAll("."+t.CSS_FILTER).first())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return angular.element(this.element.nextAll("."+t.CSS_FILTER).first())},enumerable:!0,configurable:!0}),t.prototype.switchFlexbox=function(e){e.hasClass("ers-flex-grow")||e.addClass("ers-flex-grow"),e.hasClass("ers-flex-fixed")&&e.removeClass("ers-flex-fixed")},t.prototype.switchFixed=function(e){e.hasClass("ers-flex-fixed")||e.addClass("ers-flex-fixed"),e.hasClass("ers-flex-grow")&&e.removeClass("ers-flex-grow")},t.FLEX_FIXED_STYLE="ers-flex-fixed",t.CSS_FILTER="ers-layout-wrapper",t}();e.SplitterDelegate=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,o){void 0===o&&(o=!1),e.call(this,t,n,o)}return __extends(t,e),t.prototype.configureElements=function(n,o){var r=this;e.prototype.configureElements.call(this,n,o),this.element.addClass(t.HORIZONTAL_SPLITTER_STYLE),n(function(){r.parentContainer.notifyLoaded()},0)},t.prototype.checkMoveConstraints=function(e){var t=this.parentContainer.getLayoutClientRect().left+this.next[0].offsetLeft+this.next[0].offsetWidth,n=this.parentContainer.getLayoutClientRect().left+this.prev[0].offsetLeft;return e.pageX<t&&e.pageX>n},t.prototype.resize=function(e,t){if(this.prev[0].offsetWidth>0&&0>t||this.next[0].offsetWidth>0&&t>0){var n=this.prev[0].offsetWidth+t,o=this.next[0].offsetWidth-t;this.prev.width(n/this.parentContainer.getLayoutClientRect().width*100+"%"),this.next.width(o/this.parentContainer.getLayoutClientRect().width*100+"%")}},t.prototype.quantity=function(e){return e.pageX-this.mousePos.x},t.prototype.refreshMousePos=function(e){this.mousePos.x=e.pageX},t.prototype.getSplitterSize=function(){return this.delegate.element[0].offsetWidth},t.prototype.getSplitterPosition=function(){return this.delegate.element[0].offsetLeft},t.prototype.setSplitterPosition=function(e){var t=this.next[0].offsetLeft+this.next[0].offsetWidth-this.getSplitterSize(),n=this.prev[0].offsetLeft,o=Math.max(Math.min(e,t),n);this.delegate.element.css("left",o)},t.prototype.splitterStyle=function(){return t.HORIZONTAL_PROXY_SPLITTER_STYLE},t.HORIZONTAL_SPLITTER_STYLE="ers-splitter-horizontal",t.HORIZONTAL_PROXY_SPLITTER_STYLE="ers-proxy-splitter-h",t}(e.SplitterDelegate);e.HorizontalSplitterDelegate=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController,o=function(){return{restrict:"A",require:["ersLayoutSummary","^ersLayout"],controller:r,bindToController:!0,link:function(e,t,n,o){var r=o[0];r&&r.link()}}},r=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.prototype.link=function(){var e=this;this.$element.addClass("ers-summary"),this.$attrs.$observe("ersLayoutSummary",function(){e.text=e.$attrs.ersLayoutSummary})},t.$inject=["$scope","$element","$attrs"],t}(n);t.LayoutSummary=r,angular.module("ers.components.layout").directive("ersLayoutSummary",o)}(n=t.layout||(t.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(t){this.state=e.EXPAND_STATE,this.collapsedLayoutSize=0,this.collapsed=null,this.expanded=null,this.delegate=t}return e.prototype.appendCollapse=function(e){var t=angular.element('<div class="ers-collapsed-layout">  <div class="ers-collapsed-text">  </div></div>');e.hasClass("collapse-node")||(e.append(t),e.addClass("collapse-node"),t.hide(!0))},e.prototype.setCallback=function(e,t,n){var o=this;e&&e.on("click",function(e){o.onButtonClick(e,t,n)})},e.prototype.onButtonClick=function(e,t,n){this.isCollapsedLayout(t)||(this.isCollapsedLayout(n)?this.delegate.doExpandAuto(e):this.forceCollapse(e,t,n))},e.prototype.forceExpand=function(t,n,o,r){void 0===r&&(r=!0),this.delegate.beginProcessing(),this.toggleState(e.EXPAND_STATE),this.collapsed=n,this.expanded=o,this.delegate.doExpand(t,r),this.removeState(),this.delegate.endProcessing()},e.prototype.forceCollapse=function(t,n,o,r){void 0===r&&(r=!0),this.delegate.beginProcessing(),this.toggleState(e.COLLAPSE_STATE),this.collapsed=n,this.expanded=o,this.addState(),this.delegate.doCollapse(t,r),this.delegate.endProcessing()},e.prototype.getSummary=function(){if(this.collapsed){var e=this.collapsed.hasClass("ers-summary")?this.collapsed:this.collapsed.find(".ers-summary");if(e){var t=e.controller("ersLayoutSummary");if(t)return t.text}}return""},e.prototype.addState=function(){this.collapsed.addClass("state-collapsed"),this.delegate.prev.hasClass("state-collapsed")?this.collapsed.addClass("state-prev-collapsed"):this.collapsed.addClass("state-next-collapsed")},e.prototype.removeState=function(){this.collapsed.removeClass("state-prev-collapsed"),this.collapsed.removeClass("state-next-collapsed"),this.collapsed.removeClass("state-collapsed")},e.prototype.toggleState=function(t){void 0===t&&(t=null),t?this.state=t:this.state=this.isCollapsed()?e.EXPAND_STATE:e.COLLAPSE_STATE},e.prototype.isPrevCollapsed=function(){return this.delegate.prev.hasClass("state-prev-collapsed")},e.prototype.isNextCollapsed=function(){return this.delegate.next.hasClass("state-next-collapsed")},e.prototype.isCollapsedLayout=function(e){return e.hasClass("state-prev-collapsed")||e.hasClass("state-next-collapsed")},e.prototype.isCollapsed=function(){return this.state===e.COLLAPSE_STATE},e.COLLAPSE_STATE=1e3,e.EXPAND_STATE=1001,e}();e.LayoutHelper=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,o,r){void 0===r&&(r=!1),t.call(this,n,o,r),this.collapsedSize=e.Constants.COLLAPSIBLE_DEFAULT_SIZE}return __extends(n,t),n.prototype.configureElements=function(n,o){t.prototype.configureElements.call(this,n,o);var r=this.element.controller("ersSplitter").ersCollapse;this.helper=new e.LayoutHelper(this),this.buildSplittersOptions(r),this.buildCollapse(r)},n.prototype.buildSplittersOptions=function(e){var t="onBothSide"===e,n="onLeft"===e;if(n||t){var o=this.element.find(".ers-prev-button-area");o.show(),this.helper.setCallback(o,this.prev,this.next)}var r="onRight"===e;if(r||t){var i=this.element.find(".ers-next-button-area");i.show(),this.helper.setCallback(i,this.next,this.prev)}},n.prototype.buildCollapse=function(t){var n="onBothSide"===t;this.element.addClass(n?"ers-both-side":"ers-single-side"),(t===e.Constants.ON_COLLAPSE_LEFT||e.Constants.ON_COLLAPSE_BOTH)&&this.helper.appendCollapse(this.prev),(t===e.Constants.ON_COLLAPSE_RIGHT||e.Constants.ON_COLLAPSE_BOTH)&&this.helper.appendCollapse(this.next)},n.prototype.doCollapse=function(e,t){void 0===t&&(t=!0),this.collapsedNode(!0),t&&this.computeCollapsed(),this.controller.callTriggerResizeEvent()},n.prototype.doExpand=function(e,t){void 0===t&&(t=!0),this.collapsedNode(!1),t&&this.computeExpanded(),this.controller.callTriggerResizeEvent()},n.prototype.doExpandAuto=function(e){this.helper.isCollapsedLayout(this.prev)&&this.prevExpandOnMove(e),this.helper.isCollapsedLayout(this.next)&&this.nextExpandOnMove(e)},n.prototype.checkResize=function(e,t){return this.prev[0].offsetWidth+t<=this.delegate.sensibility?(this.prev.addClass("w-p-to-collapse"),!0):this.next[0].offsetWidth-t<=this.delegate.sensibility?(this.next.addClass("w-n-to-collapse"),!0):void 0},n.prototype.resize=function(e,n){return this.checkResize(e,n),this.helper.isCollapsedLayout(this.prev)&&this.prevExpandOnMove(e),this.helper.isCollapsedLayout(this.next)&&this.nextExpandOnMove(e),this.prev.hasClass("w-p-to-collapse")?(this.prev.removeClass("w-p-to-collapse"),void this.helper.forceCollapse(e,this.prev,this.next)):this.next.hasClass("w-n-to-collapse")?(this.next.removeClass("w-n-to-collapse"),void this.helper.forceCollapse(e,this.next,this.prev)):void t.prototype.resize.call(this,e,n)},n.prototype.getSplitterDelegateFrom=function(e){var t=angular.element(angular.element(e.first())),n=t.controller("ersSplitter");return n.delegate},n.prototype.nextExpandOnMove=function(e){if(this.helper.isNextCollapsed())this.helper.forceExpand(e,this.next,this.prev,!1);else{var t=this.getSplitterDelegateFrom(this.element.nextAll("ers-splitter"));t.helper.forceExpand(e,t.prev,t.next,!1)}},n.prototype.prevExpandOnMove=function(e){if(this.helper.isPrevCollapsed())this.helper.forceExpand(e,this.prev,this.next,!1);else{var t=this.getSplitterDelegateFrom(this.element.prevAll("ers-splitter"));t.helper.forceExpand(e,t.next,t.prev,!1)}},n.prototype.computeExpanded=function(){var t=e.layoutUtils.attr2Number(this.helper.collapsed,"before-collapsed-size-percent");this.helper.collapsed.removeAttr("before-collapsed-size-percent");var n=this.parentContainer.getLayoutClientRect().width,o=100*(this.helper.expanded[0].offsetWidth+this.collapsedSize)/n;t>o?t=o=.5*o:o-=t,this.switchFlexbox(this.helper.collapsed),this.helper.collapsed.width(t+"%"),this.helper.expanded.width(o+"%")},n.prototype.computeCollapsed=function(){var e=this.parentContainer.getLayoutClientRect().width,t=this.helper.collapsed[0].offsetWidth,n=this.helper.expanded[0].offsetWidth;this.helper.collapsed.attr("before-collapsed-size-percent",100*t/e),this.helper.expanded.width(100*(n+t-this.collapsedSize)/e+"%"),this.helper.collapsed.width(this.collapsedSize+"px"),this.switchFixed(this.helper.collapsed),this.switchFlexbox(this.helper.expanded)},n.prototype.collapsedNode=function(e){e?this.computeCollapsedStyles():this.computeExpandedStyles()},n.prototype.computeCollapsedStyles=function(){var e=this.helper.collapsed.children(":not(.ers-collapsed-layout)");e.hide();var t=this.helper.collapsed.children(".ers-collapsed-layout");this.prepareCollapseNode(t),this.buildSummary(t,e),this.element.find(".ers-prev-button-area").hide(),this.element.find(".ers-next-button-area").hide(),this.helper.isPrevCollapsed()?this.element.addClass(n.LEFT_COLLAPSED_STYLE):this.element.addClass(n.RIGHT_COLLAPSED_STYLE)},n.prototype.computeExpandedStyles=function(){var e=this.helper.collapsed.children(".ers-collapsed-layout"),t=this.helper.collapsed.children(":not(.ers-collapsed-layout)");e.hide(),t.show(),this.element.find(".ers-prev-button-area").show(),this.element.find(".ers-next-button-area").show(),this.helper.isCollapsedLayout(this.prev)?this.element.removeClass(n.LEFT_COLLAPSED_STYLE):this.element.removeClass(n.RIGHT_COLLAPSED_STYLE)},n.prototype.prepareCollapseNode=function(e){var t=this;e.show(),e.addClass(n.HORIZONTAL_COLLAPSE_STYLE),e.addClass("ers-fill"),e.on("click",function(){return t.helper.isCollapsed()?void(t.helper.isCollapsedLayout(t.helper.expanded)||(t.helper.forceExpand(null,t.helper.collapsed,t.helper.expanded),e.off("click"))):void e.off("click")})},n.prototype.buildSummary=function(e,t){var o=$("<div>"+this.helper.getSummary()+"</div>");e.children().remove(),o.css("height",e[0].offsetWidth+"px"),o.css("width",e[0].offsetHeight+"px"),o.addClass(n.COLLAPSED_TEXT_STYLE),e.append(o)},n.HORIZONTAL_COLLAPSE_STYLE="ers-collapsed-horizontal",n.LEFT_COLLAPSED_STYLE="ers-collapsed-left",n.RIGHT_COLLAPSED_STYLE="ers-collapsed-right",n.COLLAPSED_TEXT_STYLE="ers-collapsed-text",n}(e.HorizontalSplitterDelegate);e.HorizontalCollapsibleDelegate=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,o){void 0===o&&(o=!1),e.call(this,t,n,o)}return __extends(t,e),t.prototype.configureElements=function(n,o){var r=this;e.prototype.configureElements.call(this,n,o),this.element.addClass(t.VERTICAL_SPLITTER_STYLE),n(function(){r.parentContainer.notifyLoaded()},0)},t.prototype.checkMoveConstraints=function(e){var t=this.parentContainer.getLayoutClientRect().top+this.next[0].offsetTop+this.next[0].offsetHeight,n=this.parentContainer.getLayoutClientRect().top+this.prev[0].offsetTop;return e.pageY<=t&&e.pageY>=n},t.prototype.resize=function(e,t){if(this.prev[0].offsetHeight>0&&0>t||this.next[0].offsetHeight>0&&t>0){var n=this.prev[0].offsetHeight+t,o=this.next[0].offsetHeight-t;this.prev.height(n/this.parentContainer.getLayoutClientRect().height*100+"%"),this.next.height(o/this.parentContainer.getLayoutClientRect().height*100+"%")}},t.prototype.quantity=function(e){return e.pageY-this.mousePos.y},t.prototype.refreshMousePos=function(e){this.mousePos.y=e.pageY},t.prototype.getSplitterSize=function(){return this.delegate.element[0].offsetHeight},t.prototype.getSplitterPosition=function(){return this.delegate.element[0].offsetTop},t.prototype.setSplitterPosition=function(e){var t=this.next[0].offsetTop+this.next[0].offsetHeight-this.getSplitterSize(),n=this.prev[0].offsetTop,o=Math.max(Math.min(e,t),n);this.delegate.element.css("top",o)},t.prototype.splitterStyle=function(){return t.VERTICAL_PROXY_SPLITTER_STYLE},t.VERTICAL_SPLITTER_STYLE="ers-splitter-vertical",t.VERTICAL_PROXY_SPLITTER_STYLE="ers-proxy-splitter-v",t}(e.SplitterDelegate);e.VerticalSplitterDelegate=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,o,r){void 0===r&&(r=!1),t.call(this,n,o,r),this.collapsedSize=e.Constants.COLLAPSIBLE_DEFAULT_SIZE}return __extends(n,t),n.prototype.configureElements=function(n,o){t.prototype.configureElements.call(this,n,o);var r=this.element.controller("ersSplitter").ersCollapse;this.helper=new e.LayoutHelper(this),this.buildSplittersOptions(r),this.buildCollapse(r)},n.prototype.buildSplittersOptions=function(e){var t="onBothSide"===e,n="onTop"===e;if(n||t){var o=this.element.find(".ers-prev-button-area");o.show(),this.helper.setCallback(o,this.prev,this.next)}var r="onBottom"===e;if(r||t){var i=this.element.find(".ers-next-button-area");i.show(),this.helper.setCallback(i,this.next,this.prev)}},n.prototype.buildCollapse=function(t){var n="onBothSide"===t;this.element.addClass(n?"ers-both-side":"ers-single-side"),(t===e.Constants.ON_COLLAPSE_LEFT||e.Constants.ON_COLLAPSE_BOTH)&&this.helper.appendCollapse(this.prev),(t===e.Constants.ON_COLLAPSE_RIGHT||e.Constants.ON_COLLAPSE_BOTH)&&this.helper.appendCollapse(this.next)},n.prototype.doCollapse=function(e,t){void 0===t&&(t=!0),this.collapsedNode(!0),t&&this.computeCollapsed(),this.controller.callTriggerResizeEvent()},n.prototype.doExpand=function(e,t){void 0===t&&(t=!0),this.collapsedNode(!1),t&&this.computeExpanded(),this.controller.callTriggerResizeEvent()},n.prototype.doExpandAuto=function(e){this.helper.isCollapsedLayout(this.prev)&&this.prevExpandOnMove(e),this.helper.isCollapsedLayout(this.next)&&this.nextExpandOnMove(e)},n.prototype.checkResize=function(e,t){return this.prev[0].offsetHeight+t<=this.delegate.sensibility?void this.prev.addClass("h-p-to-collapse"):this.next[0].offsetHeight-t<=this.delegate.sensibility?void this.next.addClass("h-n-to-collapse"):void 0},n.prototype.resize=function(e,n){return this.checkResize(e,n),this.helper.isCollapsedLayout(this.prev)&&this.prevExpandOnMove(e),this.helper.isCollapsedLayout(this.next)&&this.nextExpandOnMove(e),this.prev.hasClass("h-p-to-collapse")?(this.prev.removeClass("h-p-to-collapse"),void this.helper.forceCollapse(e,this.prev,this.next)):this.next.hasClass("h-n-to-collapse")?(this.next.removeClass("h-n-to-collapse"),void this.helper.forceCollapse(e,this.next,this.prev)):void t.prototype.resize.call(this,e,n)},n.prototype.getSplitterDelegateFrom=function(e){var t=angular.element(angular.element(e.first())),n=t.controller("ersSplitter");return n.delegate},n.prototype.nextExpandOnMove=function(e){if(this.helper.isNextCollapsed())this.helper.forceExpand(e,this.next,this.prev,!1);else{var t=this.getSplitterDelegateFrom(this.element.nextAll("ers-splitter"));t.helper.forceExpand(e,t.prev,t.next,!1)}},n.prototype.prevExpandOnMove=function(e){if(this.helper.isPrevCollapsed())this.helper.forceExpand(e,this.prev,this.next,!1);else{var t=this.getSplitterDelegateFrom(this.element.prevAll("ers-splitter"));t.helper.forceExpand(e,t.next,t.prev,!1)}},n.prototype.computeExpanded=function(){var t=e.layoutUtils.attr2Number(this.helper.collapsed,"before-collapsed-size-percent");this.helper.collapsed.removeAttr("before-collapsed-size-percent");var n=this.parentContainer.getLayoutClientRect().height,o=100*(this.helper.expanded[0].offsetHeight+this.collapsedSize)/n;t>o?t=o=.5*o:o-=t,this.switchFlexbox(this.helper.collapsed),this.helper.collapsed.height(t+"%"),this.helper.expanded.height(o+"%")},n.prototype.computeCollapsed=function(){var e=this.parentContainer.getLayoutClientRect().height,t=this.helper.collapsed[0].offsetHeight,n=this.helper.expanded[0].offsetHeight;this.helper.collapsed.attr("before-collapsed-size-percent",100*t/e),this.helper.expanded.height(100*(n+t-this.collapsedSize)/e+"%"),this.helper.collapsed.height(this.collapsedSize+"px"),
this.switchFixed(this.helper.collapsed),this.switchFlexbox(this.helper.expanded)},n.prototype.collapsedNode=function(e){e?this.computeCollapsedStyles():this.computeExpandedStyles()},n.prototype.computeCollapsedStyles=function(){var e=this.helper.collapsed.children(":not(.ers-collapsed-layout)");e.hide();var t=this.helper.collapsed.children(".ers-collapsed-layout");this.prepareCollapseNode(t),this.buildSummary(t,e),this.element.find(".ers-prev-button-area").hide(),this.element.find(".ers-next-button-area").hide(),this.helper.isPrevCollapsed()?this.element.addClass(n.UP_COLLAPSED_STYLE):this.element.addClass(n.DOWN_COLLAPSED_STYLE)},n.prototype.computeExpandedStyles=function(){var e=this.helper.collapsed.children(".ers-collapsed-layout"),t=this.helper.collapsed.children(":not(.ers-collapsed-layout)");e.hide(),t.show(),this.element.find(".ers-prev-button-area").show(),this.element.find(".ers-next-button-area").show(),this.helper.isCollapsedLayout(this.prev)?this.element.removeClass(n.UP_COLLAPSED_STYLE):this.element.removeClass(n.DOWN_COLLAPSED_STYLE)},n.prototype.prepareCollapseNode=function(e){var t=this;e.show(),e.addClass(n.VERTICAL_COLLAPSE_STYLE),e.addClass("ers-fill"),e.on("click",function(){return t.helper.isCollapsed()?void(t.helper.isCollapsedLayout(t.helper.expanded)||(t.helper.forceExpand(null,t.helper.collapsed,t.helper.expanded),e.off("click"))):void e.off("click")})},n.prototype.buildSummary=function(e,t){var o=$("<div>"+this.helper.getSummary()+"</div>");e.children().remove(),o.css("height",e[0].offsetWidth+"px"),o.css("width",e[0].offsetHeight+"px"),o.addClass(n.VERTICAL_COLLAPSE_TEXT_STYLE),e.append(o)},n.VERTICAL_COLLAPSE_STYLE="ers-collapsed-vertical",n.UP_COLLAPSED_STYLE="ers-collapsed-up",n.DOWN_COLLAPSED_STYLE="ers-collapsed-down",n.VERTICAL_COLLAPSE_TEXT_STYLE="ers-collapsed-text",n}(e.VerticalSplitterDelegate);e.VerticalCollapsibleDelegate=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.buildDelegate=function(t,n,o,r,i){var s=o===e.Constants.PROXY_SPLITTER;return n===e.Constants.DIRECTION_VERTICAL?r!==e.Constants.NONE?new e.VerticalCollapsibleDelegate(t,i,s):new e.VerticalSplitterDelegate(t,i,s):r!==e.Constants.NONE?new e.HorizontalCollapsibleDelegate(t,i,s):new e.HorizontalSplitterDelegate(t,i,s)},t}();e.DelegateFactory=t}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.layout.DelegateFactory,o=e.components.core.BaseComponent,r=function(e){function o(n,o,r,i,s){e.call(this,n,o,r,s),this.delegate=null,this.document=i,this.direction=this.direction||t.Constants.DIRECTION_HORIZONTAL,this.ersResize=this.ersResize||t.Constants.NO_SPLITTER,this.ersCollapse=this.ersCollapse||t.Constants.NONE,this.$element.addClass("ers-splitter"),this.buildSplitter()}return __extends(o,e),o.prototype.buildSplitter=function(){this.delegate=n.buildDelegate(this.$element,this.direction,this.ersResize,this.ersCollapse,this.$timeout),this.addListeners()},o.prototype.addListeners=function(){var e=this,t=this.delegate.element.find(".ers-draggable-area");t.on("mousedown",function(t){e.onMouseDown(t),e.document.on("mouseup",function(t){e.onMouseUp(t)}),e.document.on("mousemove",function(t){e.onMouseMove(t)})})},o.prototype.onMouseDown=function(e){this.delegate.onMouseDown(e)},o.prototype.onMouseUp=function(e){this.delegate.onMouseUp(e),this.document.off("mousemove"),this.document.off("mouseup")},o.prototype.onMouseMove=function(e){this.delegate.onMouseMove(e)},o.prototype.callTriggerResizeEvent=function(){this._onResize&&this._onResize()},o.prototype.onResize=function(e){this._onResize=e},o.$inject=["$scope","$element","$attrs","$document","$timeout"],o}(o);t.SplitterComponent=r}(n=t.layout||(t.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.event.EVENT,o=e.components.core.BaseComponent,r=function(e){function o(o,r,i,s,a,l,c){var p=this;e.call(this,o,r,i,l),this.$compile=null,this.divContainer=null,this.waitingQueued=0,this.layoutClientRect={},this.loaded=!1,this.gap=0,this.direction=this.direction||t.Constants.DIRECTION_HORIZONTAL,this.ersResize=this.ersResize||t.Constants.NO_SPLITTER,this.ersCollapse=this.ersCollapse||t.Constants.NONE,this.$promise=s,this.$compile=a,this.divContainer=this.$element.children(".ers-layout-container"),this.containerEventService=c,c.registerDispatcher(n.RESIZE,o),c.on(n.RESIZE,o,function(){return p.onResize()}),o.$on("child-resided",function(e,t){e.stopPropagation(),p.resizeTarget(e,t)}),this.setObservers()}return __extends(o,e),o.prototype.resizeTarget=function(e,n){var o=n.source.closest(".ers-layout-wrapper").first();if(angular.isDefined(o)){var r=n.value;("height"===n.property&&this.direction===t.Constants.DIRECTION_VERTICAL||"width"===n.property&&this.direction===t.Constants.DIRECTION_HORIZONTAL)&&(angular.isDefined(r)&&r.indexOf("px")>0?t.layoutUtils.switchClass(o,"ers-flex-grow","ers-flex-fixed"):t.layoutUtils.switchClass(o,"ers-flex-fixed","ers-flex-grow")),o.css(n.property,n.value)}},o.prototype.setObservers=function(){var e=this;this.$attrs.$observe("ersResize",function(n){if(null!=n&&angular.isDefined(n)&&n!==t.Constants.NO_SPLITTER){var o=new RegExp(t.Constants.PROXY_SPLITTER+"|"+t.Constants.DIRECT_SPLITTER+"|","ig"),r=n.match(o)||[t.Constants.DIRECTION_HORIZONTAL];r.length>0&&e.buildSplitters()}else e.resetSplitters(),angular.forEach(e.divContainer.children(".ers-layout-wrapper"),function(e){angular.element(e).removeClass("ers-flex-fixed").addClass("ers-flex-grow")})})},o.prototype.link=function(t,n,r){var i=this;e.prototype.link.call(this,t,n,r),n.addClass(o.CSS_NAME_CLASS),this.$timeout(function(){i.setLayoutClientRect(),i.buildWrappers()},0)},o.prototype.getLayoutClientRect=function(){return this.setLayoutClientRect(),this.layoutClientRect},o.prototype.setLayoutClientRect=function(){var e=this.divContainer[0].getBoundingClientRect();this.layoutClientRect={width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight,top:e.top,left:e.left,wAvailable:this.$element[0].offsetWidth,hAvailable:this.$element[0].offsetHeight}},o.prototype.notifyLoaded=function(){var e=this,t=this.checkLoaded();t.then(function(){e.checkLayoutContent()})},o.prototype.checkLoaded=function(){var e=this.$promise?this.$promise.defer():null;return this.waitingQueued--,0===this.waitingQueued&&null!=e&&(this.loaded=!0,e.resolve()),e.promise},o.prototype.beginProcessing=function(){this.$element.addClass("layout-processing")},o.prototype.endProcessing=function(){this.$element.hasClass("layout-processing")&&this.$element.removeClass("layout-processing")},o.prototype.checkLayoutContent=function(){if(this.loaded){var e=this.direction===t.Constants.DIRECTION_HORIZONTAL?t.wStyle:t.hStyle;this.checkContent(e),this.adaptWrapperPercentage(".ers-layout-wrapper.ers-flex-grow")}},o.prototype.checkContent=function(e){var t=this;this.setLayoutClientRect();var n=!1;_.forEach(this.divContainer.children(),function(o){var r=$(o),i=r[0][e.offsetProperty],s=Math.min(t.layoutClientRect[e.maxAvailable],i);t.layoutClientRect[e.maxAvailable]>0?(t.layoutClientRect[e.maxAvailable]-=s,r.show(),r.hasClass("ers-flex-fixed")&&!r.hasClass("ers-splitter")?i>s?r.css("overflow","hidden"):r.css("overflow",""):n=!0):n?r.show():r.hide()})},o.prototype.propertyDirection=function(e){return"minWidth"===e||"width"===e?t.Constants.DIRECTION_HORIZONTAL:"minHeight"===e||"height"===e?t.Constants.DIRECTION_VERTICAL:""},o.prototype.adaptWrapperPercentage=function(e){var n=this,o=_.map(this.divContainer.children(e),function(e){return n.direction===t.Constants.DIRECTION_VERTICAL?{element:$(e),property:"height",value:e.offsetHeight/n.getLayoutClientRect().height*100}:{element:$(e),property:"width",value:e.offsetWidth/n.getLayoutClientRect().width*100}});_.forEach(o,function(e){e.element.css(e.property,e.value+"%")})},o.prototype.splitterMoved=function(){this.adaptWrapperPercentage(".ers-layout-wrapper:not(.state-collapsed)"),this.containerEventService.dispatch(n.RESIZE,this.$scope)},o.prototype.onResize=function(){this.loaded&&(this.beginProcessing(),this.setLayoutClientRect(),this.checkLayoutContent(),this.endProcessing())},o.prototype.buildWrappers=function(){this.divContainer.addClass(this.direction),this.divContainer.addClass("ers-fill");var e=angular.element(this.divContainer.children(":not(ers-splitter)").first());this.wrapChildrenRec(e),this.gap>0&&this.ersResize===t.Constants.NO_SPLITTER&&this.buildGap()},o.prototype.buildGap=function(){var e=$("<div class='ers-flex-fixed'></div>");e.css(this.direction===t.Constants.DIRECTION_HORIZONTAL?"width":"height",this.gap+"px"),e.css(this.direction===t.Constants.DIRECTION_HORIZONTAL?"height":"width","100%");var n=angular.element(e).insertAfter(this.divContainer.children());n.last().remove()},o.prototype.wrapChildrenRec=function(e){if(e.length>0)if(e[0].tagName.toLowerCase()===o.TRANSCLUDE_DIR)$(e[0].children).insertAfter(e),e.remove(),this.wrapChildrenRec(this.divContainer.children().first());else{var t=e.next(":not(ers-splitter)");this.parseElement(e),t.length>0&&this.wrapChildrenRec(t)}},o.prototype.parseElement=function(e){if(t.layoutUtils.isLayoutElement(e[0]))e.addClass("ers-layout-wrapper"),this.setWrapperStyle(e,e,t.wStyle),this.setWrapperStyle(e,e,t.hStyle),e.css("position","relative");else{var n=$('<div class="ers-layout-wrapper"></div>');this.setWrapperStyle(n,e,t.wStyle),this.setWrapperStyle(n,e,t.hStyle),e.css("position","absolute"),e.wrap(n)}},o.prototype.setWrapperStyle=function(e,n,o){e.css(o.minProperty,t.layoutUtils.getRawStyle(n[0],o.minProperty));var r=this.propertyDirection(o.property)===this.direction;!t.layoutUtils.isPercentBasis(n[0],o.property)||t.layoutUtils.isPercentBasis(n[0],o.property)&&100!==t.layoutUtils.rawStyle2Number(n[0],o.property)?(e.css(o.property,t.layoutUtils.getRawStyle(n[0],o.property)),r&&e.addClass("ers-flex-fixed")):r&&e.addClass("ers-flex-grow"),t.layoutUtils.isLayoutElement(n[0])||n.css(o.property,"100%")},o.prototype.buildSplitters=function(){var e=this;this.resetSplitters(),this.$timeout(function(){var t=e.buildSplitterDirective(),n=angular.element(t).insertAfter(e.divContainer.children());n.last().remove();var o=e.divContainer.children("ers-splitter");e.waitingQueued=o.length,angular.forEach(o,function(t){e.$compile(angular.element(t))(e.$scope)})},0)},o.prototype.resetSplitters=function(){this.divContainer.children("ers-splitter").remove()},o.prototype.buildSplitterDirective=function(){var e="<ers-splitter ";return e+='direction="'+this.direction+'" ',e+='ers-resize="'+this.ersResize+'" ',e+='ers-collapse="'+this.ersCollapse+'" ',e+=" />"},o.TRANSCLUDE_DIR="ng-transclude",o.CSS_NAME_CLASS="ers-layout",o.$inject=["$scope","$element","$attrs","$q","$compile","$timeout","containerEventService"],o}(o);t.LayoutComponent=r}(n=t.layout||(t.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",templateUrl:"layout/template/layout-template.html",require:["ersLayout","?^^ersLayout"],transclude:!0,scope:{gap:"@?",direction:"@?",ersResize:"@?"},priority:100,bindToController:!0,controller:e.LayoutComponent,controllerAs:"layoutController",link:function(e,t,n,o){var r=o[0];r&&r.link(e,t,n)}}};angular.module("ers.components.layout").directive("ersLayout",t)}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",require:["ersSplitter","?^ersLayout"],templateUrl:"layout/template/splitter-template.html",scope:{direction:"@?",ersResize:"@?",ersCollapse:"@?"},priority:100,bindToController:!0,controller:e.SplitterComponent,controllerAs:"splitterController",link:function(e,t,n,o){if(null!=o&&o.length>1){var r=o[0],i=o[1];null!=r.delegate&&(r.delegate.setParentContainer(i),r.onResize(function(){i.splitterMoved()}))}}}};angular.module("ers.components.layout").directive("ersSplitter",t)}(t=e.layout||(e.layout={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.login||(e.login={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.login||(e.login={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.modal",["ers.components.core","ui.bootstrap"]),angular.module("ers.components.passwordManagement",["ers.components.modal","ers.components.textbox","ers.components.button"]),angular.module("ers.components.login",["ers.components.modal","ers.components.passwordManagement","ers.components.textbox","ers.components.button","ers.components.combobox"]);var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController,o=function(e){function t(t,n,o,r){if(e.call(this,t),this.dismissCrossButtonVisible=!0,n&&(this.uibModalInstance=n),r){this._modalVariables=r;for(var i in this._modalVariables)this._modalVariables.hasOwnProperty(i)&&!this.hasOwnProperty(i)&&(this[i]=this._modalVariables[i])}o&&(this.title=o.title||"Title",this.icon=o.icon,this.instanceTemplate=o.instanceTemplate||"",this.buttons=o.buttons,this.nullFieldsCheckedForFormValidity=o.nullFieldsCheckedForFormValidity,this.dismissCrossButtonVisible=o.dismissCrossButtonVisible,this.message=o.message,this.onModalClose=o.onModalClose,this.onModalDismiss=o.onModalDismiss,this.onBeforeModalClose=o.onBeforeModalClose,this.onBeforeModalDismiss=o.onBeforeModalDismiss,this._resizable=o.resizable,this._draggable=o.draggable,this._modal=o.modal,this.id=o.id,this.focusPath=o.focusPath)}return __extends(t,e),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable===!0||"true"===this._draggable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable===!0||"true"===this._resizable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal===!0||"true"===this._modal},enumerable:!0,configurable:!0}),t.prototype.buttonEnter=function(e){$("#"+e.currentTarget.id).trigger("click")},t.prototype.getButtonValue=function(e){var t;if(e&&null!=this.buttons)for(var n=0;n<this.buttons.length;n++){var o=this.buttons[n];o.id===e.currentTarget.id&&(t=o.value)}return t},t.prototype.getReturnValues=function(){var e=null;if(this._modalVariables)for(var t in this._modalVariables)this._modalVariables.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(null===e&&(e={}),e[t]=this[t]);return e},t.prototype.onCloseModal=function(e){var t=this.getReturnValues();null===t&&(t=this.getButtonValue(e)),this.onBeforeModalClose?this.onBeforeModalClose(t):this.closeModal(t)},t.prototype.onDismissModal=function(e){var t=this.getButtonValue(e);this.onBeforeModalDismiss?this.onBeforeModalDismiss(t):this.dismissModal(t)},t.prototype.closeModal=function(e){this.uibModalInstance&&(this.uibModalInstance.close(e),this.destroy())},t.prototype.destroy=function(){for(var e in this._modalVariables)this.hasOwnProperty(e)===!0&&delete this[e];delete this._modalVariables,this.uibModalInstance=void 0},t.prototype.dismissModal=function(e){this.uibModalInstance.dismiss(e),this.uibModalInstance=void 0},t.prototype.formIsValid=function(){if(this.nullFieldsCheckedForFormValidity)for(var e=0;e<this.nullFieldsCheckedForFormValidity.length;e++){var t=this.nullFieldsCheckedForFormValidity[e];if(this.hasOwnProperty(t)&&(!angular.isDefined(this[t])||null===this[t]))return!1}return this.$scope.modalForm?!this.$scope.modalForm.$invalid:!0},t.prototype.disableAllButtons=function(){return!1},Object.defineProperty(t.prototype,"modalVariables",{get:function(){return this._modalVariables},enumerable:!0,configurable:!0}),t.$inject=["$scope","$uibModalInstance","options","modalVariables"],t}(n);t.ModalController=o,angular.module("ers.components.modal").controller("ModalController",["$scope","$uibModalInstance","options","modalVariables",o])}(n=t.modal||(t.modal={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.modal.ModalController,o=function(e){function t(t,n,o,r){e.call(this,t,n,o,r),this.computing=!1,r&&(this.username=r.username,this.database=r.database,this.onChangePassword=r.changePassword),this.usernameInitialized=this.username?!0:!1}return __extends(t,e),Object.defineProperty(t.prototype,"changePasswordError",{get:function(){return this._changePasswordError},set:function(e){this._changePasswordError=e},enumerable:!0,configurable:!0}),t.prototype.compareNewPasswords=function(){return this.newPassword!==this.confirmNewPassword?(this.changePasswordError={credentialsError:!1,newPasswordError:!0,message:"The passwords you entered did not match."},!1):!0},t.prototype.callChangePasswordCallback=function(){var t=this,n={username:this.username,newPassword:this.newPassword,password:this.oldPassword,database:this.database};this.computing=!0;var o=this.onChangePassword(n);o.then(function(){t.computing=!1,e.prototype.closeModal.call(t,n)},function(e){t.changePasswordError=e,t.computing=!1})},t.prototype.onCloseModal=function(){this.compareNewPasswords()&&this.callChangePasswordCallback()},t.prototype.formIsValid=function(){return void 0!==this.username&&void 0!==this.newPassword&&void 0!==this.oldPassword&&void 0!==this.confirmNewPassword&&!this.computing},t.prototype.disableAllButtons=function(){return this.computing},t.$inject=["$scope","$uibModalInstance","options","modalVariables"],t}(n);t.ChangePasswordModalController=o,angular.module("ers.components.passwordManagement").controller("ChangePasswordModalController",["$scope","$uibModalInstance","options","modalVariables",o])}(n=t.passwordManagement||(t.passwordManagement={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.modal").factory("ersModalService",["$uibModal",function(e){return new t(e)}]);var t=function(){function t(e){this.popupOpened=0,this.currentId=0,this.uiBstpModalService=e}return t.prototype.informationDialog=function(e,t,n){var o={label:"Ok",escapeChoice:!1,defaultChoice:!0,commitChoice:!0,id:"ok"},r={title:e||"Information",message:t||"",buttons:[o],onModalClose:n,modal:!0,instanceTemplate:"modal/template/information-modal-template.html",icon:"information"};return this.openDialog(r)},t.prototype.errorDialog=function(e,t,n,o){var r={label:"Ok",escapeChoice:!1,defaultChoice:!0,commitChoice:!0,id:"ok"},i=[r];n&&(i=n.concat(i));var s={title:e||"Error",message:t||"",buttons:i,onModalClose:o,modal:!0,instanceTemplate:"modal/template/information-modal-template.html",icon:"error"};return this.openDialog(s)},t.prototype.questionDialog=function(e,t,n,o){var r={title:e||"Question",message:t,buttons:n,onModalClose:o,dismissCrossButtonVisible:!1,keyboard:!1,modal:!0,instanceTemplate:"modal/template/information-modal-template.html",icon:"help"};return this.openDialog(r)},t.prototype.confirmationDialog=function(e,t,n,o,r){var i={label:"Yes",escapeChoice:!1,defaultChoice:!0,id:"yes",commitChoice:!0,value:o||"yes"},s={label:"No",escapeChoice:!1,defaultChoice:!1,id:"no",value:r||"no"};return this.questionDialog(e,t,[s,i],n)},t.prototype.customDialog=function(e,t){return this.openDialog(e,t,"modal/template/modal-template.html")},t.prototype.openDialog=function(t,n,o,r){var i=this,s=void 0===t.modal||t.modal?!0:!1,a=s?"static":!1;this.currentId=this.currentId+1;var l=t.windowClass||"";t.resizable&&(l+=" ers-modal-resizable"),t.draggable&&(l+=" ers-modal-draggable");var c={templateUrl:o||"modal/template/modal-template.html",controllerAs:r||"ctrl",controller:t.templateController||e.ModalController,keyboard:angular.isDefined(t.keyboard)?t.keyboard:!0,windowClass:l,size:t.size,backdrop:a,backdropClass:t.draggable||t.resizable?"ers-modal-backdrop":"",resolve:{options:function(){var e={title:t.title,icon:t.icon,buttons:t.buttons,nullFieldsCheckedForFormValidity:t.nullFieldsCheckedForFormValidity,dismissCrossButtonVisible:angular.isUndefined(t.dismissCrossButtonVisible)?!0:t.dismissCrossButtonVisible,instanceTemplate:t.instanceTemplate?t.instanceTemplate:t.message?"modal/template/information-modal-template.html":null,onModalDismiss:t.onModalDismiss,onModalClose:t.onModalClose,onBeforeModalClose:t.onBeforeModalClose,onBeforeModalDismiss:t.onBeforeModalDismiss,message:t.message,draggable:t.draggable,resizable:t.resizable,focusPath:t.focusPath,modal:s,id:t.id||"pop_"+i.currentId};return e},modalVariables:function(){return n}}},p=this.uiBstpModalService.open(c);p.opened.then(function(){i.popupOpened=i.currentId,t.onModalOpen&&t.onModalOpen()});var u=p.result;return u.then(function(e){i.popupOpened--,t.onModalClose&&t.onModalClose(e)},function(e){i.popupOpened--,t.onModalDismiss&&t.onModalDismiss(e)}),p},t.$inject=["$uibModal"],t}();e.ModalService=t}(t=e.modal||(e.modal={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.modal.ModalController,o=function(e){function t(t,n,o,r){e.call(this,t,n,o,r),this.email=r.email}return __extends(t,e),t.prototype.formIsValid=function(){return void 0!==this.email},t.$inject=["$scope","$uibModalInstance","options","modalVariables"],t}(n);t.ResetPasswordModalController=o,angular.module("ers.components.passwordManagement").controller("ResetPasswordModalController",["$scope","$uibModalInstance","options","modalVariables",o])}(n=t.passwordManagement||(t.passwordManagement={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.passwordManagement").factory("ersPasswordManagementService",["ersModalService",function(e){return new t(e)}]);var t=function(){function e(e){this.modalService=e}return e.prototype.changePassword=function(e,t,n,o,r){var i,s={instanceTemplate:"password-management/template/change-password-template.html",title:"Change Password",onBeforeModalClose:null,onBeforeModalDismiss:null,onModalDismiss:null,message:null,focusPath:"input[name='username']",id:"changePasswordPop",buttons:[{label:"Cancel",escapeChoice:!0,defaultChoice:!1,commitChoice:!1,id:"Cancel",value:"Cancel"},{label:"Update",escapeChoice:!1,defaultChoice:!0,commitChoice:!0,id:"Update",value:"Update"}],templateController:"ChangePasswordModalController"};return i=this.modalService.customDialog(s,{username:e,database:t,changePassword:function(e){return o(e)},changePasswordError:n,changePasswordSuccess:null}),i.result.then(function(e){r(e)},function(e){}),i},e.prototype.resetPassword=function(e,t){var n,o={instanceTemplate:"password-management/template/reset-password-template.html",title:"Reset Password",onBeforeModalClose:null,onBeforeModalDismiss:null,message:null,id:"resetPasswordPop",focusPath:"input[name='email']",buttons:[{label:"Send",escapeChoice:!1,defaultChoice:!0,commitChoice:!0,id:"Send",value:"Send"}],dismissCrossButtonVisible:!0,nullFieldsCheckedForFormValidity:["email"]};return n=this.modalService.customDialog(o,{email:null}),n.result.then(function(t){e(t.email)},function(){t()}),n},e.$inject=["ersModalService"],e}();e.PasswordManagementService=t}(t=e.passwordManagement||(e.passwordManagement={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,n){this.username=e,this.database=t,this.changePassword=n}return e}();e.ChangePasswordResolvedVar=t}(t=e.passwordManagement||(e.passwordManagement={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseComponent;angular.module("ers.components.login").directive("ersLogin",function(){return{restrict:"E",templateUrl:"login/template/login-template.html",controller:o,controllerAs:"ctrl",bindToController:!0,scope:{productName:"@",databases:"=",onLogin:"&",resetPasswordOptions:"=",changePasswordOptions:"="}}});var o=function(e){function t(t,n){e.call(this,t),this.selectedDbIndex=0,this.computing=!1,this.passwordService=n}return __extends(t,e),t.prototype.selectDb=function(e){this.selectedDbIndex=e},t.prototype.getSelectedDb=function(){return this.databases[this.selectedDbIndex]},t.prototype.login=function(){var e=this;this.computing=!0;var t={username:this.username,password:this.password,database:this.databases&&this.databases.length>0?this.getSelectedDb():null},n=this.onLogin({loginInfo:t});n.then(function(){e.computing=!1,e.loginError=null},function(t){e.loginError=t,e.computing=!1})},t.prototype.isDatabaseDdwVisible=function(){return void 0!==this.databases&&this.databases.length>1},t.prototype.getErrorMessage=function(){return this.loginError?this.loginError.message:void 0},t.prototype.openChangePassword=function(){return this.passwordService.changePassword(this.username,this.getSelectedDb(),this.changePasswordOptions.changePasswordError,this.changePasswordOptions.onChangePassword,this.changePasswordOptions.onChangePasswordSuccess)},t.prototype.openResetPassword=function(){return this.passwordService.resetPassword(this.resetPasswordOptions.onResetPassword,this.resetPasswordOptions.onResetPasswordCancel)},t.$inject=["$scope","ersPasswordManagementService"],t}(n);t.LoginComponent=o}(n=t.login||(t.login={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.modal||(e.modal={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){function n(){return{restrict:"E",scope:{modalId:"@",modal:"=",resizable:"=",draggable:"=",focusPath:"="},link:function(t,n){function o(){var e=y.find(p).css("box-shadow");e=e.replace(/rgba?\([^\)]+\)/gi,""),e=e.replace(/#[0-9a-f]+/gi,""),e=$.trim(e.replace(/[a-z]+/gi,""));var t=parseInt(e.split(" ")[2],10);return t}function r(e){if(null==e||e.srcElement!==$(c)[0]){var t=o(),n=y.offset().top-parseInt(b.css("margin-top"),10),i=$(window).height()-(y.offset().top+y.outerHeight())-parseInt(y.css("margin-bottom"),10)-t;b.css("top",n),b.css("bottom",i),null!=e&&s(),b.css("height",y.height()),b.css("width","auto"),y.css("margin-bottom",0),b.off("click",r)}}function i(){y.find(d+", iframe").each(function(){l=$(this),l.data("resizeoriginalheight",l.height())})}function s(){var e=o(),t=y.offset().left-e,n=$(window).width()-(y.offset().left+y.outerWidth())-e;b.css("left",t),b.css("right",n)}function a(e,t){$(this).css("min-height",l.data("resizeoriginalheight")+t.size.height-t.originalSize.height),$(t.element).css("min-height",l.data("resizeoriginalheight")+t.size.height-t.originalSize.height);var n=o(),i=$(t.element).find(h).height(),s=$(t.element).find(m).height();$(t.element).find(g).css("height",l.data("resizeoriginalheight")+t.size.height-t.originalSize.height-i+n),$(t.element).find(v).css("height",l.data("resizeoriginalheight")+t.size.height-t.originalSize.height-i-s+n),$(t.element).css("height","auto"),b.css("height","auto"),b.css("width","auto"),r()}var l,c=".modal-dialog",p=".modal-content",u=".modal",d=".modal-body",h=".modal-header",f=".modal-backdrop",m=".form-input",g="#modalForm_"+t.modalId,v=".modal-form",y=$($(n.parents(c))[0]),b=$($(y.parents(u))[0]),C=function(){var e=t.focusPath&&$(g).find(t.focusPath)?$(g).find(t.focusPath):$(g).find("#fake");return e};(t.draggable||t.resizable||!t.modal)&&($(b).on("click",r),t.modal||($($(b.parents(f))[0]).remove(),setTimeout(function(){C().bind("focus",function(e){r(e)})},200)),t.draggable&&$(b).draggable({handle:h}),t.resizable&&($(y).on("resizestart",i),$(y).on("resize",a),$(y).on("resizestop",s),$(y).resizable())),setTimeout(function(){C().focus(),$(b).bind("keypress",function(t){if(t.which===e.components.utility.KEY.ENTER){var n=$(b).find("button[name='commit']");n.is("[disabled=disabled]")||n.trigger("click"),t.preventDefault(),t.stopPropagation()}})},500),t.$on("$destroy",function(){$(b).unbind(),$(b).off("click",r),t.resizable&&($(y).off("resizestart",i),$(y).off("resize",a),$(y).off("resizestop",s),$(y).resizable("instance")&&$(y).resizable("destroy")),t.draggable&&$(y).resizable("instance")&&$(b).draggable("destroy"),t.modal||$(g).find("#fake").unbind()})}}}angular.module("ers.components.modal").directive("ersModalScript",n)}(n=t.modal||(t.modal={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.navigation",["ers.components.core","ui.bootstrap"]);var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.navigation").directive("ersNavItem",function(){return{restrict:"E",templateUrl:"navigation/template/navigation-item-template.html",transclude:!0,bindToController:!0,controller:o,controllerAs:"vm",scope:{heading:"@?",isActive:"=?",isGroup:"=?"}}}).directive("ersNavHeading",function(){return{restrict:"E",transclude:"element",scope:{},link:function(e,t,n,o,r){r(function(e,n){var o=t.closest("ers-nav-item").find("> .ers-nav-heading");o.empty(),o.append(e)})}}});var n=e.components.core.BaseController,o=function(e){function t(t,n,o){var r=this;e.call(this,t,n),this.$timeout=o,this.setupDefaults(),this.setupBasicClasses(),this.setupParentNavigation(),this.setupEvents(),this.setupWatchers(),this.$timeout(function(){r.layout()},0)}return __extends(t,e),t.prototype.wantsActivation=function(){this.parentNav.activateChild(this)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,this.layout())},t.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,this.layout())},t.prototype.isAncestorOf=function(e){var t,n=this,o=e.$element.parents("ers-nav-item"),r=!1;return _.each(o,function(e){t=angular.element(e).controller("ersNavItem"),t===n&&(r=!0)}),r},t.prototype.setupDefaults=function(){this.heading=this.heading||"",this.isActive=this.isActive||!1,this.isGroup=this.isGroup||!1},t.prototype.setupBasicClasses=function(){this.$element.addClass(this.isGroup?"ers-nav-group":"ers-nav-item"),this.$element.parents(".ers-nav-group").length>0&&this.$element.addClass("ers-nav-group-item")},t.prototype.setupParentNavigation=function(){this.parentNav=angular.element(this.$element.closest("ers-nav")).controller("ersNav"),this.parentNav.registerChild(this)},t.prototype.setupEvents=function(){var e=this,t=this.$element.find(".ers-nav-heading");t.on("click",function(t){e.isActive?e.isGroup&&e.deactivate():e.wantsActivation(),
e.$scope.$apply()}),this.$scope.$on("destroy",function(){t.off("click")})},t.prototype.setupWatchers=function(){var e=this;this.$scope.$watch("vm.isActive",function(t,n){e.layout()}),this.$scope.$on("$destroy",function(){e.parentNav.deregisterChild(e)})},t.prototype.layout=function(){if(this.parentNav.showActive&&this.$element.toggleClass("active",this.isActive),this.isGroup){var e=this.$element.closest(".menu"),t=this.$element.find(".ers-nav-content");if(this.isActive){var n,o=e.find(".ers-nav-group .ers-nav-content"),r=e.find("> ers-nav-item"),i=this.$element.closest("ers-nav").height(),s=this.sumElementHeights(r),a=this.sumElementHeights(o),l=this.$element.closest("ers-nav").find(".footer").outerHeight(),c=i-(s-a)-l-r.length,p=500;t.css({maxHeight:c,overflow:"auto",transition:"none"}),n=t.height(),t.css({maxHeight:"0",overflow:"hidden"}),t.height(),t.css({maxHeight:Math.min(n,c),transition:"max-height "+p+"ms ease-in-out"}),this.$timeout(function(){e.css("overflow","auto"),t.css("overflow","auto")},p,!1)}else e.css({overflow:"hidden"}),t.css({overflow:"hidden",maxHeight:"0"})}},t.prototype.sumElementHeights=function(e){return _.reduce(e,function(e,t){var n=$(t).outerHeight();return e+n},0)},t.$inject=["$scope","$element","$timeout"],t}(n);t.NavigationItemComponent=o}(n=t.navigation||(t.navigation={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.navigation").directive("ersNav",function(){return{restrict:"E",templateUrl:"navigation/template/navigation-template.html",transclude:!0,bindToController:!0,controller:o,controllerAs:"vm",scope:{showActive:"=?"}}});var n=e.components.core.BaseComponent,o=function(e){function t(t,n,o){e.call(this,t,n),this.children=new Array,this.setupDefaults(),this.setupBasicClass(),this.setupFirstItemClass(o),this.setMenuBottom()}return __extends(t,e),t.prototype.registerChild=function(e){this.children.push(e)},t.prototype.deregisterChild=function(e){this.children.splice(this.children.indexOf(e),1)},t.prototype.activateChild=function(e){var t=[],n=[],o=this;angular.forEach(this.children,function(o){o===e||o.isAncestorOf(e)?t.push(o):n.push(o)}),angular.forEach(n,function(e){e.deactivate()}),angular.forEach(t,function(e){e.activate()}),o.$scope.$apply()},t.prototype.setupDefaults=function(){this.showActive=this.showActive||!1},t.prototype.setupBasicClass=function(){this.$element.addClass("ers-nav")},t.prototype.setupFirstItemClass=function(e){var t=this;e(function(){t.$element.find("ers-nav-group").each(function(e,t){$(t).find("ers-nav-item").first().addClass("first-item")})},0,!1)},t.prototype.setMenuBottom=function(){var e=this.$element.find(".menu"),t=this.$element.find(".footer");e.css({bottom:t.outerHeight()})},t.$inject=["$scope","$element","$timeout"],t}(n);t.NavigationComponent=o}(n=t.navigation||(t.navigation={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.DEFAULT_VALIDATION_RULES,o=function(e){function t(t,n,o,r,i,s){e.call(this,t,n,o,r,i),this.$exceptionHandler=s}return __extends(t,e),t.prototype.link=function(){this.inputComponent=this.$element.find("input"),this.setNgModelController(this.$element.controller("ngModel"))},t.prototype.configureRender=function(){},t.prototype.configParsers=function(){},t.prototype.configEventListeners=function(){},t.prototype.onNgModelCtrlLoaded=function(){var t=this;e.prototype.onNgModelCtrlLoaded.call(this),this.inputComponent.on("input",function(){t.ngModelController.$setViewValue(t.inputComponent.val())}),this._inputComponent.scope().$watch(function(){return t.ngModelController.$error},function(e,n){if(e!==n)for(var o in t.ngModelController.$validators)angular.isDefined(e[o])?t.ngModelController.$setValidity(o,!e[o]):t.ngModelController.$setValidity(o,!0)},!0),this.ngModelController.$validate()},t.prototype.setNgModelController=function(t){e.prototype.setNgModelController.call(this,t),this.configParsers(),this.configureRender()},Object.defineProperty(t.prototype,"inputComponent",{get:function(){return this._inputComponent},set:function(e){this._inputComponent=e,this.configEventListeners(),this.applyTextAlign(this.textAlign)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this.applyTextAlign(e)},enumerable:!0,configurable:!0}),t.prototype.applyTextAlign=function(e){this.inputComponent&&this.inputComponent.removeClass("text-"+this.textAlign),this._textAlign=e,-1!==t.TEXT_ALIGN_VALUES.indexOf(this.textAlign)?this.inputComponent&&this.inputComponent.addClass("text-"+this.textAlign):this.setDefaultTextAlign()},t.prototype.setDefaultTextAlign=function(){this.inputComponent&&this.inputComponent.addClass("text-left"),this._textAlign="left"},Object.defineProperty(t.prototype,"ngDisabled",{get:function(){var e=!0;return(this.readOnly||!this._disabled)&&(e=!1),e},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textPattern",{get:function(){return this._textPattern},set:function(e){this._textPattern=e,angular.isDefined(this.ngModelController)&&(this.ngModelController.$validate(),this.vm.reloadMessage(this))},enumerable:!0,configurable:!0}),t.prototype.focusedElement=function(){return this.$element.find("input")},t.prototype.getTooltipDelegate=function(e){switch(void 0===e&&(e=""),e){case"focus":return this.focusedElement();default:return this.$element}},t.prototype.validationRules=function(){var e=this,t=[];t.push(n.REQUIRED());var o=n.PATTERN(this.textPattern);return o.validator=function(t){var n=!0;if(angular.isDefined(e.textPattern)){var o=new RegExp("^"+e.textPattern+"$");n=o.test(t)}return n},t.push(o),t},t.TEXT_ALIGN_VALUES=["left","center","right"],t}(t.EditComponent);t.InputComponent=o}(n=t.core||(t.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){}(t=e.filters||(e.filters={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=angular.module("ers.components.core.filters",["ers.components.core"]),n=function(){function e(){}return e.configureNumberSettings=function(t){e.DEFAULT_GROUP_SEP=t.groupSep?t.groupSep:"",e.DEFAULT_DECIMAL_SEP=t.decimalSep?t.decimalSep:"",e.DEFAULT_FRACTIONS_SIZE.amount=t.amountFractionSize?t.amountFractionSize:0,e.DEFAULT_FRACTIONS_SIZE.percentage=t.percentageFractionSize?t.percentageFractionSize:0,e.DEFAULT_FRACTIONS_SIZE.short_percentage=t.shortPercentageFractionSize?t.shortPercentageFractionSize:0,e.DEFAULT_FRACTIONS_SIZE.basepoint=t.bpFractionSize?t.bpFractionSize:0,e.DEFAULT_FRACTIONS_SIZE.rate=t.rateFractionSize?t.rateFractionSize:0},e.formatNumber=function(e,t,n){var o,r=parseFloat(e);if("number"==typeof r&&!isNaN(r)){var i=e.indexOf(".");i>=0?(o=e.substring(i+1,e.length),o=n+o):(i=e.length,o="");for(var s=0,a=i-1;a>=0;a--)o=e[a]+o,s++,3===s&&a-1>=0&&(s=0,o=t+o)}return o},e.getFraction=function(t,n,o,r){void 0===r&&(r="");var i=t*o,s=e.DEFAULT_FRACTIONS_SIZE[r];return angular.isDefined(n)&&n>=0?i.toFixed(n):angular.isDefined(s)&&s>=0?i.toFixed(s):i.toString()},e.getDecimalSep=function(t){var n=t;return n||(n=e.DEFAULT_DECIMAL_SEP),n},e.getGroupSep=function(t){var n=t;return n||(n=e.DEFAULT_GROUP_SEP),n},e.DEFAULT_GROUP_SEP=",",e.DEFAULT_DECIMAL_SEP=".",e.DEFAULT_FRACTIONS_SIZE={amount:2,percentage:2,short_percentage:0,basepoint:7,rate:5},e}();e.NumberFilters=n,t.filter("configureNumberFilters",function(){return function(e){return n.configureNumberSettings(e),!0}}),t.filter("amount",function(){return function(e,t,o,r){return n.formatNumber(n.getFraction(e,t,1,"amount"),n.getGroupSep(o),n.getDecimalSep(r))}}),t.filter("percentage",function(){return function(e,t,o,r){return n.formatNumber(n.getFraction(e,t,100,"percentage"),n.getGroupSep(o),n.getDecimalSep(r))+" %"}}),t.filter("short_percentage",function(){return function(e,t,o,r){return n.formatNumber(n.getFraction(e,t,100,"short_percentage"),n.getGroupSep(o),n.getDecimalSep(r))+" %"}}),t.filter("basepoint",function(){return function(e,t,o,r){return n.formatNumber(n.getFraction(e,t,1e4,"basepoint"),n.getGroupSep(o),n.getDecimalSep(r))+" bp"}}),t.filter("rate",function(){return function(e,t,o,r){return n.formatNumber(n.getFraction(e,t,1,"rate"),n.getGroupSep(o),n.getDecimalSep(r))}})}(t=e.filters||(e.filters={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.core.InputComponent,r=e.components.utility.checks;angular.module("ers.components.numberbox",["ers.components.core","ers.components.core.filters","ngMessages"]).directive("ersNumber",function(){return{restrict:"E",templateUrl:"numberbox/template/numberbox-template.html",controller:s,controllerAs:"c",bindToController:!0,scope:{name:"@",ngModel:"=",readOnly:"=?ngReadonly",ngDisabled:"=?",textAlign:"@?",min:"=?",max:"=?",exclusiveMin:"=?",exclusiveMax:"=?",minErrorMessage:"=?",maxErrorMessage:"=?",required:"=?ngRequired",format:"@?"},link:function(e,t,n,o){o.link()}}});var i=e.components.utility.DEFAULT_VALIDATION_RULES,s=function(e){function t(t,n,o,r,i,s,a){e.call(this,t,n,o,i,s,a),this.$filter=r,n.addClass("ers-number")}return __extends(t,e),Object.defineProperty(t.prototype,"ngModel",{get:function(){return this._ngModelDirective},set:function(e){this._ngModelDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){var n=t.AVAILABLE_FORMAT.indexOf(e);0>n?this._format=t.DEFAULT_FORMAT:this._format=e,this.ngModelController&&this.isNumber(this.ngModelController.$modelValue)&&this.ngModelController.$render()},enumerable:!0,configurable:!0}),t.prototype.setDefaultTextAlign=function(){this.inputComponent&&this.inputComponent.addClass("text-right"),this._textAlign="right"},t.prototype.configParsers=function(){var t=this;e.prototype.configParsers.call(this),this.ngModelController.$parsers.push(function(e){return null===e||0===e.length||angular.isUndefined(e)?"":parseFloat(t.parseValue(e))})},t.prototype.onNgModelCtrlLoaded=function(){e.prototype.onNgModelCtrlLoaded.call(this),this.ngModelController.$render()},t.prototype.configEventListeners=function(){var t=this;e.prototype.configEventListeners.call(this),this.inputComponent.on("keydown",function(e){e.keyCode===n.ESCAPE?(t.ngModelController.$setUntouched(),t.inputComponent.val(t.storedModelValue),t.ngModelController.$setViewValue(t.storedModelValue),t.ngModelController.$render(),e.preventDefault(),e.stopImmediatePropagation()):e.keyCode===n.ENTER?t.transformation():t.ngModelController.$untouched&&t.ngModelController.$setTouched()}),this.$element.bind("focusout",function(){t.hasFocus=!1,t.ngModelController.$render()}),this.$element.bind("focusin",function(){t.hasFocus=!0,t.ngModelController.$touched&&t.ngModelController.$setUntouched(),t.ngModelController.$valid?(t.ngModelController.$viewValue=t.parseValue(t.ngModelController.$viewValue),t.storedModelValue=t.ngModelController.$viewValue):t.storedModelValue=t.inputComponent.val(),t.ngModelController.$render()})},t.prototype.transformation=function(){if(angular.isDefined(this.ngModelController)){var e=this.ngModelController.$modelValue;this.isNumber(e)&&(this.computeViewValue(),this.ngModelController.$render())}},t.prototype.configureRender=function(){var n=this;e.prototype.configureRender.call(this),this.ngModelController.$render=function(){var e;if(n.hasFocus)e=n.ngModelController.$viewValue;else if(n.isFormatable()){var o=n.format?n.format:t.DEFAULT_FORMAT;e=n.$filter(o)(parseFloat(n.ngModelController.$modelValue))}else e=n.ngModelController.$viewValue;n.inputComponent.val(e)}},t.prototype.computeViewValue=function(){this.ngModelController.$setViewValue(this.parseValue(this.ngModelController.$viewValue))},t.prototype.parseValue=function(e){if(null===e||angular.isUndefined(e)||0===e.length)return null;var n=t.NUMBER_REGEXP_BASE.exec(e);if(null===n)return null;var o,r=n[1],i=n[5];return o=angular.isDefined(i)?t.AUTHORIZED_SHORTCUTS[i](parseFloat(n[2])):n[2],"-"===r&&(o="-"+o),o},t.applyBasepointFormat=function(e){return(0!==e?e/1e4:0).toString()},t.applyPercentageFormat=function(e){return(0!==e?e/100:0).toString()},t.applyThousandFormat=function(e){return(1e3*e).toString()},t.applyMillionFormat=function(e){return(1e6*e).toString()},t.applyBillionFormat=function(e){return(1e9*e).toString()},t.prototype.isNumber=function(e){return t.NUMBER_REGEXP_BASE.test(e)},t.prototype.isFormatable=function(){return angular.isDefined(this.ngModelController)&&angular.isDefined(this.ngModelController.$modelValue)&&!isNaN(this.ngModelController.$modelValue)&&""!==this.ngModelController.$modelValue},t.prototype.validationRules=function(){var t=this,n=i.NUMBER();n.validator=function(e,n){if(angular.isDefined(t.ngModelController)&&t.ngModelController.$pristine||r.isEmpty(e))return!0;var o=r.isNumber(e),i=NaN;return i=o?e:parseFloat(t.parseValue(e)),!isNaN(i)};var o=i.NUMBER_RANGE(this.min,this.max,this.exclusiveMin,this.exclusiveMax,this.minErrorMessage,this.maxErrorMessage);return o.validator=function(e,n){var o=!1;if(angular.isUndefined(t.ngModelController)||r.isEmpty(e))o=!0;else{var i=r.isNumber(e),s=NaN;s=i?e:parseFloat(t.parseValue(e)),isNaN(s)||(o=t.validator(s))}return o},e.prototype.validationRules.call(this).concat([n,o])},t.prototype.validator=function(e){if(this.exclusiveMin){if(angular.isDefined(this.min)&&e<=this.min)return!1}else if(angular.isDefined(this.min)&&e<this.min)return!1;if(this.exclusiveMax){if(angular.isDefined(this.max)&&e>=this.max)return!1}else if(angular.isDefined(this.max)&&e>this.max)return!1;return!0},Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){"number"==typeof e?this._min=e:this._min=void 0;var t=this.ngModelController;t&&(t.$validate(),this.vm.reloadMessage(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){"number"==typeof e?this._max=e:this._max=void 0;var t=this.ngModelController;t&&(t.$validate(),this.vm.reloadMessage(this))},enumerable:!0,configurable:!0}),t.DEFAULT_FORMAT="amount",t.AUTHORIZED_SHORTCUTS={m:t.applyMillionFormat,M:t.applyMillionFormat,b:t.applyBillionFormat,B:t.applyBillionFormat,k:t.applyThousandFormat,K:t.applyThousandFormat,"%":t.applyPercentageFormat,bp:t.applyBasepointFormat,BP:t.applyBasepointFormat,Bp:t.applyBasepointFormat,bP:t.applyBasepointFormat},t.RE_NUMBER_PART="([+-]?)([0-9]+([.]?[0-9]+)?)",t.NUMBER_REGEXP_BASE=new RegExp("^"+t.RE_NUMBER_PART+"( ?("+Object.keys(t.AUTHORIZED_SHORTCUTS).join("|")+"))?$"),t.AVAILABLE_FORMAT=[t.DEFAULT_FORMAT,"rate","percentage","short_percentage","basepoint"],t.$inject=["$scope","$element","$attrs","$filter","$timeout","validationManager","$exceptionHandler"],t}(o);t.NumberboxComponent=s}(n=t.numberbox||(t.numberbox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},BaseComp=ers.components.core.BaseComponent,ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.panel",["ers.components.core","ui.bootstrap.collapse"]).directive("ersPanel",["containerEventService",function(e){return{restrict:"E",transclude:!0,replace:!0,scope:{closed:"=?",panelClass:"@?",header:"@?",collapsible:"=?"},templateUrl:function(e,t){return t.header?"panel/template/panel-template.html":"panel/template/panel-custom-template.html"},bindToController:!0,controller:t,controllerAs:"ctrl"}}]);var t=function(e){function t(t,n,o,r){var i=this;e.call(this,t,n),this.resizing=!1,angular.isDefined(this.collapsible)||(this.collapsible=!0),this.closed&&(this.display=window.getComputedStyle(this.$element[0]).getPropertyValue("display"),this.$element[0].style.display="none"),o.registerListener(this),this.eventService=r,r.registerDispatcher("collapse",t),"hidden"!==this.$element.css("visibility")&&(this.panelHeight=this.computePanelHeight()),t.$watch(function(){return n.height()},function(e,t){if(e!==t&&null!=i.panelHeight)if(i.resizing)i.resizing=!1;else if(i.closed){var n=i.computePanelHeight();i.panelHeight=null!==n?n:i.panelHeight;var o=i.elementHeightInPixels();o<i.$element.children(".panel-heading")[0].offsetHeight?(i.resizing=!0,i.$element.height(o)):i.$element.height("auto")}else setTimeout(function(){i.resizeDidOccur()},0);else setTimeout(function(){i.closed||"hidden"===i.$element.css("visibility")||null!==i.panelHeight&&i.resizeDidOccur()},0)})}return __extends(t,e),t.prototype.elementHeightInPixels=function(){return this.$element.parent().height()*(parseInt(this.panelHeight,0)/100)},t.prototype.computePanelHeight=function(){var e=null;if(this.$element&&this.$element.parent()){var t=this.$element[0],n=window.getComputedStyle(t).getPropertyValue("display");t.style.display="none",e=window.getComputedStyle(t).getPropertyValue("height"),t.style.display=n}return"auto"!==e?e:null},t.prototype.toggle=function(){this.closed=!this.closed},Object.defineProperty(t.prototype,"closed",{get:function(){return this._closed},set:function(e){var t=this,n=!1;void 0!==e&&e!==this._closed&&(n=!0),this._closed=e,setTimeout(function(){if(t.$element){if(null!=t.panelHeight){var o=t.computePanelHeight();e?(null!==o&&"auto"!==o&&"0px"!==o&&(t.panelHeight=o),t.$element.height("auto")):t.panelHeight!==o&&(t.$element.css("height",t.panelHeight),setTimeout(function(){var e=t.$element.children(".panel-collapse");e.css("height","auto")},0))}t.$element[0].style.display=t.display,n&&t.$scope.$emit("panel-collapsed")}},0)},enumerable:!0,configurable:!0}),t.prototype.resizeDidOccur=function(){if(null!=this.panelHeight){var e=this.$element.children().children(".panel-body"),t=this.$element.children(".panel-heading");if(e.length>0){this.resizing=!0;var n=0;t.length>0&&(n=t[0].offsetHeight),this.bodyOffsetHeight=e[0].offsetHeight>0?e[0].offsetHeight-e.height():this.bodyOffsetHeight?this.bodyOffsetHeight:0;var o=this.$element.innerHeight()-this.bodyOffsetHeight-n;e.height(o)}}},Object.defineProperty(t.prototype,"panelHeight",{get:function(){return this._panelHeight},set:function(e){var t=this;this._panelHeight=e,void 0!==e&&null!==e&&setTimeout(function(){var e=t.$element.children().children(".panel-body");e.css("overflow-y","auto")},0)},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element","ResizeService","containerEventService"],t}(BaseComp);e.PanelComponent=t}(t=e.panel||(e.panel={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},BaseC=ers.components.core.BaseComponent,ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.panel").directive("ersPanelBody",function(){return{restrict:"E",require:["^ersPanel"],templateUrl:"panel/template/panel-body.html",transclude:!0,replace:!0,link:function(e,t,n,o){t.inheritedData().$ersPanelBodyController.panelController=o[0]},bindToController:!0,controller:t,controllerAs:"bodyCtrl"}});var t=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.closed=function(){return this.panelController?this.panelController.closed:!1},Object.defineProperty(t.prototype,"panelClass",{get:function(){return this.panelController.panelClass},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element"],t}(BaseC);e.PanelBodyComponent=t}(t=e.panel||(e.panel={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},BaseCompo=ers.components.core.BaseComponent,ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.panel").directive("ersPanelHeader",function(){return{restrict:"E",require:["^ersPanel"],templateUrl:"panel/template/panel-header.html",transclude:!0,replace:!0,bindToController:!0,controller:t,controllerAs:"headerCtrl",link:function(e,t,n,o){t.inheritedData().$ersPanelHeaderController.panelController=o[0]}}});var t=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),Object.defineProperty(t.prototype,"closed",{get:function(){return this.panelController.closed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsible",{get:function(){return this.panelController.collapsible},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){this.panelController.toggle()},t.$inject=["$scope","$element"],t}(BaseCompo);e.PanelHeaderComponent=t}(t=e.panel||(e.panel={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=e.components.utility.DEFAULT_VALIDATION_RULES,r=e.components.core.EditComponent,i=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i),this.radioButtonControllers=[],this.disabled=t.disabled,this.readonly=t.readonly,this.required=t.required,this.lastTabIndex=this.$element.attr("tabindex")||"0",this.configureObservers()}return __extends(t,e),t.prototype.configureObservers=function(){var e=this;this.$element.on("keydown",function(t){!e.disabled&&e.isRadioButtonEnabled()&&e.keydownListener(t)}),this.$attrs.$observe("readonly",function(t){var n=!0;(e.readonly===t||t===!1&&void 0===e.readonly)&&(n=!1),e.readonly=t,n&&(e.render(),e.updateTabIndex())}),this.$attrs.$observe("disabled",function(t){var n=!0;(e.disabled===t||t===!1&&void 0===e.disabled)&&(n=!1),e.disabled=t,n&&(e.render(),e.updateTabIndex())}),this.$attrs.$observe("required",function(t){var n=!0;(e.required===t||t===!1&&void 0===e.required)&&(n=!1),e.required=t,n&&(e.render(),e.updateTabIndex())}),this.$element.bind("focusin",function(){!e.disabled&&e.isRadioButtonEnabled()&&e.setFocusFlag()})},t.prototype.setFocusFlag=function(){if(void 0!==this.radioButtonControllers&&this.radioButtonControllers.length>0){var e,t;this.radioButtonControllers.forEach(function(n){n.removeFocusFlag(),n.disabled||(angular.isUndefined(e)&&(e=n),n.getLastChecked()&&(t=n))}),angular.isDefined(t)?t.addFocusFlag():angular.isDefined(e)&&e.addFocusFlag()}},t.prototype.setNgModelController=function(t){var n=this;e.prototype.setNgModelController.call(this,t),this.ngModelController.$render=function(){return n.render()}},t.prototype.isModelDefined=function(){return void 0!==this.ngModelController},t.prototype.addRadioButtonController=function(e){this.radioButtonControllers.push(e)},t.prototype.removeRadioButtonController=function(e){var t=this.radioButtonControllers.indexOf(e);-1!==t&&this.radioButtonControllers.splice(t,1)},t.prototype.getNumberOfRadioButtons=function(){return void 0===this.radioButtonControllers?0:this.radioButtonControllers.length},t.prototype.render=function(){void 0!==this.radioButtonControllers&&this.radioButtonControllers.length>0&&(this.radioButtonControllers.forEach(function(e){e.render()}),this.ngModelController.$validate())},t.prototype.isRadioButtonChecked=function(){var e=this,t=!1;return void 0!==this.radioButtonControllers&&this.radioButtonControllers.length>0&&this.radioButtonControllers.forEach(function(n){t=t||n.value==e.ngModelController.$viewValue}),t},t.prototype.isRadioButtonEnabled=function(){var e=!1;return void 0!==this.radioButtonControllers&&this.radioButtonControllers.length>0&&this.radioButtonControllers.forEach(function(t){e=e||!t.disabled}),e},t.prototype.changeSelectedButton=function(e){if(void 0!==this.radioButtonControllers&&!this.readonly&&!this.disabled){for(var t=this.radioButtonControllers.length,n=!1,o=0;!n&&t>o;){var r=this.radioButtonControllers[o];r.getLastChecked()?n=!0:o++}var i=0;n&&(i=o+e,0>i?i=t-1:i>=t&&(i=0));var s=this.radioButtonControllers[i];void 0===this.disabled&&s.disabled?this.changeSelectedButton(0>e?--e:++e):this.setViewValue(s.value,"click")}},t.prototype.selectPrevious=function(){this.changeSelectedButton(-1)},t.prototype.selectNext=function(){this.changeSelectedButton(1)},t.prototype.keydownListener=function(e){switch(e.keyCode){case n.LEFT_ARROW:case n.UP_ARROW:e.preventDefault(),this.selectPrevious();break;case n.RIGHT_ARROW:case n.DOWN_ARROW:e.preventDefault(),this.selectNext()}},t.prototype.updateTabIndex=function(){this.readonly||!this.disabled&&(void 0!==this.disabled||this.isRadioButtonEnabled())?this.$element.attr({tabIndex:this.lastTabIndex}):this.$element.removeAttr("tabIndex")},Object.defineProperty(t.prototype,"componentCreated",{get:function(){return this._componentCreated},set:function(e){this._componentCreated=e},enumerable:!0,configurable:!0}),t.prototype.setViewValue=function(e,t){this.ngModelController.$setViewValue(e,t),this.render(),this.setFocusFlag()},t.prototype.getViewValue=function(){return this.ngModelController.$viewValue},t.prototype.focus=function(){!this.disabled&&this.isRadioButtonEnabled()&&this.$element.focus()},t.prototype.validationRules=function(){var e=this,t=o.REQUIRED();return t.errorMessage="A radio button selection is required.",t.validator=function(){return e.getNumberOfRadioButtons()>0&&e.required?e.isRadioButtonChecked():!0},[t]},t.$inject=["$scope","$element","$attrs","$timeout","validationManager"],t}(r);t.RadioGroupComponent=i}(n=t.radioButtons||(t.radioButtons={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController,o=function(e){function t(t,n){e.call(this,t,n),this.value=t.value,this.disabled=t.disabled}return __extends(t,e),t.prototype.setGroupCtrl=function(e,t){this.groupCtrl=e,this.groupCtrl.isModelDefined()||this.groupCtrl.setNgModelController(t)},t.prototype.getLastChecked=function(){return this.lastChecked},t.prototype.render=function(){var e=this.groupCtrl.getViewValue()==this.value,t=this.groupCtrl.disabled||void 0===this.groupCtrl.disabled&&this.disabled,n=this.groupCtrl.readonly;if(n!==this.lastReadonly||t!==this.lastDisabled||e!==this.lastChecked){var o=this.$element.find('div[class="radio-btn-div"]').find("div");o.length>0&&(this.lastChecked=e,this.lastDisabled=t,this.lastReadonly=n,void 0!==this.rbClass&&o.removeClass(this.rbClass),this.rbClass=this.getCSSClass(),o.addClass(this.rbClass))}},t.prototype.getCSSClass=function(){var e;return e=this.groupCtrl.getViewValue()==this.value?"checked":"unchecked",this.groupCtrl.readonly?e+=" readonly":(this.groupCtrl.disabled||void 0===this.groupCtrl.disabled&&this.disabled)&&(e+=" disabled"),e},t.prototype.removeFocusFlag=function(){var e=this.$element.find('div[class="radio-btn-div"]').find("div");e.length>0&&e.removeClass("focus-flag")},t.prototype.addFocusFlag=function(){var e=this.$element.find('div[class="radio-btn-div"]').find("div");e.length>0&&e.addClass("focus-flag")},t.$inject=["$scope","$element"],t}(n);t.RadioButtonController=o}(n=t.radioButtons||(t.radioButtons={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.radio-buttons",["ers.components.core"]);var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"radio-buttons/template/radio-button-template.html",transclude:!0,controller:e.RadioButtonController,controllerAs:"c",require:["ersRadioButton","^ersRadioGroup","^ngModel"],scope:{value:"=",disabled:"=?ngDisabled"},link:function(e,t,n,o){var r=o[0],i=o[1],s=o[2];r.setGroupCtrl(i,s),i.addRadioButtonController(r),i.render(),t.on("click",function(t){i.focus(),i.readonly||i.disabled||void 0===i.disabled&&r.disabled||e.$apply(function(){i.setViewValue(e.value,t&&t.type)})}),n.$observe("disabled",function(e){var t=!0;(r.disabled===e||e===!1&&void 0===r.disabled)&&(t=!1),r.disabled=e,t&&(i.render(),i.updateTabIndex())}),e.$on("$destroy",function(){i.removeRadioButtonController(r)}),i.componentCreated&&i.updateTabIndex()}}}angular.module("ers.components.radio-buttons").directive("ersRadioButton",t)}(t=e.radioButtons||(e.radioButtons={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"E",templateUrl:"radio-buttons/template/radio-group-template.html",transclude:!0,controller:e.RadioGroupComponent,controllerAs:"c",require:["ersRadioGroup","ngModel"],scope:{name:"=",disabled:"=?ngDisabled",readonly:"=?ngReadonly",required:"=?ngRequired"},link:function(e,t,n,o){var r=o[0],i=o[1];t.addClass("ers-radio-group"),r.isModelDefined()?r.updateTabIndex():(r.setNgModelController(i),r.componentCreated=!0)}}}angular.module("ers.components.radio-buttons").directive("ersRadioGroup",t)}(t=e.radioButtons||(e.radioButtons={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.shell",["ui.router","ers.components.core","ct.ui.router.extras.sticky","ers.components.state"]).config(["$urlRouterProvider",function(e){angular.module("ers.components.shell").urlRouterProvider=e}]);var ers;!function(e){var t;!function(e){var t;!function(e){angular.module("ers.components.state",[]).provider("ersDynamicStateService",["$stateProvider",function(e){this.$get=["$state",function(t){return{addState:function(t,n){return e.state(t,n),this},addNestedState:function(e,n){var o=t.current.name+"."+e;return this.addState(o,n)}}}]}])}(t=e.state||(e.state={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.shell").directive("ersShell",function(){return{restrict:"E",controller:o,controllerAs:"ctrl",bindToController:!0,templateUrl:"shell/template/shell-template.html",transclude:!0,scope:{onSettings:"&?",onInfo:"&?",onHelp:"&?",onEditProfile:"&?",onLogout:"&?",onContextSelector:"&?",products:"=",currentProduct:"=?",userInfo:"=",currentContext:"=",helpIsVisible:"=?",infoIsVisible:"=?",settingsIsVisible:"=?",title:"@",onProductChange:"&?",onAfterProductChange:"&?"}}});var n=e.components.core.BaseComponent,o=function(e){function t(t,n,o,r,i,s,a){e.call(this,t,n),this.rootScope=r,this.promiseService=i,this.configureProductStates(o,s,a)}return __extends(t,e),t.prototype.isCurrentProduct=function(e){return this._currentProduct&&e===this._currentProduct.code},t.prototype.isStateAlreadyConfigured=function(e){return angular.toJson(this.stateService.get()).indexOf(e)<0},t.prototype.configureProductStates=function(e,t,n){var o=this;if(this.products){
this.openedProducts=[],this.stateService=e,this.shellState=e.current.name,this.shellState=null===this.shellState||angular.isUndefined(this.shellState)||""===this.shellState?"":this.shellState+".";var r=this.$element?this.$element.find(".product-view"):null;this.products.forEach(function(e){var i=o.shellState+e.code;if(o.isStateAlreadyConfigured(i)){var s="productView-"+e.code;if(r){var a="<div ng-class=\"ctrl.isCurrentProduct('"+e.code+"')?'ers-shell-active-product':'ers-shell-hidden-product'\"><ui-view name=\""+s+'"></ui-view></div>',l=t(a)(o.$scope);r.append(l)}var c={};c[s]={templateUrl:e.templateUrl,controller:e.controller,controllerAs:e.controllerAs};var p={url:e.url,data:{product:e},views:c,sticky:e.sticky||!1};n.addState(i,p)}}),this.rootScope.$on("$stateChangeStart",function(e,t){var n=t.data.product;angular.isUndefined(o.nestedState)||null===o.nestedState?0===t.name.indexOf(o.shellState)&&(t.name!==o.shellState+n.code&&(o.nestedState=t),o.currentProduct=n,o.openedProducts.indexOf(n)<0&&o.openedProducts.push(n)):t.views&&t.views.shell||(o.nestedState=null)}),null!=this.currentProduct&&this._onProductChange(this.currentProduct,null)}},t.prototype._onProductChange=function(e,t){var n=this,o=this.promiseService.defer();if(this.onProductChange){var r=this.onProductChange({newProduct:e,oldProduct:this._currentProduct});r?r.then(function(){n._onProductChangeResolved(o,e,t)},function(e){e&&(o.reject(e),n.nestedState=null)}):this._onProductChangeResolved(o,e,t)}else this._onProductChangeResolved(o,e,t);return o.promise},t.prototype._onProductChangeResolved=function(e,t,n){var o=this;e.resolve(),this.stateService&&this.stateService.go(this.shellState+t.code).then(function(){if(!angular.isUndefined(o.nestedState)&&null!==o.nestedState){var e=o.nestedState.name;o.stateService.go(e)["finally"](function(){o.nestedState=null})}}),this.onAfterProductChange&&this.onAfterProductChange({newProduct:t,oldProduct:n})},Object.defineProperty(t.prototype,"currentProduct",{get:function(){return this._currentProduct},set:function(e){this._currentProduct=e},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element","$state","$rootScope","$q","$compile","ersDynamicStateService"],t}(n);t.ShellComponent=o}(n=t.shell||(t.shell={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.shell").directive("ersTopShell",function(){return{restrict:"E",controller:o,controllerAs:"ctrl",bindToController:!0,templateUrl:"shell/template/top-shell-template.html",scope:{onSettings:"&?",onInfo:"&?",onHelp:"&?",onEditProfile:"&?",onLogout:"&?",userInfo:"=",products:"=",onProductChange:"&?",onContextSelector:"&?",currentContext:"=",currentProduct:"=?",helpIsVisible:"=?",infoIsVisible:"=?",settingsIsVisible:"=?",title:"@",onAfterProductChange:"&?"}}});var n=e.components.core.BaseComponent,o=function(e){function t(t,n){e.call(this,t),this.selectedProductIndex=0,this.modalService=n}return __extends(t,e),t.prototype.changeProduct=function(e){var t,n=this;if(e){var o=this._currentProduct;t=this.onProductChange({newProduct:e,oldProduct:o}),t?t.then(function(){n.selectedProductIndex=n.products.indexOf(e),n._currentProduct=e},function(e){e&&n.modalService.informationDialog("Error",e)}):(this.selectedProductIndex=this.products.indexOf(e),this._currentProduct=e)}return t},Object.defineProperty(t.prototype,"currentProduct",{get:function(){return this._currentProduct},set:function(e){this.changeProduct(e)},enumerable:!0,configurable:!0}),t.prototype.isHelpVisible=function(){return void 0===this.helpIsVisible||"true"===this.helpIsVisible},t.prototype.isInfoVisible=function(){return void 0===this.infoIsVisible||"true"===this.infoIsVisible},t.prototype.isSettingsVisible=function(){return void 0===this.settingsIsVisible||"true"===this.settingsIsVisible},t.$inject=["$scope","ersModalService"],t}(n);t.TopShellComponent=o}(n=t.shell||(t.shell={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.tabs||(e.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.tabs",["ers.components.core"]);var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.tabs||(e.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.tabs").directive("ersTabset",function(){return{restrict:"E",transclude:!0,templateUrl:"tabs/template/tabset-template.html",scope:{autoActivateFirstTab:"=?",canClose:"=?",canCloseSingle:"=?",canSort:"=?",delegate:"=?",sort:"@?",ngShow:"="},controller:r,controllerAs:"vm",bindToController:!0,link:function(e,t,n,o){o.link.call(o,e,t,n)}}});var n=e.components.core.event.EVENT,o=e.components.core.BaseComponent,r=function(e){function t(t,o,r,i){var s=this;e.call(this,t,null,null,r),this.initialized=!1,this.menuItemsOfHiddenTabs=[],this.sortableTabsChanged=!1,this.needsLayout=!1,this.autoActivateFirstTab=void 0===this.autoActivateFirstTab?!0:this.autoActivateFirstTab,this.canClose=void 0===this.canClose?!1:this.canClose,this.canCloseSingle=void 0===this.canCloseSingle?!0:this.canCloseSingle,this.canSort=void 0===this.canSort?!1:this.canSort,this.sort&&(this.sortFn=o(this.sort)),this.tabs=[],this.leftHiddenTabs=[],this.rightHiddenTabs=[],this.activeTab=null,this.$timeout(function(){s.initialized=!0,s.layout()}),this.containerEventService=i,this.containerEventService.registerDispatcher(n.RESIZE,t),i.on(n.RESIZE,t,function(){return s.resizeDidOccur()})}return __extends(t,e),Object.defineProperty(t.prototype,"ngShow",{get:function(){return this._ngShow},set:function(e){this._ngShow=e,e&&this.resizeDidOccur()},enumerable:!0,configurable:!0}),t.prototype.resizeDidOccur=function(){var e=this;this.needsLayout=!0,this.$timeout&&this.$timeout(function(){e.needsLayout&&(e.layout(),e.needsLayout=!1,e.containerEventService.dispatch(n.RESIZE,e.$scope))},100)},t.prototype.link=function(t,n,o){var r=this;e.prototype.link.call(this,t,n,o),this.$element=n,n.addClass("ers-tabset"),n.attr("role","navigation"),this.autoActivateFirstTab&&this.tabs&&this.tabs.length>0&&r.$timeout(r.selectFirstTab)},t.prototype.selectFirstTab=function(){!this.activeTab&&this.tabs[0]&&this.setActiveTab(this.tabs[0])},t.prototype.selectTab=function(e){e&&(this.activeTab&&this.activeTab.deactivate(),this.activeTab=e,this.activeTab.active=!0,this.activeTab.activate(),this.layout(),this.delegate&&this.delegate.tabActivated&&this.delegate.tabActivated(this.activeTab))},t.prototype.hide=function(){this.$element.hide()},t.prototype.show=function(){this.$element.show(),this.layout()},t.prototype.layout=function(){this.initialized&&this.$element&&(this.syncTabs(),!this.activeTab&&this.autoActivateFirstTab&&this.selectFirstTab(),this.scrollIntoView(),this.updateHiddenTabs(),this.activeTab&&this.scrollToTab(this.activeTab),this.updateHiddenTabs(),this.canSort&&this.setupSortable())},t.prototype.setupSortable=function(){if(this.sortableTabsChanged){this.tabsElement().sortable()&&this.tabsElement().sortable("destroy");var e,t=this;this.tabsElement().sortable({axis:"x",forcePlaceholderSize:!0,start:function(n,o){e=_.clone(t.tabs)},update:function(n,o){if(t.tabs=_.map(t.tabsElement().find("ers-tab").toArray(),function(e){return angular.element(e).controller("ersTab")}),t.sortFn){var r=n;r.sortOrder=_.map(t.tabs,function(t){return e.indexOf(t)}),t.sortFn(t.$scope.$parent,{$event:r}),t.$scope.$parent.$digest()}t.$timeout(function(){t.layout()})}}),this.sortableTabsChanged=!1}},t.prototype.scrollIntoView=function(){var e=this.tabsElement().find("ers-tab:last");if(e){var n=this.$element.width(),o=(this.tabsElement().position()||{left:0}).left,r=e.width(),i=(e.position()||{left:0}).left,s=this.$element.find(".dropdown-toggle").width(),a=t.FADE_PADDING,l=this.tabsElement().position().left,c=n-o-i-r-a-s;c>0&&this.moveLeft(Math.min(l+c,0))}},t.prototype.scrollToTab=function(e){var n=this.tabs.indexOf(e),o=this.leftHiddenTabs.indexOf(e)>-1,r=this.rightHiddenTabs.indexOf(e)>-1;if(o||r){var i,s=this.$element.width(),a=this.tabsElement().find("ers-tab").eq(n),l=a.width(),c=a.position().left,p=0===n,u=n===this.tabs.length-1,d=p||u?0:t.FADE_PADDING,h=29;r&&(i=s-(c+l+d+h)),o&&(i=-c+d),this.moveLeft(i)}},t.prototype.moveLeft=function(e){var t=this;this.tabsElement().css({left:e}),this.$timeout(function(){t.updateHiddenTabs()},200),this.$timeout(function(){t.updateHiddenTabs()},1300)},t.prototype.syncTabs=function(){var e=this,t=_.clone(this.tabs);this.tabs=_.compact(_.map(this.tabsElement().find("ers-tab:first-of-type, *~ers-tab"),function(e){return angular.element(e).controller("ersTab")})),_.each(this.tabs,function(t){t.active&&(e.activeTab=t)}),this.activeTab&&-1===this.tabs.indexOf(this.activeTab)&&(this.activeTab=null),t!==this.tabs&&(this.sortableTabsChanged=!0)},t.prototype.updateHiddenTabs=function(){var e=this.getHiddenTabIndexes();this.leftHiddenTabs=[],this.rightHiddenTabs=[];var t,n;for(t=0;e[t];t++)this.leftHiddenTabs.push(this.tabs[t]);for(n=e.length-1;e[n];n--)this.rightHiddenTabs.push(this.tabs[n]);this.rightHiddenTabs=this.rightHiddenTabs.reverse(),this.leftHiddenTabs=_.compact(this.leftHiddenTabs),this.rightHiddenTabs=_.compact(this.rightHiddenTabs),this.updateDropdownMenu()},t.prototype.updateDropdownMenu=function(){var e=this;this.menuItemsOfHiddenTabs=[].concat(this.leftHiddenTabs,this.rightHiddenTabs).map(function(t,n){return{label:t.getFormattedHeading(),action:function(n){e.selectTab(t)},separatorBefore:0!==n&&n===e.leftHiddenTabs.length}})},t.prototype.addTab=function(e){this.tabs.push(e),this.sortableTabsChanged=!0,this.layout()},t.prototype.removeTab=function(e){if(!this.delegate||!this.delegate.willRemoveTab||this.delegate.willRemoveTab(e)){var t=this.tabs.indexOf(e),n=this.activeTab===e;t>=0&&t<this.tabs.length&&(this.tabs.splice(t,1),this.$element.find(".tab-content").first().find("> .tab-pane").eq(t).remove(),this.delegate&&this.delegate.tabRemoved&&this.delegate.tabRemoved(e),e.destroy()),n&&this.setActiveTab(this.tabs[t]),this.sortableTabsChanged=!0,this.layout()}},t.prototype.setActiveTab=function(e,t){this.sortableTabsChanged=!0;var n=0,o=this.tabs.indexOf(e);for(angular.isDefined(t)&&t&&(o=(o+1)%this.tabs.length);n<this.tabs.length;){if(null!=this.tabs[o]&&this.tabs[o].isVisible())return void this.selectTab(this.tabs[o]);n++,o=(o+1)%this.tabs.length}this.activeTab=null},t.prototype.getHiddenTabIndexes=function(){var e=this.tabsElement(),t=this.$element.width(),n=e.position().left,o=e.find("li").map(function(){return{width:$(this).width(),left:$(this).position().left}}).get();return o.map(function(e){var o=e.width,r=e.left,i=0>n+r,s=n+r+o>t;return i||s})},t.prototype.tabsElement=function(){return this.$element.find("ul.nav-tabs").first()},t.prototype.dropdownMenuId=function(){var e=null!=this.$element?this.$element.attr("id"):null;return null!=e?"hiddentabs_"+e:""},t.FADE_PADDING=30,t.$inject=["$scope","$parse","$timeout","containerEventService"],t}(o);t.TabsetComponent=r}(n=t.tabs||(t.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController;angular.module("ers.components.tabs").directive("ersTabHeadingTransclude",function(){return{restrict:"A",require:"^ersTab",link:function(e,t,n,o){var r=o;r.addHeadingWatcher(t)}}}),angular.module("ers.components.tabs").directive("ersTabContentTransclude",function(){return{link:function(e,t,n){var o=e.$eval(n.ersTabContentTransclude);o.$trancludeFn(o.getScope().$parent,function(e){angular.forEach(e,function(e){o.isHeadingTab(e)?o.headingElement=e:t.append(e)})})}}}),angular.module("ers.components.tabs").directive("ersTab",function(){return{restrict:"E",transclude:!0,require:["ersTab","^ersTabset"],scope:{active:"=?",heading:"@?",errors:"=?",select:"&?",deselect:"&?",close:"&?",ngShow:"=?"},controller:o,controllerAs:"vm",bindToController:!0,templateUrl:"tabs/template/tab-template.html",link:function(e,t,n,o,r){var i=o[0],s=o[1];i.linkWithTabset.call(i,e,t,n,s,r)}}});var o=function(e){function t(t,n,o){e.call(this,t,n),this.internalActive=!1,this.$timeout=o}return __extends(t,e),t.prototype.link=function(t,n,o){e.prototype.link.call(this,t,n,o),angular.isDefined(this.active)&&(this.internalActive=this.active),this.$element.addClass("ers-tab")},t.prototype.linkWithTabset=function(e,t,n,o,r){var i=this;this.tabset=o,this.link(e,t,n),this.$trancludeFn=r,this.setListeners(),this.$timeout(function(){i.tabset.layout()},0)},t.prototype.setListeners=function(){var e=this;this.$scope.$on("$destroy",function(){e.active&&e.tabset.setActiveTab(e,!0),e.$timeout(function(){e.active||e.tabset.layout()},0,!1)})},t.prototype.addHeadingWatcher=function(e){var t=this;this.$scope.$watch(function(){return t.headingElement},function(n){n&&t.isHeadingTab(n)&&(e.html(""),e.append(n))})},t.prototype.onSelect=function(){this.tabset.selectTab(this)},t.prototype.onClose=function(){this.tabset.removeTab(this)},t.prototype.activate=function(){this.active=!0,this.select&&this.select()},t.prototype.deactivate=function(){this.active=!1,this.deselect&&this.deselect()},t.prototype.destroy=function(){this.close&&this.close(),this.$scope.$destroy(),this.$element.remove()},t.prototype.getScope=function(){return this.$scope},t.prototype.isHeadingTab=function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())},t.prototype.getFormattedHeading=function(){return this.headingElement&&angular.isDefined(this.headingElement)?this.headingElement.innerHTML:this.heading&&this.heading.length>0?this.heading:""},t.prototype.isVisible=function(){return!angular.isDefined(this.ngShow)&&this.$element.is(":visible")||this.ngShow},Object.defineProperty(t.prototype,"ngShow",{get:function(){return this._ngShow},set:function(e){this._ngShow=e,!this._ngShow&&this.internalActive&&this.deactivate(),null!=this.tabset&&this.tabset.activeTab===this&&this.tabset.setActiveTab(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){if(this._active=e,this.internalActive=e,this.tabset)for(var t=0;t<this.tabset.tabs.length;t++)this._active&&this.tabset.tabs[t]._active&&this.heading!==this.tabset.tabs[t].heading&&(this.tabset.tabs[t]._active=!1)},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element","$timeout"],t}(n);t.TabComponent=o}(n=t.tabs||(t.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.tabs||(e.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.tabs||(e.tabs={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.textbox",["ers.components.core","ngMessages"]).directive("ersTextbox",function(){return{restrict:"E",templateUrl:"textbox/template/textbox-template.html",controller:r,controllerAs:"c",bindToController:!0,scope:{name:"@",placeholder:"@",ngModel:"=",readOnly:"=?ngReadonly",ngDisabled:"=?",textAlign:"@?",minLength:"=?ngMinlength",maxLength:"=?ngMaxlength",required:"=?ngRequired",textPattern:"=?ngPattern",password:"="},link:function(e,t,n,o){o.link()}}});var n=e.components.utility.DEFAULT_VALIDATION_RULES,o=e.components.core.InputComponent,r=function(e){function t(t,n,o,r,i,s){e.call(this,t,n,o,r,i,s),n.addClass("ers-textbox")}return __extends(t,e),t.prototype.configureRender=function(){var t=this;e.prototype.configureRender.call(this),this.ngModelController.$render=function(){t.inputComponent.val(t.ngModelController.$viewValue)}},Object.defineProperty(t.prototype,"password",{get:function(){return this._password},set:function(e){this._password=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){this._maxLength=e,angular.isDefined(this.ngModelController)&&(this.ngModelController.$validate(),this.vm.reloadMessage(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=e,angular.isDefined(this.ngModelController)&&(this.ngModelController.$validate(),this.vm.reloadMessage(this))},enumerable:!0,configurable:!0}),t.prototype.validationRules=function(){var t=this,o=[],r=n.MIN_LENGTH(this.minLength);r.validator=function(e){return angular.isUndefined(t.minLength)||angular.isUndefined(e)||null===e||0===e.length||e.length>=t.minLength},o.push(r);var i=n.MAX_LENGTH(this.maxLength);return i.validator=function(e){return angular.isUndefined(t.maxLength)||angular.isUndefined(e)||null===e||e.length<=t.maxLength},o.push(i),e.prototype.validationRules.call(this).concat(o)},t.$inject=["$scope","$element","$attrs","$timeout","validationManager","$exceptionHandler"],t}(o);t.TextboxComponent=r}(n=t.textbox||(t.textbox={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){}(t=e.toolbar||(e.toolbar={}))}(t=e.components||(e.components={}))}(ers||(ers={})),angular.module("ers.components.toolbar",["ers.components.core"]);var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){angular.module("ers.components.toolbar",["ers.components.core"]).directive("ersToolbar",function(){return{restrict:"E",templateUrl:"toolbar/template/toolbar-template.html",transclude:!0,scope:{direction:"@?",spacing:"@?"},bindToController:!0,controller:o,controllerAs:"toolbarController",link:function(e,t,n){var o=t.controller("ersToolbar");o.link(e,t,n)}}});var n=e.components.core.BaseComponent,o=function(e){function t(n,o,r){e.call(this,n,o,r),this.direction=n.direction||t.HZ_DIRECTION,null==n.spacing||n.spacing.length<1?this.spacing=t.SPACING:this.spacing=n.spacing}return __extends(t,e),t.prototype.link=function(t,n,o){e.prototype.link.call(this,t,n,o),this.divContainer=this.$element.find(".toolbar-container"),this.addWatchers()},t.prototype.addWatchers=function(){var e=this;this.$scope.$watch(function(){return e.direction},function(){e.renderUpdate()}),this.$scope.$watch(function(){return e.spacing},function(){e.renderUpdate()})},t.prototype.renderUpdate=function(){var e=this.direction===t.VT_DIRECTION;this.divContainer.toggleClass("toolbar-vt",!e),this.divContainer.toggleClass("toolbar-hz",e),this.$element.find(".ers-toolbar-separator").toggleClass("hz-separator",e),this.$element.find(".ers-toolbar-separator").toggleClass("vt-separator",!e),e?(this.divContainer.children().css("margin-top",this.spacing+"px"),this.divContainer.children().css("margin-left",t.SPACING+"px")):(this.divContainer.children().css("margin-left",this.spacing+"px"),this.divContainer.children().css("margin-top",t.SPACING+"px"))},t.VT_DIRECTION="vertical",t.HZ_DIRECTION="horizontal",t.SPACING="5",t.$inject=["$scope","$element","$attrs"],t}(n);t.ToolbarComponent=o}(n=t.toolbar||(t.toolbar={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){return{restrict:"E",template:"<div class='ers-toolbar-separator'></div>",require:"^ersToolbar"}};angular.module("ers.components.toolbar").directive("ersToolbarSeparator",t)}(t=e.toolbar||(e.toolbar={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._module=angular.module("ers.components.tooltip",["ers.components.popover"])}(t=e.tooltip||(e.tooltip={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e.CONSTANTS={DATA_FORMAT:"tree-item-data",TREE_ITEM_MIDDLE_RANGE:12,DRAG_OVER_CLASS:"drag-over",DRAGGING_SOURCE_CLASS:"dragging-source",DROP_EFFECT_ALLOWED:"move",DRAG_INDICATOR_TEMPLATE:"<li class='drag-indicator'></li>"}}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){e._module=angular.module("ers.components.tree",["ngSanitize","ers.components.label"])}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.item=e,this.context=t}return Object.defineProperty(e.prototype,"separatorBefore",{get:function(){return this.item.separatorBefore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return angular.isUndefined(this.item.enabled)?!0:angular.isFunction(this.item.enabled)?this.item.enabled(this.context):this.item.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return angular.isUndefined(this.item.visible)?!0:angular.isFunction(this.item.visible)?this.item.visible(this.context):this.item.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return angular.isFunction(this.item.label)?this.item.label(this.context):this.item.label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return angular.isFunction(this.item.icon)?this.item.icon(this.context):this.item.icon},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){return this.enabled?void this.item.action(this.context,e):(e.preventDefault(),void e.stopPropagation())},Object.defineProperty(e.prototype,"children",{get:function(){var t=this;return _.isEmpty(this.item.children)||this._children||(this._children=this.item.children.map(function(n){return new e(n,t.context)})),this._children},enumerable:!0,configurable:!0}),e}();e.BindMenuItem=t}(t=e.contextmenu||(e.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=function(){function e(e){this.cm=e}return e.prototype.onKeyDown=function(e){switch(e.keyCode){case n.ESCAPE:e.stopPropagation(),e.preventDefault(),this.cm.hide();break;case n.LEFT_ARROW:case n.UP_ARROW:event.preventDefault(),event.stopPropagation(),this.moveFocus(-1);break;case n.RIGHT_ARROW:case n.DOWN_ARROW:event.preventDefault(),event.stopPropagation(),this.moveFocus(1)}},e.prototype.moveFocus=function(e){var t=this.cm.element(),n=t.find("a:focus"),o=t.find(":focusable").not("[tabindex='-1']");if(0===n.length)return(e>0?o.first():o.last()).focus();var r=(o.index(n)+e+o.length)%o.length;return o.eq(r).focus()},e}();t.KeyBoardHelper=o}(n=t.contextmenu||(t.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.TriggerBindUtil,o=function(){function e(t,n,o,r){var i=this;this._trigger="contextmenu",this._showExclusively=!0,this.triggerEventHandler={onTrigger:function(e){e.stopPropagation(),e.preventDefault(),i.show(e.pageX,e.pageY)},toggle:function(e){e.stopPropagation(),e.preventDefault(),i.isShown()?i.hide():i.show(e.pageX,e.pageY)}},this.onBodyClick=function(e){e.isDefaultPrevented()||i.hide()},this._menuItems=t,this._template=n,this.$compile=o,this.placementService=r,e.instances.push(this)}return e.prototype.bindTo=function(e){return this._host&&n.unBind(this._host,this._trigger,this.triggerEventHandler),this._host=e,this._host&&n.bind(this._host,this._trigger,this.triggerEventHandler),this},e.prototype.triggeredBy=function(e){return e&&this._trigger!==e?(this._trigger=e,this.bindTo(this._host),this):this},Object.defineProperty(e.prototype,"exclusively",{get:function(){return this._showExclusively},enumerable:!0,configurable:!0}),e.prototype.setExclusively=function(e){return this._showExclusively=e,this},e.prototype.appendTo=function(e){return this._container=e,this},e.prototype.host=function(){return this._host},e.prototype.menuItems=function(){return this._menuItems},e.prototype.show=function(e,t){var n=this;return this._element?(this._showExclusively?this.clearExists():this.clearExists(!1),this._element.show(),this.setPosition(e,t),this.toggleBodyClickHandler(!0),void this.addEventHandlers()):void(angular.isString(this._template)?(this._element=this.render(this._template),this._scope.$digest(),this.show(e,t)):this._template.then(function(o){n._template=o,n.show(e,t)}))},e.prototype.hide=function(){this.toggleBodyClickHandler(!1),this.removeEventHandlers(),this._element&&this._element.hide()},e.prototype.element=function(){return this._element},e.prototype.destroy=function(){this.toggleBodyClickHandler(!1),this._element&&(this._element.scope().$destroy(),this._element.remove(),this._element=null),this._host&&(n.unBind(this._host,this._trigger,this.triggerEventHandler),this._host=null),this._menuItems=null;var t=e.instances.indexOf(this);e.instances.splice(t,1)},e.prototype.setPosition=function(e,t){var n={left:e,top:t};this.placementService.applyPlacement(this._element,n,"auto bottom-left",this.getContainer())},e.prototype.getContext=function(){return this.host().scope()},e.prototype.render=function(e){var t=this,n=this.getContainer();this._scope=this.createScope();var o=this.$compile(e)(this._scope);return o.on("click contextmenu",function(e){t.hide()}).appendTo(n),o},e.prototype.getContainer=function(){return"self"===this._container?this._host:angular.element(this._container||"body")},e.prototype.createScope=function(){var e=this.getContext(),n=e.$new(!0);n.menuItems=this._menuItems.map(function(n){return new t.BindMenuItem(n,e)});var o=new t.KeyBoardHelper(this);n.onKeyDown=angular.bind(o,o.onKeyDown);var r=this._host?this._host.prop("id"):void 0,i=r?"ctx_menu_"+r:void 0;return n.id=i,n.menu=this,n},e.prototype.toggleBodyClickHandler=function(e){var t="mousedown contextmenu";e?angular.element("body").on(t,this.onBodyClick):angular.element("body").off(t,this.onBodyClick)},e.prototype.isShown=function(){return this._element&&this._element.is(":visible")},Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},set:function(e){this._parentMenu=e},enumerable:!0,configurable:!0}),e.prototype.clearExists=function(t){var n=this;void 0===t&&(t=!0),e.instances.forEach(function(e){e!==n&&!n.isParentMenu(e)&&e.isShown()&&(t||!t&&e.exclusively)&&e.hide()})},e.prototype.isParentMenu=function(e){for(var t=this.parentMenu;null!=t;){if(e===t)return!0;t=t.parentMenu}return!1},e.prototype.addEventHandlers=function(){this._element&&this._element.on("mousedown",this.onContextMenuMouseDown)},e.prototype.removeEventHandlers=function(){this._element&&this._element.off("mousedown",this.onContextMenuMouseDown)},e.prototype.onContextMenuMouseDown=function(e){e.stopImmediatePropagation()},e.instances=[],e}();t.ContextMenu=o}(n=t.contextmenu||(t.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments),this.placement="auto bottom-left"}return __extends(t,e),t.prototype.withPlacement=function(e){return this.placement=e||"auto bottom-left",this},t.prototype.setPosition=function(e,t){this.placementService.applyPlacement(this.element(),this.host(),this.placement,this.getContainer())},t.prototype.getContext=function(){return this.host().scope().$parent},t}(e.ContextMenu);e.AnchoredContextMenu=t}(t=e.contextmenu||(e.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){function n(e){return{restrict:"A",controller:r,bindToController:!0,link:function(t,n,o,r){var i=t.$eval(o.ersContextMenu);if(i){if(!angular.isArray(i))throw"The attribute value set in ers-context-menu is not an array:"+o.ersContextMenu;var s=e.createContextMenu(i).bindTo(n);r&&(r.contextMenu=s),t.$on("$destroy",function(){s.destroy(),s=null})}}}}var o=e.components.core.DecoratorComponent;t._module.directive("ersContextMenu",["contextMenuService",n]);var r=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),Object.defineProperty(t.prototype,"contextMenu",{get:function(){return this._contextMenu},set:function(e){this._contextMenu=e},enumerable:!0,configurable:!0}),t.$inject=["$scope","$element"],t}(o);t.ContextMenuComponent=r}(n=t.contextmenu||(t.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t="contextmenu/template/contextmenu.tpl.html",n=function(){function n(e,n,o){this.$compile=e,this.placementService=o,this._template=n.fetchTemplate(t)}return n.prototype.createContextMenu=function(t){return new e.ContextMenu(t,this._template,this.$compile,this.placementService)},n.prototype.createAnchoredContextMenu=function(t){return new e.AnchoredContextMenu(t,this._template,this.$compile,this.placementService)},n.$inject=["$compile","templateHelper","placementService"],n}();e._module.service("contextMenuService",n)}(t=e.contextmenu||(e.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(e,t){return{restrict:"EA",scope:{icon:"@?",label:"@",placement:"@?",trigger:"@?",container:"@?",exclusively:"=?",menuItems:"="},templateUrl:"contextmenu/template/linkmenu.tpl.html",replace:!0,link:function(n,o,r){function i(){var e=t.toPlacementObject(c);switch(e.side){case"bottom":return"down";case"top":return"up";default:return e.side}}var s,a=void 0!==n.exclusively?n.exclusively:!0,l=n.trigger||"mousedown",c=n.placement||"bottom-left";n.direction=i(),n.$watch("menuItems",function(t){if(s&&s.destroy(),t){if(!angular.isArray(t))throw"The attribute value set in menu-items is not an array:"+r.menuItems;s=e.createAnchoredContextMenu(t).withPlacement(c).triggeredBy(l).bindTo(o).setExclusively(a).appendTo(n.container);var i=n.$parent;i&&(s.parentMenu=i.menu)}}),n.$on("$destroy",function(){s&&(s.destroy(),s=null)})}}}e._module.directive("ersLinkMenu",["contextMenuService","placementService",t])}(t=e.contextmenu||(e.contextmenu={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.renderer=function(e){return document.createElement("")},e}();e.EditableRenderer=t}(t=e.renderer||(e.renderer={}))}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.TriggerBindUtil,o=/ng-bind=/gi,r=function(){function e(e,t,n,o,r,i,s,a){
var l=this;this.triggerByClick=!1,this.builded=!1,this.isHiding=!1,this.isShowing=!1,this.isShown=!1,this.hoverShown=!1,this.hostOriginallyActive=!1,this.onTrigger=function(){return l.timeoutService.cancel(l.timeout),l.hoverState="in",l.options.showDelay?void(l.timeout=l.timeoutService(function(){"in"===l.hoverState&&l.show()},l.options.showDelay)):void l.show()},this.onUntrigger=function(e){l.timeoutService.cancel(l.timeout),l.hoverState="out";var t=l.options.hideDelay||0;e&&"mouseleave"===e.type&&(l.isShowing=!1,t=t||10),l.timeout=l.timeoutService(function(){"out"===l.hoverState&&l.hide()},t)},this.toggle=function(){l.isShown?l.onUntrigger():l.onTrigger()},this.onKeyUp=function(e){27===e.which&&l.hide()},this.onFocusKeyUp=function(e){27===e.which&&l.$host.blur()},this.onBodyClick=function(e){return e.isDefaultPrevented()?!1:e.target===l.$host[0]?!1:l.$host.has(e.target).length>0?!1:void l.onUntrigger()},this.rootScopeService=n,this.compileService=o,this.qService=r,this.timeoutService=i,this.templateHelper=s,this.placementService=a,this.$host=e,this.options=t,this.init()}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e},enumerable:!0,configurable:!0}),e.prototype.host=function(){return this.$host},e.prototype.destroy=function(){this.timeoutService.cancel(this.timeout),angular.element("body").off("click",this.onBodyClick),this.$host&&this.options.trigger&&n.unBind(this.$host,this.options.trigger,this),this.target&&(this.target.off(),this.target.remove(),this.target=null),this.options.$scope||this.$scope.$destroy()},e.prototype.show=function(e){var t=this;return this.options.lazyLoad&&!this.builded?void this.build().then(function(){t.show(e)}):void(this.isShown||this.isShowing||this.isHiding||(this.options.clearExists&&this.clearExists(),this.isShowing=!0,this.target&&(this.target.removeClass(this.options.placement),this.target.removeClass("with-arrow")),this.timeoutService(function(){t.$scope.$parent&&t.applyPlacement()},0),this.complateShow(e),this.updateTheme(),this.updateArrow(),this.isShowing=!1,this.isShown=this.$scope.isShown=!0))},e.prototype.hide=function(e){this.target&&this.isShown&&!this.isShowing&&!this.isHiding&&(this.isHiding=!0,this.target.hide(),this.isShown=this.$scope.isShown=!1,this.complateHide(e),this.isHiding=!1)},e.prototype.focus=function(){this.target&&this.target.focus()},e.prototype.scope=function(){return this.$scope},e.prototype.init=function(){if(this.createScope(),this.triggerByClick="click"===this.options.trigger,this.$host&&angular.isDefined(this.$host)&&this.options.trigger){var e=this.$host[0].hasOwnProperty("getErsComponent")?this.$host[0].getErsComponent().getTooltipDelegate(this.options.trigger):this.$host;n.unBind(e,this.options.trigger,this),n.bind(e,this.options.trigger,this)}this.options.lazyLoad&&"false"!==this.options.lazyLoad.toString()||this.build()},e.prototype.updateTheme=function(){if(this.options.theme&&this.target){var e=this.options.instanceName+"-"+this.options.theme;this.target.addClass(e)}},e.prototype.updateArrow=function(){var e="true"===this.options.showArrow.toString()||this.options.showArrow===!0;e&&this.target&&this.target.addClass("with-arrow")},e.prototype.createScope=function(){this.$scope=this.options.$scope||this.rootScopeService.$new();var e=this.options.defaultTemplate?this.$scope:this.$scope.$parent;e.$$ersHide$$=angular.bind(this,this.hide),e.$$ersId$$=this.options.id},e.prototype.build=function(){var e=this;return this.resovleTemplate().then(function(t){e.$container=e.resovleContainer(),e.linker=e.createLinker(t),e.target=e.options.targetElement||e.compileService(e.linker)(e.options.defaultTemplate?e.$scope:e.$scope.$parent),e.target.addClass(e.options.typeClass),void 0===e.target.attr("id")&&e.target.attr("id",e.scope().$$ersId$$),e.target.hide().appendTo(e.$container),e.builded=!0,e.target.data("$scope")||e.target.data("$scope",e.$scope)})},e.prototype.resovleTemplate=function(){return angular.isElement(this.options.template)?this.qService.when(this.options.template):this.options.template.indexOf(".html")>-1?this.qService.when(this.templateHelper.fetchTemplate(this.options.template)):this.qService.when(angular.element(this.options.template))},e.prototype.resovleContainer=function(){if("self"===this.options.container)return this.$host;this.options.container=this.options.container||"body";var e=angular.element(this.options.container);return e},e.prototype.createLinker=function(e){return angular.isElement(e)?e:this.options.html?e.replace(o,"ng-bind-html="):e},e.prototype.clearExists=function(){var e=angular.element("."+this.options.typeClass+":visible",angular.element("body"));angular.forEach(e,function(e){var t=angular.element(e).scope();t&&t.$id!==this.$scope.$id&&t.$$ersHide$$()},this)},e.prototype.applyPlacement=function(){this.target.css({display:"block",top:"",left:""}),this.placementService.applyPlacement(this.target,this.$host,this.options.placement,this.options.container),this.target.css({position:""})},e.prototype.complateHide=function(e){this.hoverShown=!1,this.options.keyboard&&(angular.element(document).off("keyup"),angular.element(document).off("keyup")),this.options.blur&&"focus"===this.options.trigger&&this.$host.blur(),this.hostOriginallyActive||this.$host.removeClass("active"),this.options.clearExists&&this.triggerByClick&&angular.element("body").off("click",this.onBodyClick),e&&e.call(this),this.target.css({top:"",left:""}).removeClass(this.options.placement),this.isHiding=!1},e.prototype.complateShow=function(e){this.hoverShown=!0,this.options.keyboard&&("focus"!==this.options.trigger?angular.element(document).on("keyup",this.onKeyUp):angular.element(document).on("keyup",this.onFocusKeyUp)),this.hostOriginallyActive=this.$host.hasClass("active"),this.$host.addClass("active"),this.options.clearExists&&this.triggerByClick&&angular.element("body").on("click",this.onBodyClick),e&&e.call(this)},e}();t.PopInstance=r}(n=t.popover||(t.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(t,o,r,i,s,a){return{pop:function(l,c){var p=angular.extend({},n,c);return new e.PopInstance(l,p,t,o,r,i,s,a)}}}var n={trigger:"click",typeClass:"pop",placement:"auto left",clearExists:!0,lazyLoad:!0};e.PopManagerFactory=t,t.$inject=["$rootScope","$compile","$q","$timeout","templateHelper","placementService"],e._module.factory("popManager",t)}(t=e.popover||(e.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){function n(e){return e.target?angular.element(e.target):null}function o(e,t,o,r){var p=a.parseOptions(t,"po-");p=angular.extend({},l,r,p,o),p.targetElement=p.targetElement||n(p),p.defaultTemplate=l.template===p.template;var u=s.pop(e,p),d=u.scope();return c.forEach(function(e){d[e]=p[e]}),a.bindAttrToScope(t,d,c,"po-",i.trustAsHtml),u}function r(e,t){return i=e,s=t,{createPopover:function(e,t,n,r){return o(e,t,n,r)}}}var i,s,a=e.components.popover.popoverUtils,l={template:"popover/template/popover.tpl.html",trigger:"click",showArrow:!0,container:"body",instanceName:"popover",typeClass:"ers-popover"},c=["title","content"];t.PopoverServiceFactory=r,r.$inject=["$sce","popManager"],t._module.factory("popoverService",r)}(n=t.popover||(t.popover={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(e){return{restrict:"A",link:function(t,n,o){var r={};r.id=o.id?"tt-"+o.id:void 0;var i=e.createTooltip(n,o,null,r);t.$on("$destroy",function(){i.destroy()})}}}e.TooltipDirectiveFactory=t,t.$inject=["tooltipService"],e._module.directive("ersTooltip",t)}(t=e.tooltip||(e.tooltip={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){function n(e){return e.target?angular.element(e.target):null}function o(e,t,o,r){var p=a.parseOptions(t,"tt-");p=angular.extend({},l,r,p,o),p.targetElement=n(p);var u=s.pop(e,p),d=u.scope();return c.forEach(function(e){d[e]=p[e]}),a.bindAttrToScope(t,d,c,"tt-",i.trustAsHtml),a.bindAttrToScope(t,d,["tooltip"],"ers-",i.trustAsHtml),u}function r(e,t){return i=e,s=t,{createTooltip:function(e,t,n,r){return o(e,t,n,r)}}}var i,s,a=e.components.popover.popoverUtils,l={template:"tooltip/template/tooltip.tpl.html",trigger:"hover",showDelay:500,showArrow:!0,container:"body",instanceName:"tooltip",typeClass:"ers-tooltip",defaultTemplate:!0},c=["title"];t.TooltipServiceFactory=r,r.$inject=["$sce","popManager"],t._module.factory("tooltipService",r)}(n=t.tooltip||(t.tooltip={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.errorTips=[],this.tooltipService=e}return e.prototype.render=function(e,t,n){var o=n(),r=t?"tterror-"+t:void 0,i=this.errorTipFor(e)||this.createErrorTip(e,r);i.scope().title=o.join("\n")},e.prototype.clear=function(e){var t=this.removeErrorTip(e);t&&t.destroy()},e.prototype.createErrorTip=function(e,t){var n=this.tooltipService.createTooltip(e,null,{trigger:"hover focus keyup",placement:"auto bottom",theme:"error",id:t});return this.errorTips.push(n),n},e.prototype.removeErrorTip=function(e){for(var t=null,n=0;n<this.errorTips.length;n++)if(this.errorTips[n].host().is(e)){t=this.errorTips[n],this.errorTips.splice(n,1);break}return t},e.prototype.errorTipFor=function(e){for(var t=0;t<this.errorTips.length;t++)if(this.errorTips[t].host().is(e))return this.errorTips[t];return null},e.serviceName="tooltipValidationErrorRenderer",e.$inject=["tooltipService"],e}();e._module.service(t.serviceName,t).config(["validationManagerProvider",function(e){e.setErrorRendererName(t.serviceName)}])}(t=e.tooltip||(e.tooltip={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.onDragStart=function(e){throw"This method should be implemented!"},this.onDragEnd=function(e){throw"This method should be implemented!"}}return e.prototype.bind=function(e){return this.unbind(),this.element=e.on("dragstart",this.onDragStart).on("dragend",this.onDragEnd),this},e.prototype.unbind=function(){return this.element&&(this.element.off("dragstart",this.onDragStart).off("dragend",this.onDragEnd),this.element=null),this},e.prototype.setData=function(e){this.data=e},e}();e.DnDSource=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.onDragOver=function(e){throw"This method should be implemented!"},this.onDragLeave=function(e){throw"This method should be implemented!"},this.onDrop=function(e){throw"This method should be implemented!"}}return e.prototype.bind=function(e){return this.unbind(),this.element=e.on("dragover",this.onDragOver).on("dragleave",this.onDragLeave).on("drop",this.onDrop),this},e.prototype.unbind=function(){return this.element&&(this.element.off("dragover").off("dragleave").off("drop"),this.element=null),this},e.prototype.setData=function(e){this.data=e},e.prototype.middleOfTarget=function(e){var t=e.outerHeight(),n=e.offset().top;return n+t/2},e}();e.DnDTarget=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var n=this;t.apply(this,arguments),this.onDragStart=function(t){var o=t.originalEvent;o.stopPropagation(),o.dataTransfer.effectAllowed=e.CONSTANTS.DROP_EFFECT_ALLOWED,o.dataTransfer.setData(e.CONSTANTS.DATA_FORMAT,angular.toJson(n.data.data)),setTimeout(function(){n.element.addClass(e.CONSTANTS.DRAGGING_SOURCE_CLASS)})},this.onDragEnd=function(t){var o=t.originalEvent;o.stopPropagation(),n.element.removeClass(e.CONSTANTS.DRAGGING_SOURCE_CLASS),o.dataTransfer.dropEffect===e.CONSTANTS.DROP_EFFECT_ALLOWED&&n.data.parent.removeChild(n.data.data)}}return __extends(n,t),n}(e.DnDSource);e.DnDTreeItemSource=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var n=this;t.apply(this,arguments),this.onDragOver=function(t){return n.isInTheMiddle(t.originalEvent,n.element)&&n.element.addClass(e.CONSTANTS.DRAG_OVER_CLASS),!0},this.onDragLeave=function(t){return n.element.removeClass(e.CONSTANTS.DRAG_OVER_CLASS),!0},this.onDrop=function(t){return n.element.hasClass(e.CONSTANTS.DRAG_OVER_CLASS)?(t.preventDefault(),t.stopPropagation(),n.element.removeClass(e.CONSTANTS.DRAG_OVER_CLASS),n.updateTargetData(t.originalEvent),!1):!0}}return __extends(n,t),n.prototype.updateTargetData=function(t){var n=this,o=t.dataTransfer.getData(e.CONSTANTS.DATA_FORMAT),r=angular.fromJson(o);setTimeout(function(){var e=n.element.scope();e.$apply(function(){n.data.addChild(r)})})},n.prototype.isInTheMiddle=function(t,n){var o=t.pageY,r=this.middleOfTarget(n),i=e.CONSTANTS.TREE_ITEM_MIDDLE_RANGE/2;return _.inRange(o,r-i,r+i)},n}(e.DnDTarget);e.DnDTreeItemTarget=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var n=this;t.apply(this,arguments),this.onDragOver=function(t){t.preventDefault(),t.stopPropagation(),n.element.addClass(e.CONSTANTS.DRAG_OVER_CLASS);var o=n.getIndicator()||$(e.CONSTANTS.DRAG_INDICATOR_TEMPLATE);if(0===n.element.children().length)return o.appendTo(n.element),!1;var r=n.getTargetTreeItem(t);return!r.parent().is(n.element)||r.is(o)?!1:(n.placeIndicator(o,r,t.originalEvent)||n.removeIndicator(),!1)},this.onDragLeave=function(t){var o=$(t.target);o.parent().is(n.element)&&(n.element.removeClass(e.CONSTANTS.DRAG_OVER_CLASS),setTimeout(function(){n.element.hasClass(e.CONSTANTS.DRAG_OVER_CLASS)||n.removeIndicator()},100))},this.onDrop=function(t){return t.preventDefault(),t.stopPropagation(),n.element.removeClass(e.CONSTANTS.DRAG_OVER_CLASS),n.updateTargetData(t.originalEvent),n.removeIndicator(),!1}}return __extends(n,t),n.prototype.getTargetTreeItem=function(e){for(var t=$(e.target);t.parent().length&&!t.parent().is(this.element);)t=t.parent();return t},n.prototype.placeIndicator=function(e,t,n){return this.isOverUpperHalf(n.pageY,t)?(e.insertBefore(t),!0):this.isOverLowerHalf(n.pageY,t)?(e.insertAfter(t),!0):!1},n.prototype.updateTargetData=function(t){var n=this,o=this.getDropIndex();if(!(0>o)){var r=t.dataTransfer.getData(e.CONSTANTS.DATA_FORMAT),i=angular.fromJson(r);setTimeout(function(){var e=n.element.scope();e.$apply(function(){n.data.addChildAt(i,o)})})}},n.prototype.getDropIndex=function(){var e=this.getIndicator();return e?this.element.children(":visible").index(e):-1},n.prototype.getIndicator=function(){var e=this.element.find("li.drag-indicator");return e.length>0?e:null},n.prototype.removeIndicator=function(){var e=this.getIndicator();e&&e.remove()},n.prototype.isOverUpperHalf=function(t,n){var o=this.middleOfTarget(n);return t<o-e.CONSTANTS.TREE_ITEM_MIDDLE_RANGE/2},n.prototype.isOverLowerHalf=function(t,n){var o=this.middleOfTarget(n);return t>o+e.CONSTANTS.TREE_ITEM_MIDDLE_RANGE/2},n}(e.DnDTarget);e.DnDTreeItemsTarget=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.utility.KEY,o=function(){function e(e){var t=this;this.onKeyDown=function(e){switch(e.keyCode){case n.ENTER:case n.SPACE_BAR:e.preventDefault(),e.stopPropagation(),t.selectFocused();break;case n.LEFT_ARROW:e.preventDefault(),e.stopPropagation(),t.collapseFocused();break;case n.RIGHT_ARROW:e.preventDefault(),e.stopPropagation(),t.expandFocused();break;case n.UP_ARROW:e.preventDefault(),e.stopPropagation(),t.moveFocus(-1);break;case n.DOWN_ARROW:e.preventDefault(),e.stopPropagation(),t.moveFocus(1);break;case n.TAB:e.preventDefault(),e.stopPropagation(),t.moveFocus(e.shiftKey?-1:1)}},this.tree=e}return e.prototype.moveFocus=function(e){var t=this.getFocused(),n=this.getFocusables();if(0===t.length)return(e>0?n.first():n.last()).focus();var o=(n.index(t)+e+n.length)%n.length;return n.eq(o).focus()},e.prototype.getFocusedItem=function(){var e=this.getFocused(),t=e.scope();return t?t.item:null},e.prototype.selectFocused=function(){var e=this.getFocusedItem();e&&this.tree.onItemClick(e)},e.prototype.expandFocused=function(){var e=this.getFocusedItem();e&&this.tree.expandItem(e)},e.prototype.collapseFocused=function(){var e=this.getFocusedItem();e&&this.tree.collapseItem(e)},e.prototype.getFocused=function(){var e=this.tree.element();return e.find("a:focus")},e.prototype.getFocusables=function(){var e=this.tree.element();return e.find("a:focusable").not("[tabindex='-1']")},e}();t.KeyBoardHelper=o}(n=t.tree||(t.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(t,n,o){var r=this;this.collapsed=!0,this.selected=!1,this._loaded=!1,this._loading=!1,this._expand=function(){return r._loaderDeferred.promise.then(function(e){return r._loaded?void 0:(r._loading=!0,e.loadChildren(r._data).then(function(e){r.data=e,r._loaded=!0,r._loading=!1}))}).then(function(){r.collapsed=!1})},this._data=t,this._descriptor=n,this._parent=o,this._loaderDeferred=e.$q.defer()}return e.prototype.setLoader=function(e){this._loaderDeferred.resolve(e)},Object.defineProperty(e.prototype,"loaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this._children=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._data[this._descriptor.labelField]},set:function(e){this._data[this._descriptor.labelField]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._data[this._descriptor.iconField]||"file-o"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this;return this._children||(this._children=this.childrenData.map(function(n){return new e(n,t._descriptor,t)})),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLeaf",{get:function(){return!this.children||0===this.children.length},enumerable:!0,configurable:!0}),e.prototype.expand=function(e){return e&&(e.preventDefault(),e.stopPropagation()),this.parent?this.parent.expand().then(this._expand):this._expand()},e.prototype.collapse=function(e){e&&(e.preventDefault(),e.stopPropagation()),this.collapsed=!0},e.prototype.unselectAll=function(){this.selected=!1,this.children.forEach(function(e){e.unselectAll()})},e.prototype.expandAll=function(){var t=this;return this.expand().then(function(){var n=t.children.map(function(e){return e.expandAll()});return e.$q.all(n)})},e.prototype.collapseAll=function(){this.collapse(),this.children.forEach(function(e){e.collapseAll()})},e.prototype.find=function(e){if(this._data===e)return this;for(var t=0;t<this.children.length;t++){var n=this.children[t].find(e);if(n)return n}return null},e.prototype.addChild=function(e){this.childrenData.push(e),this._children=null},e.prototype.addChildAt=function(e,t){this.childrenData.splice(t,0,e),this._children=null},e.prototype.removeChild=function(e){var t=this.childrenData.indexOf(e);return t>-1?this.removeChildAt(t):null},e.prototype.removeChildAt=function(e){if(e>-1&&e<this.childrenData.length){var t=this.childrenData.splice(e,1)[0];return this._children=null,t}return null},e.prototype["delete"]=function(){this.parent.removeChild(this.data)},Object.defineProperty(e.prototype,"childrenData",{get:function(){var e=this._data[this._descriptor.childrenField]||[];if(!_.isArray(e))throw _.template("expect field ${_descriptor.childrenField} of data ${_data} to be an array, but is "+e)(this);return e},enumerable:!0,configurable:!0}),e}();e.TreeItem=t}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){var n=e.components.core.BaseController,o=function(e){function n(n,o){var r=this;e.call(this,n,o),this._selectedItems=[],this.keyBoardHelper=new t.KeyBoardHelper(this),this.onKeyDown=function(e){r.keyBoardHelper.onKeyDown(e)},this.isRoot&&this.treeId&&(n.$parent.$parent[this.treeId]=this,o.keydown(this.onKeyDown)),n.$on("$destroy",function(){r.destroy()})}return __extends(n,e),n.prototype.destroy=function(){this.$element.off().remove(),this.parent=null,this._selectedItem=null,this._selectedItems=null,this.parentItem=null,this.$element.off().remove()},n.prototype.element=function(){return this.$element},n.prototype.selectItem=function(e){this.multipleSelection||this.unselectAll(),e&&(this._selectedItem=e instanceof t.TreeItem?e:this.find(e),this._selectedItem&&(this._selectedItem.selected=!0,this._selectedItems.push(this._selectedItem)))},n.prototype.unselectItem=function(e){var n=e instanceof t.TreeItem?e:this.find(e),o=this._selectedItems.indexOf(n);o>-1&&this._selectedItems.splice(o,1),this._selectedItem===n&&(this._selectedItem=null),n.selected=!1},n.prototype.onItemClick=function(e){return this.parent?this.parent.onItemClick(e):this.multipleSelection&&e.selected?this.unselectItem(e):this.selectItem(e)},Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._selectedItem?this._selectedItem.data:null},set:function(e){this.selectItem(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItems",{get:function(){return this._selectedItems.map(function(e){return e.data})},enumerable:!0,configurable:!0}),n.prototype.expandItem=function(e){var n=e instanceof t.TreeItem?e:this.find(e);n&&n.expand()},n.prototype.collapseItem=function(e){var n=e instanceof t.TreeItem?e:this.find(e);n&&n.collapse()},n.prototype.expandAll=function(){this.forEachItem("expandAll")},n.prototype.collapseAll=function(){this.forEachItem("collapseAll")},n.prototype.unselectAll=function(){this._selectedItems=[],this.forEachItem("unselectAll")},n.prototype.forEachItem=function(e){if(this.parentItem){var t=this.parentItem.children||[];t.forEach(function(t){t[e]()})}},Object.defineProperty(n.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return 0===this.level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"treeDraggable",{get:function(){return this._treeDraggable},set:function(e){this._treeDraggable=e},enumerable:!0,configurable:!0}),n.prototype.find=function(e){if(!this.parentItem)return null;for(var t=this.parentItem.children||[],n=0;n<t.length;n++){var o=t[n].find(e);if(o)return o}return null},n.$inject=["$scope","$element"],n}(n);t.TreeController=o,t._module.controller("treeController",o)}(n=t.tree||(t.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ers;!function(e){var t;!function(t){var n;!function(t){function n(e,n,o){t.TreeItem.$q=t.TreeItem.$q||n;var s={loadChildren:function(e){return n.when(e)}};return{restrict:"E",replace:!0,transclude:!0,templateUrl:"tree/template/tree.tpl.html",controller:i,scope:{treeData:"=",collapseIcon:"@?",expandIcon:"@?",treeId:"@?",multipleSelection:"=?",selectedItem:"=?",treeDraggable:"=?"},link:function(n,i,a){n.$watch("treeData",function(e){if(!angular.isArray(e))return void o.error("Expect tree-data value of ers-tree directive be an array but is",e);var i={labelField:a.labelField||r.LABEL_FIELD,iconField:a.iconField||r.ICON_FIELD,childrenField:a.childrenField||r.CHILDREN_FIELD},l={};l[i.childrenField]=e;var c=new t.TreeItem(l,i,null);c.setLoader(s),n.root=c}),a.itemRenderer&&(n.itemRenderer=e.get(a.itemRenderer)),a.itemLoader&&(n.itemLoader=e.get(a.itemLoader)),n.collapseIcon=n.collapseIcon||r.EXPAND_ICON,n.expandIcon=n.expandIcon||r.COLLAPSE_ICON,n.treeDraggable=n.treeDraggable||r.DRAGGABLE}}}var o=e.components.core.BaseComponent,r={EXPAND_ICON:"plus-square-o",COLLAPSE_ICON:"minus-square",LABEL_FIELD:"label",ICON_FIELD:"icon",CHILDREN_FIELD:"children",DRAGGABLE:!1};t._module.directive("ersTree",["$injector","$q","$log",n]);var i=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.$inject=["$scope","$element"],t}(o);t.TreeComponent=i}(n=t.tree||(t.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(t,n){var o=(new e.DnDTreeItemSource).bind(n),r=(new e.DnDTreeItemTarget).bind(n);t.$watch("item",function(e){o.setData(e),r.setData(e)}),t.$on("$destroy",function(){o.unbind(),r.unbind()})}function n(e,n){return{restrict:"E",replace:!0,require:"^^ersTreeItems",templateUrl:"tree/template/treeitem.tpl.html",scope:{item:"=",itemRenderer:"=?",itemLoader:"=?",expandIcon:"=",collapseIcon:"=",level:"="},link:function(o,i,s,a){var l=o.item;o.parent=a,o.onItemClick=function(){a.onItemClick(l)},l.setLoader(new r(e,n,o,i)),o.treeController=a,a.treeDraggable&&t(o,i)}}}var o="<ers-tree-items parent-item='item' parent='parent' expand-icon='${expandIcon}' collapse-icon='${collapseIcon}' item-renderer='itemRenderer' item-loader='itemLoader' ng-if='item.children.length > 0' tree-draggable='treeController.treeDraggable'ng-hide='item.collapsed'></ers-tree-items>",r=function(){function e(e,t,n,o){this.$compile=e,this.$q=t,this.itemScope=n,this.itemElem=o}return e.prototype.loadChildren=function(e){var t=this,n=this.itemScope.item,o=this.itemScope.itemLoader;return o?o.loadChildren(n.data).then(function(e){return n.data=e,t.appendSubTree(),e}):(this.appendSubTree(),this.$q.when(n.data))},e.prototype.appendSubTree=function(){var e=_.template(o)(this.itemScope);this.$compile(e)(this.itemScope).appendTo(this.itemElem)},e}();e._module.directive("ersTreeItem",["$compile","$q",n])}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"EA",transclude:!0,link:function(e,t,o,r,i){e.$parent.itemRenderer=new n(e,i)}}}var n=function(){function e(e,t){this.parentScope=e,this.transcludeFn=t}return e.prototype.render=function(e){var t=this.parentScope.$new();return t.item=e,this.transcludeFn(t,function(e){})},e}();e._module.directive("ersTreeItemRenderer",t)}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(){return{restrict:"A",scope:{itemRenderer:"=",item:"="},link:function(e,t,n){var o=e.itemRenderer;if(o){var r=e.item,i=o.render(r);t.empty().append(i)}}}}e._module.directive("ersTreeItemRendererHolder",t)}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){function t(t,n){var o=(new e.DnDTreeItemsTarget).bind(n);t.$watch("ctrl.parentItem",function(e){o.setData(e)}),t.$on("$destroy",function(){o.unbind()})}function n(e){return{restrict:"E",replace:!0,templateUrl:"tree/template/treeitems.tpl.html",scope:{treeId:"@?",expandIcon:"@?",collapseIcon:"@?",parent:"=?",parentItem:"=",itemRenderer:"=?",itemLoader:"=?",multipleSelection:"=?",selectedItem:"=?",treeDraggable:"=?"},controller:"treeController",bindToController:!0,controllerAs:"ctrl",link:function(e,n,o){var r=n.controller("ersTreeItems").treeDraggable;r&&t(e,n)}}}e._module.directive("ersTreeItems",["$compile",n])}(t=e.tree||(e.tree={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.on=function(t,n,o){for(var r=n.$parent;null!=r;){if(r.hasOwnProperty(e.SCOPE_KEY)){var i=r[e.SCOPE_KEY];if(i){var s=i[t];if(s){s.push(o);break}}}r=r.$parent}},e.prototype.registerDispatcher=function(t,n){var o=n[e.SCOPE_KEY];o||(o={},n[e.SCOPE_KEY]=o);var r=null;r="string"==typeof t?[t]:t;for(var i=0;i<r.length;i++){var s=r[i],a=o[s];a||(a=[],o[s]=a)}},e.prototype.dispatch=function(t,n){var o=n[e.SCOPE_KEY];if(o){var r=o[t];if(r)for(var i=0;i<r.length;i++){var s=r[i];s()}}},e.SCOPE_KEY="###event-dispatcher###",e}();e._module.service("containerEventService",t)}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=/\s?auto?\s?/i,n={top:function(e,t){return{top:e.top-t.height,left:e.left+e.width/2-t.width/2}},"top-left":function(e,t){return{top:e.top-t.height,left:e.left}},"top-right":function(e,t){return{top:e.top-t.height,left:e.left+e.width-t.width}},right:function(e,t){return{top:e.top+e.height/2-t.height/2,left:e.left+e.width}},"right-top":function(e,t){return{top:e.top,left:e.left+e.width}},"right-bottom":function(e,t){return{top:e.top-t.height+e.height,left:e.left+e.width}},bottom:function(e,t){return{top:e.top+e.height,left:e.left+e.width/2-t.width/2}},"bottom-left":function(e,t){return{top:e.top+e.height,left:e.left}},"bottom-right":function(e,t){return{top:e.top+e.height,left:e.left+e.width-t.width}},left:function(e,t){return{top:e.top+e.height/2-t.height/2,left:e.left-t.width}},"left-top":function(e,t){return{top:e.top,left:e.left-t.width}},"left-bottom":function(e,t){return{top:e.top-t.height+e.height,left:e.left-t.width}}},o=function(){function e(){}return e.prototype.isValid=function(e){return this.isAutoPlace(e)&&(e=e.replace(t,"")),angular.isDefined(n[e])},e.prototype.toPlacementObject=function(e){if(!this.isValid(e))return null;var n=this.isAutoPlace(e);n&&(e=e.replace(t,""));var o=e.split("-");return{side:o[0],alignment:o[1],auto:n,toString:function(){var e=this.alignment?this.side+"-"+this.alignment:this.side;return this.auto?"auto "+e:e}}},e.prototype.applyPlacement=function(e,t,n,o){return t&&e?(o=o||"body",angular.isString(n)&&(n=this.toPlacementObject(n)),n?angular.isElement(t)?this.placeOverElement(e,t,n,o):this.placeOverCoordinate(e,t,n,o):e):e},e.prototype.placeOverCoordinate=function(e,t,n,o){var r={left:t.left,right:t.left,top:t.top,bottom:t.top,width:0,height:0};return n.auto&&(n=this.getAutoPlacement(e,r,n,o)),this.setPosition(e,n.toString(),r),e},e.prototype.placeOverElement=function(e,t,n,o){var r=this.getPosition(t);return n.auto&&(n=this.getAutoPlacement(e,r,n,o)),this.resetClass(e,n.toString()),this.setPosition(e,n.toString(),r),this.ensurePosition(e,t),e},e.prototype.resetClass=function(e,t){angular.forEach(n,function(t,n){e.removeClass(n)}),e.addClass(t)},e.prototype.setPosition=function(e,t,n){var o=3;do{var r=e.outerWidth(!0),i=e.outerHeight(!0),s=this.calculateOffset(t,n,{width:r,height:i}),a=parseInt(e.css("margin-top"),10)||0,l=parseInt(e.css("margin-left"),10)||0;
s.top+=a,s.left+=l,e.offset(s)}while(--o>0&&(e.outerWidth(!0)!==r||e.outerHeight(!0)!==i))},e.prototype.isAutoPlace=function(e){return t.test(e)},e.prototype.ensurePosition=function(e,t){var n=e.offset(),o=window.screen.width,r=this.screenHeight,i=e.width(),s=e.height(),a=t.offset(),l=e.attr("class");n.left<0?(e.css("left",0),e.attr("class",l.replace("right","left"))):n.left>o-i&&(e.css("left",o-i),e.attr("class",l.replace("left","right"))),n.top<0?(e.css("top",a.top),e.attr("class",l.replace("bottom","top"))):n.top>r-s&&(e.css("left",a.top-s),e.attr("class",l.replace("top","bottom")))},e.prototype.getPosition=function(e){var t=e[0],n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight,top:0,left:0},o={width:n.width,height:n.height,left:n.left,right:n.right,top:n.top,bottom:n.bottom},r=e.offset();return angular.extend({},o,r)},e.prototype.calculateOffset=function(e,t,o){var r=n[e],i=r(t,o);return this.ensureNonNegative(i)},e.prototype.ensureNonNegative=function(e){return angular.forEach(e,function(t,n){e[n]=0>t?0:t}),e},e.prototype.getAutoPlacement=function(e,t,n,o){var r=e.outerWidth(!0),i=e.outerHeight(!0),s=this.resolveContainer(o),a=document.documentElement.scrollTop||document.body.scrollTop,l=$.isWindow(s[0])?a:s.offset().top,c=$.isWindow(s[0])?0:s.offset().left,p=s.innerWidth(),u=s.innerHeight();return n=this.adjustVertically(n,t,i,u,l),n=this.adjustHorizontally(n,t,r,p,c),n.auto=!1,n},e.prototype.resolveContainer=function(e){if("body"===e)return $(window);var t=$(e);return"visible"===t.css("overflow")?$(window):t},e.prototype.adjustVertically=function(e,t,n,o,r){return t.top+t.height+n>r+o?(e.side="bottom"===e.side?"top":e.side,e.alignment="top"===e.alignment?"bottom":e.alignment,e):t.top<r-n?(e.side="top"===e.side?"bottom":e.side,e.alignment="bottom"===e.alignment?"top":e.alignment,e):e},e.prototype.adjustHorizontally=function(e,t,n,o,r){return t.right+n>r+o?(e.side="right"===e.side?"left":e.side,e.alignment="left"===e.alignment?"right":e.alignment,e):t.left-n<r?(e.side="left"===e.side?"right":e.side,e.alignment="right"===e.alignment?"left":e.alignment,e):e},Object.defineProperty(e.prototype,"screenHeight",{get:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},enumerable:!0,configurable:!0}),e}();e._module.service("placementService",o)}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.listeners=[],e.serviceInstances.push(this),$(window).on("resize",_.debounce(this.resize,e.THROTTLE_LIMIT))}return e.prototype.resize=function(){var t=$(window),n={width:t.width(),height:t.height()};_.each(e.serviceInstances,function(e){_.each(e.listeners,function(e){e&&e.resizeDidOccur(n)})})},e.prototype.registerListener=function(e){this.listeners.push(e)},e.THROTTLE_LIMIT=250,e.serviceInstances=[],e}();e._module.service("ResizeService",t)}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.httpService=e,this.templateCache=t}return e.prototype.fetchTemplate=function(e){var t=this,n=this.templateCache.get(e);return n?n:this.httpService.get(e).then(function(n){var o=angular.isObject(n)?n.data:n;return t.templateCache.put(e,o),o})},e.$inject=["$http","$templateCache"],e}();e._module.service("templateHelper",t)}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={}));var ers;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.target=e,this.registerValidators(),this.registerInvalidChangeListener(),this.errorRenderer=t}return e.prototype.registerValidators=function(){var e=this.target.ngModelController;this.target.validationRules().forEach(function(t){e.$setValidity(t.key,!0),t.validator&&(e.$validators[t.key]=t.validator)})},e.prototype.registerInvalidChangeListener=function(){var e=this,t=this.target.ngModelController,o=this.target.focusedElement().scope();o&&o.$watch(function(){return new n(t.$dirty,t.$error)},function(t,n){var o=t.errors,r=n.errors;if(o===r){var i=!1;for(var s in o)if(o.hasOwnProperty(s)){i=!0;break}if(!i)return}e.manageMessage()},!0)},e.prototype.getErrorMessages=function(){var e=this.target.ngModelController.$error;return this.target.validationRules().filter(function(t){return e[t.key]}).map(function(e){return e.errorMessage})},e.prototype.manageMessage=function(){if(this.errorRenderer){var e=this.target.focusedElement();this.target.ngModelController.$invalid&&(this.target.showError&&this.target.showError()||!this.target.showError)?this.errorRenderer.render(e,this.target.id(),angular.bind(this,this.getErrorMessages)):this.errorRenderer.clear(e)}},e.prototype.reloadMessage=function(){if(this.errorRenderer){var e=this.target.focusedElement();this.errorRenderer.clear(e),this.errorRenderer.render(e,this.target.id(),angular.bind(this,this.getErrorMessages))}},e.prototype.contains=function(e){return this.target===e},e.prototype.destroy=function(){this.errorRenderer&&this.errorRenderer.clear(this.target.focusedElement()),this.target=null},e}(),n=function(){function e(e,t){this._isDirty=e,this._errors=t}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),e}(),o=function(){function e(e){this.mediators=[],this.errorRenderer=e}return e.prototype.registerTarget=function(e){this.mediators.push(new t(e,this.errorRenderer))},e.prototype.unregisterTarget=function(e){var t=this.mediators.filter(function(t){return t.contains(e)});if(0!==t.length){var n=this.mediators.indexOf(t[0]);this.mediators.splice(n,1),t[0].destroy()}},e.prototype.manageMessage=function(e){for(var t=0;t<this.mediators.length;t++){var n=this.mediators[t];n.contains(e)&&n.manageMessage()}},e.prototype.reloadMessage=function(e){for(var t=0;t<this.mediators.length;t++){var n=this.mediators[t];n.contains(e)&&n.reloadMessage()}},e}(),r=function(){function e(){var e=this;this.$get=["$injector",function(t){var n;return e.errorRendererName&&(n=t.get(e.errorRendererName)),new o(n)}]}return e.prototype.setErrorRendererName=function(e){this.errorRendererName=e},e}();e._module.provider("validationManager",r)}(t=e.service||(e.service={}))}(t=e.core||(e.core={}))}(t=e.components||(e.components={}))}(ers||(ers={})),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("accordion/template/accordion-group-template.html",'<div class="panel panel-default"><a href=javascript:void(0) tabindex=0 class=accordion-toggle ng-click=vm.toggleOpen() ng-class="{ \'is-open\': vm.isOpen }"><div class=panel-heading><div class=panel-title><span ng-class="{\'text-muted\': vm.ngDisabled || vm.parent.ngDisabled}"><i class="pull-left fa fa-caret-right"></i> {{vm.heading}} <span ers-accordion-heading-transclude></span> <span class=result-count>{{vm.subheading}} <span ers-accordion-subheading-transclude></span></span></span></div></div></a><div class=panel-collapse uib-collapse=!vm.isOpen><div class=panel-body ng-transclude></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("accordion/template/accordion-template.html",'<div class="panel-group ers-accordion" ng-transclude></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("button/template/button-template.html","<div ng-click=ctrl.onClick($event)><button ng-disabled=ctrl.ngDisabled name={{ctrl.name}} class=btn value={{ctrl.label}} type={{ctrl.type}}><ng-transclude></ng-transclude>{{ctrl.label}}</button></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("calendar/template/calendar-template.html",'<div class=input-group><input type=text class=form-control datepicker-append-to-body=calendarCtrl.appendToBody uib-datepicker-popup={{calendarCtrl.dateFormat}} datepicker-options=calendarCtrl.dateOptions ng-model=calendarCtrl.ngModel ng-model-options="{allowInvalid: true}" is-open=calendarCtrl.isOpen show-button-bar=calendarCtrl.showButtonBar close-text={{calendarCtrl.closeText}} clear-text={{calendarCtrl.clearText}} current-text={{calendarCtrl.currentText}} ng-disabled=calendarCtrl.ngDisabled ng-readonly=calendarCtrl.ngReadonly ng-change=calendarCtrl.dateChanged() ng-click=calendarCtrl.open()> <span class=input-group-btn><button class="btn btn-default" type=button ng-click=calendarCtrl.open()><i class="fa fa-calendar"></i></button></span></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("chart/template/chart-template.html",'<div ng-attr-id={{ctrl.containerId}} class=chart-container ng-class="{ready: ctrl.ready}"></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("checkbox/template/checkbox-template.html","<div ng-form=subForm><div class=checkbox-btn-div><div class=ers-checkbox-button><div class=checkbox-btn-div><div class=erscheckbox></div></div><div class=checkbox-display-div ng-transclude></div></div></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("combobox/template/combobox-item-template.html","<li role=presentation><a class=menuitem><ng-transclude></ng-transclude></a></li>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("combobox/template/combobox-template.html",'<div class="btn-group dropdown-select" ng-form=subForm><button type=button class="dropdown-toggle form-control btn btn-sm btn-fixed-size" ers-popover po-placement="bottom auto" po-show-arrow={{comboboxController.withArrow}} po-target=#{{comboboxController.targetId}} po-keyboard=true po-container=body po-lazy-load=true><span class=button-text></span> <span class=select-caret><span class="fa-stack fa-lg"><i class="fa fa-stack-1x"></i></span></span></button><div ng-show=!comboboxController._ngDisabled class="ers-combobox ers-combobox-list" style=display:none;width:100%><ul class=popover-content style=max-height:150px;overflow-y:auto><ng-transclude></ng-transclude></ul></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("contextmenu/template/contextmenu.tpl.html",'<div id={{id}} class="ers-context-menu clearfix" ng-keydown=onKeyDown($event) tabindex=0><ul class=context-menu-dropdown role=menu><li ng-repeat="item in menuItems" ng-hide=!item.visible ng-class="{\'separatorBefore\': item.separatorBefore, \'disabled\': !item.enabled, \'submenu\': item.children.length > 0}"><a tabindex="{{item.enabled ? 1 : -1}}" ng-if="!item.children || item.children.length == 0" ng-click=item.onClick($event)><ers-icon class=menu-item-icon name={{item.icon}} ng-if=item.icon></ers-icon><span ng-bind-html=item.label></span></a><ers-link-menu label={{item.label}} icon={{item.icon}} menu-items=item.children placement="auto right-top" trigger=hover exclusively=false container=self ng-if="item.children.length > 0"></ers-link-menu></li></ul></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("contextmenu/template/linkmenu.tpl.html",'<a class=ers-link-menu><ers-icon class=menu-item-icon name={{icon}} ng-if=icon></ers-icon><span ng-bind-html=label></span> <span class=direction-arrow><i class="fa fa-chevron-{{direction}}"></i></span></a>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("drawer/template/drawer-header-template.html","<div class=ers-drawer-header-part-{{drawerHeaderComponent.drawerController.slideFrom}}><ers-icon name=\"{{drawerHeaderComponent.drawerController.pinned?'unpin':'pin'}}\" ng-click=drawerHeaderComponent.togglePinned()></ers-icon><ng-transclude></ng-transclude></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("drawer/template/drawer-splitter-bar-template.html",'<i class="before-icon fa {{ ::drawerController.getSplitterExpandArrow() }}"></i> <i class="ellipsis-icon fa {{ ::drawerController.getSplitterEllipsisIcon() }}"></i> <i class="after-icon fa {{ ::drawerController.getSplitterCollapseArrow() }}"></i>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("drawer/template/drawer-tab-template.html",'<div class=ers-drawer-tab-icon-{{drawerController.slideFrom}}><i class="fa fa-play"></i></div><div class=ers-drawer-tab-label-{{drawerController.slideFrom}}><p>{{ drawerController.label }}</p></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("drawer/template/drawer-template.html",'<div class="ers-drawer-container ers-drawer-container-{{drawerController.slideFrom}}"><div class=ers-drawer-tab-container-{{drawerController.slideFrom}} ng-if="drawerController.slideFrom === \'right\'"><div class=ers-drawer-tab-icon-{{drawerController.slideFrom}}><i class="fa fa-play"></i></div><div class=ers-drawer-tab-label-{{drawerController.slideFrom}}><p>{{ drawerController.label }}</p></div></div><div class=ers-drawer-tab-container-{{drawerController.slideFrom}} ng-if="drawerController.slideFrom === \'bottom\'"><div class=ers-drawer-tab-icon-{{drawerController.slideFrom}}><i class="fa fa-play"></i></div><div class=ers-drawer-tab-label-{{drawerController.slideFrom}}><p>{{ drawerController.label }}</p></div></div><div class=ers-drawer-block-container-{{drawerController.slideFrom}}><ng-include src="\'drawer/template/drawer-splitter-bar-template.html\'" ng-if="drawerController.slideFrom === \'right\'" class=ers-splitter-bar-{{drawerController.slideFrom}}></ng-include><ng-include src="\'drawer/template/drawer-splitter-bar-template.html\'" ng-if="drawerController.slideFrom === \'bottom\'" class=ers-splitter-bar-{{drawerController.slideFrom}}></ng-include><div class=ers-drawer-content-{{drawerController.slideFrom}} ng-transclude></div><ng-include src="\'drawer/template/drawer-splitter-bar-template.html\'" ng-if="drawerController.slideFrom === \'left\'" class=ers-splitter-bar-{{drawerController.slideFrom}}></ng-include><ng-include src="\'drawer/template/drawer-splitter-bar-template.html\'" ng-if="drawerController.slideFrom === \'top\'" class=ers-splitter-bar-{{drawerController.slideFrom}}></ng-include></div><div class=ers-drawer-tab-container-{{drawerController.slideFrom}} ng-if="drawerController.slideFrom === \'left\'"><div class=ers-drawer-tab-icon-{{drawerController.slideFrom}}><i class="fa fa-play"></i></div><div class=ers-drawer-tab-label-{{drawerController.slideFrom}}><p>{{ drawerController.label }}</p></div></div><div class=ers-drawer-tab-container-{{drawerController.slideFrom}} ng-if="drawerController.slideFrom === \'top\'"><div class=ers-drawer-tab-icon-{{drawerController.slideFrom}}><i class="fa fa-play"></i></div><div class=ers-drawer-tab-label-{{drawerController.slideFrom}}><p>{{ drawerController.label }}</p></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("dropdown-select/template/dropdown-select-grid.html",'<div class=select-container ng-class="{\'open\' : ctrl.open}"><div ng-if="::ctrl.filterMode !== \'off\'" ng-mouseenter="icon=true" ng-mouseleave="icon=false"><span class=set-icon ng-if=::ctrl.useSearchIcon><span ng-if="ctrl.ngModel !== null && !ctrl.ngDisabled"><i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <i class="fa fa-search input-icon search-icon" ng-class="{disableIcon: ctrl.ngDisabled}" ng-mousedown=::ctrl.openDropdown($event)></i></span> <span class=set-icon ng-if=::!ctrl.useSearchIcon><span ng-if="ctrl.ngModel !== null && !ctrl.ngDisabled"><i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <i class=input-icon ng-class="{\'fa fa-chevron-up\': ctrl.open, \'fa fa-chevron-down\': !ctrl.open, disableIcon: ctrl.ngDisabled}" ng-mousedown=::ctrl.toggleDropdown($event)></i></span> <input ng-if=::!ctrl.multiSelect type=text class=form-control name=inputField placeholder={{::ctrl.placeholder}} ng-change=::ctrl.filterTextChangeLocal($event) ng-model=ctrl.ngModelValue ng-click=::ctrl.openDropdown($event) ng-disabled=::ctrl.ngDisabled ng-blur=::ctrl.resetInput() ng-keydown=::ctrl.onKeyboardPressed($event) ng-required=::ctrl.ngRequired> <input ng-if=::ctrl.multiSelect id=inputElement type=text class="form-control no-select" name=inputField placeholder={{::ctrl.placeholder}} ng-change=::ctrl.filterTextChangeLocal($event) ng-model=ctrl.ngModelValue ng-click=::ctrl.openDropdown($event) ng-disabled=::ctrl.ngDisabled ng-blur=::ctrl.resetInput() ng-keydown=::ctrl.onKeyboardPressed($event) ng-required=::ctrl.ngRequired></div><div ng-if="::ctrl.filterMode === \'off\'"><div class="btn btn-default form-control" tabindex=1 type=button ng-click=::ctrl.toggleDropdown($event) ng-disabled=::ctrl.ngDisabled ng-keydown=::ctrl.onKeyboardPressed($event) ng-required=::ctrl.ngRequired ng-mouseenter="icon=true" ng-mouseleave="icon=false"><span ng-if="ctrl.ngModel !== null && ctrl.ngDisabled">{{ctrl.ngModelValue ? ctrl.ngModelValue : ctrl.placeholder}}</span> <span ng-if="ctrl.ngModel !== null && !ctrl.ngDisabled">{{ctrl.ngModelValue ? ctrl.ngModelValue : ctrl.placeholder}} <i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <span ng-if="ctrl.ngModel === null">{{::ctrl.placeholder}}</span> <i ng-class="{\'fa fa-chevron-up\': ctrl.open, \'fa fa-chevron-down\': !ctrl.open, disableIcon: ctrl.ngDisabled}"></i></div></div><div class=dropdown-menu ng-if=::!ctrl.ngDisabled><table class=table><thead><tr><th ng-repeat="heading in ::ctrl.gridColumnHeaders" class=text-center>{{heading}}</th></tr></thead><tbody><tr ng-repeat="row in ctrl.filteredItems" ng-class="{\'active\': ctrl.checkEquality(row, ctrl.ngModel), \'focus\': row === ctrl.focusedRow}" ng-mousedown="::ctrl.onSelectedLocal(row, $event)" ng-mouseover=::ctrl.setFocusedRow(-1)><td ng-repeat="value in ::ctrl.sort(row) track by $index" class=text-center>{{::value}}</td></tr><tr ng-show="ctrl.filteredItems.length <= 0"><td class=text-center colspan={{::ctrl.gridColumnHeaders.length}}>{{::ctrl.noResultsMessage}}</td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("dropdown-select/template/dropdown-select-standard.html",'<div class=select-container ng-class="{\'open\' : ctrl.open}"><div ng-if="::ctrl.filterMode !== \'off\'" ng-mouseenter="icon=true" ng-mouseleave="icon=false"><span class=set-icon ng-if=::ctrl.useSearchIcon><span ng-if="ctrl.ngModel !== null && !ctrl.ngDisabled"><i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <i class="fa fa-search input-icon" ng-class="{disableIcon: ctrl.ngDisabled}"></i></span> <span class=set-icon ng-if=::!ctrl.useSearchIcon><span ng-if="ctrl.ngModel !== null"><i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <i class=input-icon ng-class="{\'fa fa-chevron-up\': ctrl.open, \'fa fa-chevron-down\': !ctrl.open, disabledIcon: ctrl.ngDisabled}" ng-mousedown=::ctrl.toggleDropdown($event)></i></span> <input ng-if=::!ctrl.multiSelect type=text class=form-control name=inputField placeholder={{::ctrl.placeholder}} ng-change=::ctrl.filterTextChangeLocal($event) ng-model=ctrl.ngModelValue ng-click=::ctrl.openDropdown($event) ng-disabled=::ctrl.ngDisabled ng-blur=::ctrl.resetInput() ng-keydown=::ctrl.onKeyboardPressed($event)> <input ng-if=::ctrl.multiSelect id=inputElement type=text class="form-control no-select" name=inputField placeholder={{::ctrl.placeholder}} ng-change=::ctrl.filterTextChangeLocal($event) ng-model=ctrl.ngModelValue ng-click=::ctrl.openDropdown($event) ng-disabled=::ctrl.ngDisabled ng-blur=::ctrl.resetInput() ng-keydown=::ctrl.onKeyboardPressed($event)></div><div ng-if="::ctrl.filterMode === \'off\'"><div class="btn btn-default form-control" tabindex=1 type=button ng-click=::ctrl.toggleDropdown($event) ng-disabled=::ctrl.ngDisabled ng-keydown=::ctrl.onKeyboardPressed($event) ng-mouseenter="icon=true" ng-mouseleave="icon=false"><span ng-if="ctrl.ngModel !== null && ctrl.ngDisabled">{{ctrl.ngModelValue ? ctrl.ngModelValue : ctrl.placeholder}}</span> <span ng-if="ctrl.ngModel !== null && !ctrl.ngDisabled">{{ctrl.ngModelValue ? ctrl.ngModelValue : ctrl.placeholder}} <i class=remove-selection-icon ng-class="{\'fa fa-close\' : icon}" ng-mousedown=::ctrl.clearSelection($event)></i></span> <span ng-if="ctrl.ngModel === null">{{::ctrl.placeholder}}</span> <i ng-class="{\'fa fa-chevron-up\': ctrl.open, \'fa fa-chevron-down\': !ctrl.open, disableIcon: ctrl.ngDisabled}"></i></div></div><ul class="dropdown-menu list-group" ng-if=::!ctrl.ngDisabled><li class=list-group-item ng-repeat="row in ctrl.filteredItems" ng-class="{\'active\': ctrl.checkEquality(row, ctrl.ngModel), \'focus\': row === ctrl.focusedRow }" ng-mousedown="::ctrl.onSelectedLocal(row, $event)" ng-mouseover=::ctrl.setFocusedRow(-1)>{{::row[ctrl.itemDisplayProperty]}}</li><li class="list-group-item text-center" ng-show="ctrl.filteredItems.length <= 0">{{::ctrl.noResultsMessage}}</li></ul></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("file/template/file-template.html",'<div class=ers-file-selector filters="queueLimit, customFilter"><div class=fileuploader-wrapper><div class=fileuploader><div class=dropzone><div class=uploader-area><p>{{ctrl.instructionText}}</p><div class=field-specs><div class=browse-textbox><ers-textbox ng-model=uploadedFileName placeholder={{ctrl.selectionInputPlaceHolderText}} ng-disabled=true></ers-textbox></div><ers-button type=button class=secondary onclick=$(this).next().click() ers-tooltip=Browse label=Browse ng-disabled=ctrl.selecting></ers-button><input id=selectFiles_{{ctrl.id}} class="btn btn-danger btn-xs" type=file multiple style="display: none;"><div><ers-icon name=information ers-popover po-content={{ctrl.informationTooltipTxt}} po-trigger=hover po-html=true po-hide-delay=1000 class=information-icon></ers-icon><span ng-if="ctrl.maxSize>=0" class=size-limit>Maximum file size is {{ctrl.maxSize}}MB</span></div></div><div class=text-center ng-if=ctrl.actionButtonVisible><ers-button ng-click=ctrl.actionButtonAction() label={{ctrl.actionButtonText}} ng-disabled="(ctrl.uploaderOptions.uploadStatus.uploading && ctrl.uploaderOptions.uploadStatus.uploading !==0) || !ctrl.selection || ctrl.selection.length<1|| ctrl.uploaderOptions.uploadStatus.toBeUploaded ===0"></ers-button></div></div><div class=clearfix></div><div class=bgimg-upload></div><div class=dragdrop-txt>Drag &amp; Drop Files<br>{{ctrl.dropZoneAdditionalText}}</div></div><div class=fileuploaderResults ng-show="ctrl.selection && ctrl.selection.length!=0"><div class=fileuploaderResultHeader><div class=progress-msg><p>{{ctrl.getSelectorUploaderText()}}</p></div><div class=progress style="width: 65%;float: left;margin-left: 10px; margin-right: 10px;" ng-if=ctrl.uploaderOptions.displayTotalProgress><div class=progress-bar role=progressbar ng-style="{ \'width\': ctrl.uploaderOptions.uploadStatus.progress + \'%\' }" style="width: 0%;"></div></div><div class=clear-queue><button type=button class="btn btn-link btn-xs" ng-click=ctrl.removeAllFiles()>Clear All</button></div><div class=clearfix></div></div><div class=progress-grid><div ng-repeat="item in ctrl.selection track by $index"><div class=filename-wrapper><a href=javascript:;><div ers-context-menu=ctrl.selectedItemContextMenu title="{{ item.file.name }}" ng-class="item.isUploadError?\'file-name-error\':\'file-name\'">{{ item.file.name }}</div></a></div><div ng-if=item.uploadHasBegun() class=progress-percent>{{item.uploadProgress}}%</div><div ng-if=item.uploadHasBegun() class=clearfix></div><div ng-if=item.uploadHasBegun() class=progress-wrapper><div class=progress><div class="progress-bar progress-bar-info progress-bar-striped" ng-class="item.isUploadError?\'progress-bar-danger\':item.isUploading?\'progress-bar-info\':\'progress-bar-success\'" role=progressbar aria-valuenow={{item.uploadProgress}} aria-valuemin=0 aria-valuemax=100 ng-style="{ \'width\': item.uploadProgress + \'%\' }"></div></div></div><div class=delete-file><ers-icon name=delete ng-click=ctrl.removeFile($index); title=delete class=fa-danger-action></ers-icon></div><div class=clearfix></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("grid/template/grid-template.html","<div ng-hide=gridController.initialized class=loading-panel style=text-align:center;>{{gridController.loadingMessage}}</div><div class=ag-grid ng-if=gridController.initialized ag-grid=gridController.options></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("label/template/label-template.html","<label class=ers-label title={{c.value}}><span class=ers-label-content ng-style=::c.contentStyle>{{c.value}}</span> <span ng-if=c.required class=ers-label-required>*</span></label>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("layout/template/layout-template.html","<div class=ers-layout-container ng-transclude></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("layout/template/splitter-template.html","<div class=ers-splitter-area><div class=ers-draggable-area><div class=ers-drag-img></div></div><div class=ers-prev-button-area><div class=ers-prev-img></div></div><div class=ers-next-button-area><div class=ers-next-img></div></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("login/template/login-template.html",'<script type=text/javascript ng-if=true>\n    // do not remove the ng-if from the script tag, it\'s a trick to\n    // set the focus on IE/Firefox browsers.\n    $(function () {\n        $(\'[autofocus]:not(:focus)\').eq(0).focus();\n    });\n</script><div class=ers-login ng-cloak><div class=main-frame><div class=login-header><h1 class=product-title>{{::ctrl.productName}}</h1><h1 ng-show=::ctrl.productName class=separator></h1><div class=login-title ng-style>Account Login</div></div><div class=login-box ng-cloak><div class=form-error ng-if=ctrl.getErrorMessage()>Unable to login: {{ctrl.getErrorMessage()}}</div><form name=loginForm role=form autocomplete=off novalidate id=loginForm><fieldset><input type=text style="display: none;"> <input type=password style="display: none;"><div class=form-input><input type=text name=username ng-model=ctrl.username placeholder=Username autofocus autocomplete=off ng-change="ctrl.loginError=undefined" ng-disabled=ctrl.computing class="{{ctrl.loginError ? (ctrl.loginError.credentialsError? \'invalid\' : \'valid\') : \'\'}}" required></div><div class=form-input><input type=password name=password ng-model=ctrl.password ng-change="ctrl.loginError=undefined" placeholder=Password ng-disabled=ctrl.computing autocomplete=off class="{{ctrl.loginError ? (ctrl.loginError.credentialsError? \'invalid\' : \'valid\') : \'\'}}" required></div><div class="form-input ers-dropdown" ng-disabled=ctrl.computing ng-if=ctrl.isDatabaseDdwVisible()><button class="btn btn-default dropdown-toggle" type=button id=dropdownMenu1 data-toggle=dropdown aria-expanded=true ng-disabled=ctrl.computing ng-if=ctrl.isDatabaseDdwVisible()>{{ctrl.getSelectedDb()}}<div class=down-arrow><span class="fa-stack fa-lg"><i class="fa fa-angle-down fa-stack-1x"></i></span></div></button><ul class=dropdown-menu role=menu aria-labelledby=dropdownMenu1 ng-if=ctrl.isDatabaseDdwVisible()><li ng-repeat="db in ctrl.databases" ng-click=ctrl.selectDb($index) ng-class="{active: $index == ctrl.selectedDbIndex}"><a>{{db}}</a></li></ul></div><div class=login-support ng-cloak=true><div class=pull-left><div ng-show=ctrl.resetPasswordOptions>Forgot your&nbsp;<a href=javascript:; ng-class="ctrl.computing?\'disabledLink\':\'\'" ng-click=ctrl.openResetPassword()>Username</a> or <a href=javascript:; ng-class="ctrl.computing?\'disabledLink\':\'\'" ng-click=ctrl.openResetPassword()>Password</a>?</div><div ng-show=ctrl.changePasswordOptions><a href=javascript:; ng-class="ctrl.computing?\'disabledLink\':\'\'" ng-click=ctrl.openChangePassword()>Change password</a></div><br>Need <a href=javascript:; ng-class="ctrl.computing?\'disabledLink\':\'\'">Support</a>?</div></div><div class=pull-left ng-hide=ctrl.isRetrieveCredentials></div><div class=pull-right><ers-button name=btnLogin ng-disabled="loginForm.$invalid || ctrl.computing" type=submit ng-click=ctrl.login() label=Login form=loginForm></ers-button></div></fieldset></form></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("modal/template/information-modal-template.html","<ers-icon ng-if=ctrl.icon name={{ctrl.icon}} size=40></ers-icon><p style=padding-top:10px id=ersModalMessageContent>{{ctrl.message}}</p>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("modal/template/modal-template.html","<div class=ers-modal id={{ctrl.id}}><div class=modal-header><strong>{{ctrl.title}}</strong><div class=pull-right ng-if=\"ctrl.dismissCrossButtonVisible && !ctrl.disableAllButtons()\"><a ng-disabled=ctrl.disableAllButtons() class=close ng-click=ctrl.onDismissModal($event)><span class=\"glyphicon glyphicon-remove\"></span></a></div></div><div class=modal-body><form name=modalForm role=form autocomplete=off novalidate id=modalForm_{{ctrl.id}}><div class=modal-form><ng-include src=ctrl.instanceTemplate></ng-include></div><div class=form-input><div class=pull-right id=ersModalButtonBar><input id=fake style=display:none;width:0;height:0;border:0;><ers-button ng-repeat=\"button in ctrl.buttons\" type=\"{{button.commitChoice?'submit':'button'}}\" form=\"{{button.commitChoice?'modalForm_'+ctrl.id:'button'+$index+''}}\" id={{button.id}} name=\"{{button.commitChoice?'commit':'button'+$index+''}}\" class=\"{{button.escapeChoice?'secondary':'primary'}}\" label={{button.label}} ers-enter=ctrl.buttonEnter ng-click=button.escapeChoice?ctrl.onDismissModal($event):ctrl.onCloseModal($event) ng-disabled=button.commitChoice?!ctrl.formIsValid():ctrl.disableAllButtons()><ers-icon name={{button.icon}} ng-if=button.icon></ers-icon></ers-button></div></div></form></div></div><ers-modal-script modal-id={{ctrl.id}} draggable=ctrl.draggable resizable=ctrl.resizable modal=ctrl.modal focus-path=ctrl.focusPath></ers-modal-script>");
}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("navigation/template/navigation-item-template.html","<div class=ers-nav-heading>{{vm.heading}}</div><div class=ers-nav-content ng-transclude></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("navigation/template/navigation-template.html","<div class=menu data-scope-id={{$id}} data-show-active={{vm.showActive}} ng-transclude></div><div class=footer>&copy; 2016 Moody's Analytics, Inc. and/or its licensors and affiliates. All rights reserved.</div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("numberbox/template/numberbox-template.html","<div ng-form=subFormTextbox><input type=text name={{::c.name}} ng-required=c.required ng-pattern=c.textPattern ng-readonly=c.readOnly ng-disabled=c.ngDisabled ng-trim=false></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("panel/template/panel-body.html",'<div class=panel-collapse ng-class="{isClosed: bodyCtrl.closed()}" uib-collapse=bodyCtrl.closed()><div class=panel-body ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("panel/template/panel-custom-template.html","<div class=panel ng-class=\"ctrl.panelClass || 'panel-default'\" ng-transclude></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("panel/template/panel-header.html",'<div class=panel-heading><div class="btn-group pull-left" ng-show=headerCtrl.collapsible><button class="btn btn-icon" ng-click=headerCtrl.toggle() tt-placement=top><i class=icon ng-class="{\'fa fa-chevron-up\': !headerCtrl.closed, \'fa fa-chevron-down\': headerCtrl.closed}"></i></button></div><div ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("panel/template/panel-template.html","<div class=panel ng-class=\"ctrl.panelClass || 'panel-default'\"><ers-panel-header>{{ctrl.header}}</ers-panel-header><ers-panel-body><ng-transclude></ng-transclude></ers-panel-body></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("password-management/template/change-password-template.html",'<div class=ers-change-password><div class=change-password-box ng-cloak><div class=form-error ng-show=ctrl.changePasswordError>{{ctrl.changePasswordError.message}}</div><div class=form-input><input type=text name=username ng-model=ctrl.username placeholder="User ID" ng-disabled="ctrl.usernameInitialized || ctrl.computing" ng-change="ctrl.changePasswordError=undefined" class="{{ctrl.changePasswordError? (ctrl.changePasswordError.credentialsError? \'invalid\' : \'valid\' ): \'\'}}" autocomplete=off required><br></div><div class=txt-database ng-if=ctrl.database>Database: {{ctrl.database}}</div><div class=form-input><input type=password name=oldpassword ng-model=ctrl.oldPassword ng-change="ctrl.changePasswordError=undefined" class="{{ctrl.changePasswordError? (ctrl.changePasswordError.credentialsError? \'invalid\' : \'valid\' ): \'\'}}" placeholder="Old Password" ng-disabled=ctrl.computing autocomplete=off required></div><div class=form-input><input type=password name=newPassword ng-model=ctrl.newPassword ng-change="ctrl.changePasswordError=undefined" class="{{ctrl.changePasswordError? (ctrl.changePasswordError.newPasswordError? \'invalid\' : \'valid\' ): \'\'}}" placeholder="New Password" ng-disabled=ctrl.computing autocomplete=off required></div><div class=form-input><input type=password name=confirmPassword ng-change="ctrl.changePasswordError=undefined" class="{{ctrl.changePasswordError? (ctrl.changePasswordError.newPasswordError? \'invalid\' : \'valid\' ): \'\'}}" ng-model=ctrl.confirmNewPassword ng-disabled=ctrl.computing placeholder="Confirm New Password" autocomplete=off required></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("password-management/template/reset-password-template.html",'<div style="width:300px; margin:0 auto;"><div class=ers-reset-password><div class=rp-box><div class=rp-message>Enter your email address and we will send you an email with instructions to reset your password.</div><form name=rpForm role=form autocomplete=off novalidate id=rpForm><fieldset><input type=text style="display: none;"><div class=form-input><input type=text name=email placeholder=Email autofocus autocomplete=off ng-model=ctrl.email></div></fieldset></form></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("popover/template/popover.tpl.html","<div class=ers-popover><h3 class=popover-title ng-bind=title ng-show=title></h3><div class=popover-content ng-bind=content></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("radio-buttons/template/radio-button-template.html","<div class=ers-radio-button><div class=radio-btn-div><div></div></div><div class=radio-display-div ng-transclude></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("radio-buttons/template/radio-group-template.html","<div ng-form=subForm name={{::c.name}}><ng-transclude></ng-transclude></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("shell/template/settings-template.html","<div><div class=modal-header><strong>Change Password</strong><div class=pull-right><a class=close ers-modal-cancel><span class=\"glyphicon glyphicon-remove-circle\"></span></a></div></div><div class=modal-body><div class=loginBox ng-cloak><div class=formError ng-show=ChangePasswordController.changePasswordError>{{ChangePasswordController.changePasswordError.message}}</div><form name=loginForm role=form autocomplete=off novalidate><fieldset><div class=formInput><input type=text name=username ng-model=ChangePasswordController.username placeholder=\"User ID\" required ng-disabled=ChangePasswordController.usernameInitialized class=\"{{ChangePasswordController.changePasswordError && ChangePasswordController.changePasswordError.credentialsError? 'invalid' : (loginForm.username.$dirty ? 'valid' : '')}}\" autocomplete=off><br></div><div class=txtDatabase>Database: {{ChangePasswordController.database}}<div class=formInput></div><input type=password name=oldPassword ng-model=ChangePasswordController.oldPassword class=\"{{ChangePasswordController.changePasswordError && ChangePasswordController.changePasswordError.credentialsError? 'invalid' : (loginForm.oldPassword.$dirty ? 'valid' : '')}}\" placeholder=\"Old Password\" required autocomplete=off></div><div class=formInput><input type=password name=newPassword ng-model=ChangePasswordController.newPassword class=\"{{ChangePasswordController.changePasswordError && ChangePasswordController.changePasswordError.newPasswordError? 'invalid' : (loginForm.newPassword.$dirty ? 'valid' : '')}}\" placeholder=\"New Password\" required autocomplete=off></div><div class=formInput><input type=password name=confirmPassword class=\"{{ChangePasswordController.changePasswordError && ChangePasswordController.changePasswordError.newPasswordError? 'invalid' : (loginForm.newPassword.$dirty ? 'valid' : '')}}\" ng-model=ChangePasswordController.confirmNewPassword placeholder=\"Confirm New Password\" required autocomplete=off></div><div class=formInput><div class=pull-right><button class=\"btn btn-secondary btn-sm\" type=button ers-modal-cancel>Cancel</button> <button class=\"btn btn-primary btn-sm\" ng-disabled=loginForm.$invalid ers-modal-close on-modal-close=closeModal()>Update</button></div></div></fieldset></form></div></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("shell/template/shell-template.html","<div class=ers-shell-top><div class=header><span><ers-top-shell on-settings=ctrl.onSettings() on-info=ctrl.onInfo() on-help=ctrl.onHelp() on-edit-profile=ctrl.onEditProfile() on-logout=ctrl.onLogout() products=ctrl.products current-product=ctrl.currentProduct on-product-change=ctrl._onProductChange(newProduct,oldProduct) on-after-product-change=ctrl.onAfterProductChange(newProduct,oldProduct) user-info=ctrl.userInfo on-context-selector=ctrl.onContextSelector() current-context=ctrl.currentContext help-is-visible=ctrl.helpIsVisible info-is-visible=ctrl.infoIsVisible settings-is-visible=ctrl.settingsIsVisible title={{ctrl.title}}></ers-top-shell></span></div><div class=product-view></div></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("shell/template/top-shell-template.html",'<div class=header-bar><div uib-dropdown class=ers-top-shell-product-selector><button class="btn btn-default" uib-dropdown-toggle><span ng-if=ctrl.currentProduct.label>{{ctrl.currentProduct.label}}</span></button><ul uib-dropdown-menu role=menu><li tabindex=-1 href=# ng-repeat="product in ctrl.products" title=Product_{{::product.label}} ng-click="ctrl.currentProduct = ctrl.products[$index]" ng-class="{active: $index == ctrl.selectedProductIndex}"><a href=javascript:;>{{::product.label}}</a></li></ul></div><div class=right-nav><span class=dropdown style="cursor: pointer" title="Context selector" ng-click=ctrl.onContextSelector()>{{ctrl.currentContext}}<span><i class="fa fa-angle-down fa-inverse"></i></span></span><span uib-dropdown class=ers-top-shell-user-info><span uib-dropdown-toggle><a href=javascript:;><span class="glyphicon glyphicon-user"></span></a> <span class="hidden-sm hidden-xs" title="User name">{{::ctrl.userInfo.name}}</span> <span><i class="fa fa-angle-down fa-inverse"></i></span></span><ul uib-dropdown-menu class="dropdown-menu-arrow dropdown-menu-right"><li><a href=javascript:; title="Last login">{{::ctrl.userInfo.lastLogin}}</a></li><li><a href=javascript:; ng-click=ctrl.onEditProfile() title="Edit profile">Edit Profile</a></li><li><a href=javascript:; ng-click=ctrl.onLogout() title=Logout>Logout</a></li></ul></span><a href=javascript:; title=Info ng-click=ctrl.onInfo() ng-if=ctrl.isInfoVisible()><i class="fa fa-info-circle fa-inverse"></i></a> <a href=javascript:; title=Help ng-click=ctrl.onHelp() ng-if=ctrl.isHelpVisible()><i class="fa fa-question-circle fa-inverse"></i></a> <a href=javascript:; title=Settings ng-click=ctrl.onSettings() ng-if=ctrl.isSettingsVisible()><i class="fa fa-gear fa-inverse"></i></a></div><h1 class=title>{{ctrl.title}}</h1></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tabs/template/tab-template.html",'<li role=presentation ng-click=vm.onSelect() ng-class="{ active: vm.active, error: vm.errors.length }"><a ng-if=!vm.errors role=menuitem class=tab-heading title={{vm.heading}} ers-tab-heading-transclude>{{vm.heading}}</a> <a ng-if=vm.errors role=menuitem class=tab-heading tt-placement=top tt-theme=error ers-tooltip tt-title="{{vm.errors.join(\', \')}}" title={{vm.heading}} ers-tab-heading-transclude>{{vm.heading}}</a> <i class="tab-icon tab-icon-error fa fa-circle" ng-if=vm.errors.length></i> <i class="tab-icon tab-icon-close fa fa-times" ng-click=vm.onClose() ng-if="vm.tabset.canClose && (vm.tabset.tabs.length > 1 || vm.tabset.canCloseSingle)"></i></li>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tabs/template/tabset-template.html",'<div class=fade-left ng-show="vm.leftHiddenTabs.length > 0"></div><div class=fade-right ng-show="vm.rightHiddenTabs.length > 0"></div><div class=dropdown ng-show="vm.menuItemsOfHiddenTabs.length > 0"><ers-link-menu class=dropdown-toggle ng-attr-id={{::vm.dropdownMenuId()}} placement=bottom-right menu-items=vm.menuItemsOfHiddenTabs></ers-link-menu></div><div class=nav-tabs-wrapper><ul class="nav nav-tabs" ng-transclude></ul></div><div class=tab-content><div class=tab-pane ng-repeat="tab in vm.tabs" ng-class="{ active: tab.active }"><div ers-tab-content-transclude=tab></div></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("textbox/template/textbox-template.html","<div ng-form=subFormTextbox><input type=\"{{c.password ? 'password' : 'text'}}\" name={{::c.name}} placeholder={{c.placeholder}} ng-required=c.required ng-readonly=c.readOnly ng-disabled=c.ngDisabled ng-trim=false></div>")}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("toolbar/template/toolbar-template.html",'<div class=ers-toolbar><div class="toolbar-container toolbar-hz" ng-transclude></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tooltip/template/tooltip.tpl.html",'<div class=ers-tooltip ng-show="tooltip || title"><div class=tooltip-title ng-bind="tooltip || title"></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tree/template/tree.tpl.html",'<div class=ers-tree><ers-tree-items parent-item=root tabindex=0 tree-id={{treeId}} expand-icon={{expandIcon}} collapse-icon={{collapseIcon}} multiple-selection=multipleSelection selected-item=selectedItem item-renderer=itemRenderer item-loader=itemLoader tree-draggable=treeDraggable></ers-tree-items><div ng-transclude style="display: none"></div></div>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tree/template/treeitem.tpl.html",'<li draggable={{treeController.treeDraggable}}><a href=javascript:void(0) tabindex=0 draggable=false ng-class="{\'selected\': item.selected}" ng-click=onItemClick()><span class="indented expand-collapse-icon" ng-style="{\'left\': 25 * level}" ng-show="item.children.length > 0 || item.loading"><i class="fa fa-{{::collapseIcon}}" ng-show="item.collapsed && item.children.length > 0 && !item.loading" ng-click=item.expand($event)></i> <i class="fa fa-{{::expandIcon}}" ng-show="!item.collapsed && item.children.length > 0 && !item.loading" ng-click=item.collapse($event)></i> <span ng-show=item.loading><i class="fa fa-spinner fa-spin"></i></span></span> <span class="indented tree-item" ng-style="{\'left\': 25 * level, \'padding-right\': 25 * level + 5}" ers-tree-item-renderer-holder item-renderer=itemRenderer item=item><i class="tree-item-icon fa fa-{{::item.icon}}" ng-show="item.isLeaf && item.icon"></i><ers-label value={{item.label}}></ers-label></span></a></li>')}])}(),function(e){try{e=angular.module("ers.components.templates")}catch(t){e=angular.module("ers.components.templates",[])}e.run(["$templateCache",function(e){e.put("tree/template/treeitems.tpl.html",'<ul><ers-tree-item ng-if=ctrl.parentItem ng-repeat="item in ctrl.parentItem.children" item=item parent=ctrl level=ctrl.level collapse-icon=ctrl.collapseIcon expand-icon=ctrl.expandIcon item-renderer=ctrl.itemRenderer item-loader=ctrl.itemLoader></ers-tree-item></ul>')}])}();